"use strict";(self.webpackChunk_pdfme_website=self.webpackChunk_pdfme_website||[]).push([[751],{48888:(e,t,a)=>{a.d(t,{A:()=>L});var o=a(92991),r=a(63489),n=a(1108);const i=["qrcode","japanpost","ean13","ean8","code39","code128","nw7","itf14","upca","upce","gs1datamatrix"],l="#000000",c=!0,d=(e,t)=>{let a=!0;if(e.length===t){const t=e.slice(0,-1).replace(/[^0-9]/g,"");let o=0,r=1;for(let e=t.length-1;e>-1;e-=1)o+=Number(t[e])*(r?3:1),r^=1,o>0xffffffffffff&&(o%=10);a=String(10-o%10).slice(-1)===e.slice(-1)}return a},s=(e,t)=>{if(!t)return!1;if(!i.includes(e))return!1;if("qrcode"===e)return t.length<500;if("japanpost"===e){return/^(\d{7})(\d|[A-Z]|-)+$/.test(t)}if("ean13"===e){return/^\d{12}$|^\d{13}$/.test(t)&&d(t,13)}if("ean8"===e){return/^\d{7}$|^\d{8}$/.test(t)&&d(t,8)}if("code39"===e){return/^(\d|[A-Z]|\-|\.|\$|\/|\+|\%|\s)+$/.test(t)}if("code128"===e)return!t.match(/([\u30a0-\u30ff\u3040-\u309f\u3005-\u3006\u30e0-\u9fcf]|[\uff21-\uff3a\uff41-\uff5a\uff10-\uff19\uff01\uff02\uff03\uff04\uff05\uff06\uff07\uff08\uff09\uff0a\uff0b\uff0c\uff0d\uff0e\uff0f\uff1a\uff1b\uff1c\uff1d\uff1e\uff1f\uff20\uff3b\uff3c\uff3d\uff3e\uff3f\uff40\uff5b\uff5c\uff5d\u301c\u3000])+/);if("nw7"===e){return/^[A-Da-d]([0-9\-\.\$\:\/\+])+[A-Da-d]$/.test(t)}if("itf14"===e){return/^\d{13}$|^\d{14}$/.test(t)&&d(t,14)}if("upca"===e){return/^\d{11}$|^\d{12}$/.test(t)&&d(t,12)}if("upce"===e){return/^0(\d{6}$|\d{7}$)/.test(t)&&d(t,8)}if("gs1datamatrix"===e){let e=!1;const a=/\((01)\)(\d*)(\(|$)/;let o=t.match(a);if(null!=o&&t.length<=52&&"01"===o[1]&&(14===o[2].length||8===o[2].length||12===o[2].length||13===o[2].length)){let t=o[2];e=d(t,t.length)}return e}return!1},p=(e,t)=>e?e.replace("#",""):t?t.replace("#",""):"000000",h=async e=>{const{type:t,input:a,width:o,height:i,backgroundColor:l,barColor:d,textColor:s,includetext:h=c}=e,g=(e=>"nw7"===e?"rationalizedCodabar":e)(t),u={bcid:g,text:a,width:o,height:i,scale:5,includetext:h,textxalign:"center"};let m;if(l&&(u.backgroundcolor=p(l)),d&&(u.barcolor=p(d)),s&&(u.textcolor=p(s)),"undefined"!=typeof window){const e=document.createElement("canvas");n.Ay.toCanvas(e,u);const t=e.toDataURL("image/png");m=(0,r.Z5)(t).buffer}else m=await n.Ay.toBuffer(u);return m},g=async e=>{const{value:t,schema:a,pdfDoc:r,page:n,_cache:i}=e;if(!s(a.type,t))return;const l=((e,t)=>`${e.type}${e.backgroundColor}${e.barColor}${e.textColor}${t}${e.includetext}`)(a,t);let c=i.get(l);if(!c){const e=await h(Object.assign(a,{type:a.type,input:t}));c=await r.embedPng(e),i.set(l,c)}const d=n.getHeight(),{width:p,height:g,rotate:u,position:{x:m,y:b},opacity:f}=(0,o.hY)({schema:a,pageHeight:d});n.drawImage(c,{x:m,y:b,rotate:u,width:p,height:g,opacity:f})};var u=a(29777);const m={backgroundColor:"#ffffff",barColor:l},b={textColor:l},f={includetext:c},y={x:0,y:0},v={width:40,height:20},k=[{defaultSchema:{name:"",type:"qrcode",content:"https://pdfme.com/",position:y,...m,width:30,height:30,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"japanpost",content:"6540123789-A-K-Z",position:y,...m,...b,...f,width:80,height:7.2,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"ean13",content:"2112345678900",position:y,...m,...b,...f,...v,height:16,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"ean8",content:"02345673",position:y,...m,...b,...f,...v,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"code39",content:"THIS IS CODE 39",position:y,...m,...b,...f,...v,opacity:u.q}},{defaultSchema:{name:"",type:"code128",content:"This is Code 128!",position:y,...m,...b,...f,...v,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"nw7",content:"A0123456789B",position:y,...m,...b,...f,...v,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"itf14",content:"04601234567893",position:y,...m,...b,...f,...v,height:12,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"upca",content:"416000336108",position:y,...m,...b,...f,...v,height:16,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"upce",content:"00123457",position:y,...m,...b,...f,...v,rotate:0,opacity:u.q}},{defaultSchema:{name:"",type:"gs1datamatrix",content:"(01)03453120000011(17)191125(10)ABCD1234",position:y,...m,width:30,height:30,rotate:0,opacity:u.q}}],w=e=>{const t="qrcode"!==e&&"gs1datamatrix"!==e,a=k.find((t=>{let{defaultSchema:a}=t;return a.type===e}));if(!a)throw new Error(`[@pdfme/schemas/barcodes] No default for barcode type ${e}`);return{schema:e=>{let{i18n:a}=e;return{barColor:{title:a("schemas.barcodes.barColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:u.p,message:a("validation.hexColor")}]},backgroundColor:{title:a("schemas.bgColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:u.p,message:a("validation.hexColor")}]},...t?{textColor:{title:a("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0}},includetext:{title:a("schemas.barcodes.includetext"),type:"boolean",widget:"switch"}}:{}}},...a}},x={width:"100%",height:"100%"},C=async(e,t)=>{const a=await h({...e,input:t}),o=new Blob([new Uint8Array(a)],{type:"image/png"});var r;return await(r=o,new Promise(((e,t)=>{const a=new FileReader;a.onloadend=()=>e(a.result),a.onerror=t,a.readAsDataURL(r)})))},A=async e=>{const{value:t,rootElement:a,mode:r,onChange:n,stopEditing:i,tabIndex:l,placeholder:c,schema:d,theme:p}=e,h=document.createElement("div"),g={...x,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Open Sans', sans-serif"};Object.assign(h.style,g),a.appendChild(h);const u=(0,o.Xl)(r,d);if(u){const e=document.createElement("input"),a={width:"100%",position:"absolute",textAlign:"center",fontSize:"12pt",fontWeight:"bold",color:p.colorWhite,backgroundColor:u||t?(0,o.gs)("#000000",80):"none",border:"none",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"};Object.assign(e.style,a),e.value=t,e.placeholder=c||"",e.tabIndex=l||0,e.addEventListener("change",(e=>{n&&n({key:"content",value:e.target.value})})),e.addEventListener("blur",(()=>{i&&i()})),h.appendChild(e),e.setSelectionRange(t.length,t.length),"designer"===r&&e.focus()}if(t)try{if(!s(d.type,t))throw new Error("[@pdfme/schemas/barcodes] Invalid barcode input");const e=await(async(e,t)=>{const a=await C(e,t),o=document.createElement("img");o.src=a;const r={...x,borderRadius:0};return Object.assign(o.style,r),o})(d,t);h.appendChild(e)}catch(m){console.error(`[@pdfme/ui] ${m}`),h.appendChild((0,o.rA)())}};var S=a(55624),E=a(24351);const L=i.reduce(((e,t)=>Object.assign(e,{[t]:{pdf:g,ui:A,propPanel:w(t),icon:(0,o.Ci)("qrcode"==t?S.A:E.A)}})),{})},29777:(e,t,a)=>{a.d(t,{p:()=>r,q:()=>o});const o=1,r="^#(?:[A-Fa-f0-9]{6})$"},37751:(e,t,a)=>{a.r(t),a.d(t,{barcodes:()=>D.A,builtInPlugins:()=>fa,checkbox:()=>ba,date:()=>Yt,dateTime:()=>Xt,ellipse:()=>Z,image:()=>O,line:()=>$,multiVariableText:()=>m,radioGroup:()=>sa,rectangle:()=>Y,select:()=>ta,svg:()=>T,table:()=>Ce,text:()=>b.A,time:()=>Vt});var o=a(63760);const r=(e,t)=>{if(!e)return"";let a=e;if(t){const e="string"==typeof t?JSON.parse(t)||{}:t;Object.keys(e).forEach((t=>{const o=t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp("{"+o+"}","g");a=a.replace(r,e[t])}))}return a=a.replace(/{[^{}]+}/g,""),a};var n=a(96479);const i={schema:e=>{if("function"!=typeof n.e.schema)throw Error("Oops, is text schema no longer a function?");return{...n.e.schema(e),"-------":{type:"void",widget:"Divider"},dynamicVarContainer:{title:e.i18n("schemas.mvt.variablesSampleData"),type:"string",widget:"Card",span:24,properties:{dynamicVariables:{type:"object",widget:"mapDynamicVariables",bind:!1,span:24},placeholderDynamicVar:{title:"Placeholder Dynamic Variable",type:"string",format:"textarea",props:{id:"placeholder-dynamic-var",autoSize:{minRows:2,maxRows:5}},span:24}}}}},widgets:{...n.e.widgets,mapDynamicVariables:e=>{const{rootElement:t,changeSchemas:a,activeSchema:o,i18n:r,options:n}=e,i=o,c=i.text||"",d=JSON.parse(i.content)||{},s=l(c,d),p=Object.keys(d);s&&a([{key:"content",value:JSON.stringify(d),schemaId:o.id},{key:"variables",value:p,schemaId:o.id}]);const h=document.getElementById("placeholder-dynamic-var")?.closest(".ant-form-item");if(!h)throw new Error("Failed to find Ant form placeholder row to create dynamic variables inputs.");if(h.style.display="none",t.parentElement.style.display="block",p.length>0)for(let l of p){const e=h.cloneNode(!0),r=e.querySelector("textarea");r.id="dynamic-var-"+l,r.value=d[l],r.addEventListener("change",(e=>{d[l]=e.target.value,a([{key:"content",value:JSON.stringify(d),schemaId:o.id}])}));e.querySelector("label").innerText=l,e.style.display="block",t.appendChild(e)}else{const e=document.createElement("p");e.innerHTML=r("schemas.mvt.typingInstructions")+` <code style="color:${n?.theme?.token?.colorPrimary||"#168fe3"}; font-weight:bold;">{`+r("schemas.mvt.sampleField")+"}</code>",t.appendChild(e)}}},defaultSchema:{...n.e.defaultSchema,readOnly:!1,type:"multiVariableText",text:"Add text here using {} for variables ",width:50,height:15,content:"{}",variables:[]}},l=(e,t)=>{const a=e.match(/\{([^{}]+)}/g);let o=!1;if(a){for(const e of a){const a=e.replace("{","").replace("}","");a in t||(t[a]=a.toUpperCase(),o=!0)}Object.keys(t).forEach((e=>{a.includes("{"+e+"}")||(delete t[e],o=!0)}))}else Object.keys(t).forEach((e=>{delete t[e],o=!0}));return o};var c=a(558),d=a(92991);const s=async e=>{const{value:t,schema:a,rootElement:o,onChange:n,stopEditing:i,theme:l}=e,d=a.text;o.parentElement&&(o.parentElement.style.outline="");const s=JSON.parse(t)||{},h=p(d),g=r(d,s),u=await(0,c.OT)(e,g);let m=!1;for(let r=0;r<d.length;r++)if(h[r]){m=!0;let e=document.createElement("span");e.style.outline=`${l.colorPrimary} dashed 1px`,(0,c.N4)(e),e.textContent=s[h[r]],e.addEventListener("blur",(e=>{const t=e.target.textContent||"";t!==s[h[r]]&&(s[h[r]]=t,n&&n({key:"content",value:JSON.stringify(s)}),i&&i())})),u.appendChild(e)}else if(m)"}"===d[r]&&(m=!1);else{let e=document.createElement("span");e.style.letterSpacing=d.length===r+1?"0":"inherit",e.textContent=d[r],u.appendChild(e)}},p=e=>{const t=/\{([^}]+)}/g,a=[];let o;for(;null!==(o=t.exec(e));)a[o.index]=o[1];return a},h=e=>{const t=/\{([^}]+)}/g,a=new Set;let o;for(;null!==(o=t.exec(e));)a.add(o[1]);return a.size},g=e=>{if("ArrowUp"==e.key||"ArrowDown"==e.key||"ArrowLeft"==e.key||"ArrowRight"==e.key)return!1;const t=window.getSelection(),a=e.target;if(t?.focusOffset===a?.textContent?.length)return"}"===e.key||"Backspace"===e.key||"Delete"===e.key;return!(0===t?.anchorOffset)||("{"===e.key||"Backspace"===e.key||"Delete"===e.key)};var u=a(89851);const m={pdf:async e=>{const{value:t,schema:a,...n}=e;if(!((e,t)=>{if(0==t.variables.length)return!0;let a;try{a=e?JSON.parse(e):{}}catch(o){throw new SyntaxError(`[@pdfme/generator] invalid JSON string '${e}' for variables in field ${t.name}`)}for(const r of t.variables)if(!a[r]){if(t.required)throw new Error(`[@pdfme/generator] variable ${r} is missing for field ${t.name}`);return!1}return!0})(t,a))return;const i={value:r(a.text||"",t),schema:a,...n};await(0,o.f)(i)},ui:async e=>{const{value:t,schema:a,rootElement:o,mode:n,onChange:i,...l}=e;let p=a.text,u=a.variables.length;if("form"===n&&u>0)return void await s(e);await(0,c.nW)({value:(0,d.Xl)(n,a)?p:r(p,t),schema:a,mode:"form"==n?"viewer":n,rootElement:o,onChange:e=>{if(Array.isArray(e))throw new Error("onChange is not an array, the parent text plugin has changed...");{const t=h(e.value);i&&i([{key:"text",value:e.value},{key:"readOnly",value:0==t}])}},...l});const m=o.querySelector("#text-"+a.id);if(!m)throw new Error('Text block not found. Ensure the text block has an id of "text-" + schema.id');"designer"===n&&m.addEventListener("keyup",(e=>{if(p=m.textContent||"",g(e)){const e=h(p);u!==e&&(i&&i([{key:"text",value:p},{key:"readOnly",value:0==e}]),u=e)}}))},propPanel:i,icon:(0,d.Ci)(u.A),uninterruptedEditMode:!0};var b=a(51838),f=a(63489),y=a(90114),v=a(29777),k=a(38891);const w=new TextDecoder,x=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=e.length),w.decode(e.slice(t,a))},C=function(e,t){return void 0===t&&(t=0),256*e[t]+e[t+1]},A=function(e,t){return void 0===t&&(t=0),e[t]*2**24+65536*e[t+1]+256*e[t+2]+e[t+3]},S=(e,t)=>({height:C(e,t),width:C(e,t+2)}),E=(e,t)=>{if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")},L="CgBI",I={jpg:{validate:e=>"ffd8"===function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=e.length),e.slice(t,a).reduce(((e,t)=>e+("0"+t.toString(16)).slice(-2)),"")}(e,0,2),calculate(e){let t;for(e=e.slice(4);e.length;){const a=C(e,0);if(E(e,a),t=e[a+1],192===t||193===t||194===t){return S(e,a+5)}e=e.slice(a+2)}throw new TypeError("Invalid JPG, no size found")}},png:{validate(e){if("PNG\r\n\x1a\n"===x(e,1,8)){let t=x(e,12,16);if(t===L&&(t=x(e,28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:e=>x(e,12,16)===L?{height:A(e,36),width:A(e,32)}:{height:A(e,20),width:A(e,16)}}};const j=e=>{const t=function(e){const t={137:"png",255:"jpg"},a=e[0];if(a in t){const o=t[a];if(o&&I[o].validate(e))return o}return Object.keys(I).find((t=>I[t].validate(e)))}(e);if(void 0!==t&&t in I){const a=I[t].calculate(e);if(void 0!==a)return a}throw new TypeError("[@pdfme/schemas/images] Unsupported file type: "+(void 0===t?"undefined":t))},z={width:"100%",height:"100%"},H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAGQBAMAAAA+V+RCAAAAAXNSR0IArs4c6QAAABtQTFRFAAAAR3BMAAAAAAAAAAAAAAAAAAAAAAAAAAAAqmQqwQAAAAh0Uk5TDQAvVYGtxusE1uR9AAAKg0lEQVR42tTbwU7bQBDG8TWoPeOBPoBbdbhiVMGV0Kr0GChSe0RtRfccEOROnP0eu8ckTMHrjD27/h4Afvo7u4kUxZXbjuboZ+Hx9vrz+6J8eW5rJKPHhYfr46J/JHn0u/DnuHcko/eF71Ub0j6k3P1Rr0jGIHs4bkPah5RbnveHZMBQ6VKHlMqjnpCMAdfUApk8pNx91QeSMex+C2R2IYFwrkcyht6yEsjkIeXutEjG8AtnApldSGBRqJAMk10JZHYhgaZSIBlG+yWQipAGKZ0ipNmr0uUaEmiKLZEMw52tkLqQD7f6PT7iv1uskLqQV06/nQ9ffswhF+oVUhMS07KX7Xz6+8ot5BQhBVLF/Pry0XGKkAKpGp3IRz7pjmQMiSz3TvB8s85I8h2ReuWy6IpkDIws6UI8745I8oMjy10vnnc3JGN4ZPlRnO9OSPIWyL0LcZ93QTIskOXuXPz9eCR5G2R5io09dUEyjJD7c3kJudiQJkiZMtTxSIYZ8mAu/oGLDGmHLL9hfXfRSIYh8g3W18QiyVsh5VdtoYpEMsyQ8uhM4pDk7ZDyeU/jkAw7pHzesygkeUOkPN+LKCTDGsnP3nNcREhz5MHm8Y5AMkyRskvdjiRvi5Qvyst2JCMB8hBru2lFkjdGypty1opkpEDuY21PbUjy1kh5nS/akIwkyL2fWK0pXEtIc6Q83ssWJCMR8nTjNncxIe2Rh/FIRirkW6ytdjEh7ZHvopGMFEj5EWPiYkLaI/djkYyEyDlWu3SakOmRjIRIWkdOnSJkeiQjfyT5ESAZ+SPJjwDJyB9JfgRIRv5I8iNAMvJHkh8BkpE/kvwIkIz8keRHgGTkjyQ/AiQjfyT5ESAZ+SPJjwDJyB9JfgRIRv5I8iNAMjJF6kLi0gSpC4mJMZJ8tkhdSNQmSF3IUNkiGfkiVSHRFCZIVUgsShOkKiRmNkhVSNzYIFUhMbFBqkKGygapCtkUhkhW/JrUAqkJiakRUhMy1EZITcimsEOy4keaNkhFyFBbIRUhF4UZkv61dzfdaRtRGIBHtqFbXQn2RhizDdg1XprYsVk2TlxryYlTo2WP4yLtwaCf3dNGyu3wWkqaczQzizurAGb05M6HPtBcJT+/jtQU8ucDuekZQwaJc8MGkV33AonIloFAWkO+9NxHbi/IfeQDuY987rmP/AuN9pEYR/eQmP7MbeQ25Xx3lpBX3yuXJxETzSN//AxVkIIUpCAFKUhBClKQghSkIAUpSEEKUpCCFKQgBSlIQQpSkIIUpCAFKUhBClKQghSkIAUpSEEKUpCCFKQgmyy+AeRedKi/jKr+LvII3z25uru7uhx7jSL379PlW/3lB+/1v0vhg+B08XXD6edxM0h+ntJm9K2eGJ7FW3xw/88Ht7vw/65L8BpDtvQF/MdVC5wGxQdg5O08eE0hz4v1a3pe9AsI+AwX0QeasYhzE0g/0XKIhBks8dY/eNI6CqzeagYZZtqa7k7VysBjzD4xeG3ZUQNIVs11y3YKvYLXVfMQg3LbHJKbccjrF7FX8BP+MJD8fzCIXEGv4Mp4JGG5MIbEkLSgsk5FUgVjSFyKPoTKhlVrcU0hMYXDjCvTJlQsU5PIJ712rgzzp6dpxi/mJpFr7a+gMt7A5sM4Ornm/5whJH6rDW9PvhnHROQHZzwtmEFi5zqHymY707d/YwU5h8excGW8ubVHsNc3iFxh5VxZiJPAxGifxOm8C5V1sO4Do1MQTudDqKyNc0AQm5zMMSvhDCob5ti4Az4wMYZkQJBAZRMcXeSfpennnlkkN2WIlc1e2wn60dgjM0j8XqsaOSIohpFlmCZYWcyvrCK5w8VQme8OclVWjcjEMhKm805eidx4VpAIomN8L8gsI2E6P3cUuS3f5Kbdas2dcYewhnzOeDoPM36LI+kA8ikuTv34EOgyq4tkdFqm1Dg0hzwvdyjlW9uoLpL7i7wsy5ExZJun89lXzn4d8gYuD5hAdsoNlhWvwhpkmMHlARPIICsRnSKmdcgupOEzgqRZ+dWi4adBDbIN1zDMIIflBidFHXWRHFpCtop/+HExYwYOIovArYOM36icJ1t2kOXOcHNU1FgbyY4dZHlYsb0vRmxtJP3YChIfCR5kNUdBg8wKUm/CNUEkNaR/+vvjY2IayRXy69ojc6VUOcZH5pAU6y0Y7iCx6l8sICd6DUFWf7bIB8wmkS39jCwEJESS3zOGDLWjL45k5RWMoQVkkGhXCUJAwjVrHkxmkAWkpEAkJ+WW8LeeF6PIIVcAkYTrk9xP12QS2eWpnDcAV3pBsDKJ5CqfCCJ5gHV3IbgmkH5cVgeRrPn1IZ8bRPJw3Y4gkry5Z2/3F/GpWWS7nFMwkhTv3Bvi3/DWjCJDHgkcSfht8c2/xl9572QWGSRlt8NI8gni8jKK+tcZ753MImnIX+dI4i8SaZrmvG3TyE7GoeFI4hkDbMwkks6yfDkiiCR3SihrMo70+yeHBJHkL2L5ZB5Jvk8EkYT2hm2ZQnLBSOL1fh7bTSL//N/IIEHjdtT4XX+MnFduYOPV3fX3QI0gA/3+yVblA/j8BI7NbjBDfzNImmmXZ8PqVptBpwsTuMezIWRL23YQV+5/j3GHcpBoxrfUAJJZHLpB5a2aQYIN2r/nzWzeNnmf+SJNWRVcp+lnj14rR4t0uduge+/SvJH7zPGe+4i4+P3KexSik0McT9Hpu7s/7q7GnttrH3ylPFlFIkhBClKQghSkIAUpSEEKUpCCFKQgBSlIQQpSkIIUpCAFKUhBClKQghSkIAUpSEEKUpCCFKQgbSO7cPO35YKpKN5ryNxN5FR13ETm1cipK0hdpTTze1eQeifUkXNXkG0dubsY337B1HI68osryImO9BNct2W/zLSsFcqPIT+a/bKDUhp623Nwr7gmRecwmzs2l69I6dlxfrPuw2Q4T6SonTs2B2FKRkXd3L3hPdN3g4rC3LmREyT6OFE7SSOn9omYIlKRr7E/2SdiBiJFNHOsU6JIQbpLZ6ZynnAUHxY5M1N2NdCcSHE3deZAaLKbMkxxdF1pb/QoIordau+WxnkhIgXhXXt2jf4Mup8Cuu35vJNBwyo+MGK7Q8MmHxVIP4GV9tavXfD+pkDSOYTSmUCuqES2cgilxUDiXKPgE6sD3L+BeBVITKdxaws5gOcRlUh8hM3GSoNjAoX8iRgJ6VOeezaMmIpiykiehHiEe+aN/tmuYuMxktuby4NnxYitzchOjkrDLR6cZWCYMrIiXc7zoUnj3nX1s8ZUTbqc5eWhMeLpoibvkdJmemBejSPVeIn6V4ssr0nXo7QzNCxp+th4KVKEQXkmRvLQcaxcANKPXTO+eICkgWvIW0JkEDsWyB4hkgbuBRKRQexcIBFJA/cCichg5o5x7VUg6SCzTMN0YYikiSvIL1SNDGLnRg0i6ch2g2PeNUTSmQvIBwIknAtZLXgWiEgKY+sdckTfQ9J+Yte4eUOIhHJkQ4mJABGJSvvGeiT1F7aMyzH9KJL2biyN6zdUjUTlr6l54vZDj+qQWPrXmWEi5KUEJBa//26RGRMuP449+jEkprV8TLPGgenjx8uomkj0N73+g6V/XjknAAAAAElFTkSuQmCC",R={pdf:async e=>{const{value:t,schema:a,pdfDoc:o,page:r,_cache:n}=e;if(!t)return;const i=((e,t)=>`${e.type}${t}`)(a,t);let l=n.get(i);if(!l){const e=t.startsWith("data:image/png;");l=await(e?o.embedPng(t):o.embedJpg(t)),n.set(i,l)}const c={...a,position:{...a.position}},s=(e=>{const t=";base64,",a=e.indexOf(t),o=e.substring(a+8,e.length);return j(k.hp.from(o,"base64"))})(t),p=(0,f.Nz)(s.width),h=(0,f.Nz)(s.height),g=c.width,u=c.height,m=p/h;m>g/u?(c.width=g,c.height=g/m,c.position.y+=(u-c.height)/2):(c.width=u*m,c.height=u,c.position.x+=(g-c.width)/2);const b=r.getHeight(),y=(0,d.hY)({schema:c,pageHeight:b}),{width:v,height:w,rotate:x,position:C,opacity:A}=y,{x:S,y:E}=C,L={x:S,y:E,rotate:x,width:v,height:w,opacity:A};r.drawImage(l,L)},ui:e=>{const{value:t,rootElement:a,mode:o,onChange:r,stopEditing:n,tabIndex:i,placeholder:l,theme:c,schema:s}=e,p=(0,d.Xl)(o,s),h=t===H,g=document.createElement("div"),u=l?`url(${l})`:"none",m={...z,backgroundImage:t?"none":u,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"};if(Object.assign(g.style,m),g.addEventListener("click",(e=>{p&&e.stopPropagation()})),a.appendChild(g),t){const e=document.createElement("img"),a={height:"100%",width:"100%",borderRadius:0,objectFit:"contain"};Object.assign(e.style,a),e.src=t,g.appendChild(e)}if(t&&!h&&p){const e=document.createElement("button");e.textContent="x";const t={position:"absolute",top:0,left:0,zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",color:"#333",background:"#f2f2f2",borderRadius:"2px",border:"1px solid #767676",cursor:"pointer",height:"24px",width:"24px"};Object.assign(e.style,t),e.addEventListener("click",(()=>{r&&r({key:"content",value:""})})),g.appendChild(e)}if((!t||h)&&p){const e=document.createElement("label"),a={...z,display:p?"flex":"none",position:"absolute",top:0,backgroundColor:p||t?(0,d.gs)(c.colorPrimaryBg,30):"none",cursor:"pointer"};Object.assign(e.style,a),g.appendChild(e);const o=document.createElement("input"),l={...z,position:"absolute",top:"50%",left:"50%",width:"180px",height:"30px",marginLeft:"-90px",marginTop:"-15px"};Object.assign(o.style,l),o.tabIndex=i||0,o.type="file",o.accept="image/jpeg, image/png",o.addEventListener("change",(e=>{const t=e;(0,d.TA)(t.target.files).then((e=>{r&&r({key:"content",value:e})})).catch((e=>{console.error("Error reading file:",e)}))})),o.addEventListener("blur",(()=>n&&n())),e.appendChild(o)}},propPanel:{schema:{},defaultSchema:{name:"",type:"image",content:H,position:{x:0,y:0},width:40,height:40,rotate:0,opacity:v.q}},icon:(0,d.Ci)(y.A)},O=R;var N=a(78394),P=a(5602);const W=e=>!0===N.XMLValidator.validate(e),M={ui:e=>{const{rootElement:t,value:a,mode:o,onChange:r,theme:n,schema:i}=e,l=document.createElement((0,d.Xl)(o,i)?"textarea":"div");if(l.style.width="100%",l.style.height="100%",l.style.boxSizing="border-box",(0,d.Xl)(o,i)){const e=l;if(e.value=a,e.style.position="absolute",e.style.backgroundColor=(0,d.gs)(n.colorPrimaryBg,30),W(a)){const e=(new DOMParser).parseFromString(a,"text/xml").childNodes[0];e instanceof SVGElement&&(e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.style.position="absolute"),t.appendChild(e)}else if(a){const e=(0,d.rA)();e.style.position="absolute",t.appendChild(e)}e.addEventListener("change",(e=>{const t=e.target.value;r&&r({key:"content",value:t})})),t.appendChild(l),e.setSelectionRange(a.length,a.length),e.focus()}else{if(!a)return;if(!W(a))return void t.appendChild((0,d.rA)());l.innerHTML=a;const e=l.childNodes[0];e instanceof SVGElement&&(e.setAttribute("width","100%"),e.setAttribute("height","100%"),t.appendChild(l))}},pdf:async e=>{const{page:t,schema:a,value:o}=e;if(!o||!W(o))return;const r=t.getHeight(),{width:n,height:i,position:l}=(0,d.hY)({schema:a,pageHeight:r}),{x:c,y:s}=l;await t.drawSvg(o,{x:c,y:s+i,width:n,height:i})},propPanel:{schema:{},defaultSchema:{name:"",type:"svg",content:'<svg viewBox="0 0 488 600" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g transform="matrix(1,0,0,1,-56,0)" fill="#000000" stroke="none">\n        <path d="M228.667,0L56,172.667L56.267,345.334L56.667,518L59.733,527.334C65.867,545.467 72.933,557.067 86,570.134C96.133,580.4 100,583.2 110.667,588.4C134.533,600.134 120,599.334 300,599.334C480,599.334 465.467,600.134 489.334,588.4C500,583.2 503.867,580.4 514,570.134C527.334,556.8 534.534,544.8 540.267,526.667L543.334,516.667L543.334,83.333L540.267,73.333C534.534,55.2 527.334,43.2 514,29.867C503.867,19.6 500,16.8 489.334,11.6C465.734,0 475.467,0.8 344.667,0.267L228.667,0ZM466.4,41.6C483.334,48.933 496.267,61.867 502.934,78.4L506,86L506,514L502.934,521.734C496,538.934 480.267,553.867 463.334,559.334C455.6,561.867 450.8,562 300,562C149.2,562 144.4,561.867 136.667,559.334C119.733,553.867 104,538.934 97.067,521.734L94,514L93.6,351.067L93.333,188.133L149.067,187.733L204.667,187.333L213.6,182.933C224.8,177.467 235.867,165.867 240.267,155.067C243.333,147.467 243.333,146.4 243.733,92.267L244.133,37.2L458,38L466.4,41.6ZM195.067,304C175.6,306.8 164,320.667 165.6,339.467C166,343.6 167.6,348.667 169.733,352.4C174.4,360.267 185.2,365.734 201.867,368.534C208.4,369.734 215.067,371.467 216.8,372.667C224,377.334 221.467,389.067 212.533,392C205.6,394.4 193.733,392.934 185.6,388.8C173.333,382.534 164,385.334 164,395.2C164,400.934 170.133,406.667 180.267,410.134C190.933,413.867 217.067,413.734 225.467,409.867C238.933,403.6 246.667,390 244.8,375.6C242.667,359.734 232.8,351.334 212.267,347.867C193.6,344.8 189.333,342.4 189.333,334.533C189.333,324.267 201.867,320.933 218.267,326.667C228.667,330.267 232.533,330.133 235.867,325.867C242.133,318 237.6,310.667 224.267,306.8C213.333,303.6 204.267,302.8 195.067,304ZM386,304.133C377.6,305.333 374,306.8 367.334,311.6C355.734,320.133 351.2,336.4 352.4,365.334C353.2,385.334 356,394.4 364.134,402.534C372.267,410.667 381.734,413.734 396.667,413.067C406.8,412.667 409.734,412 415.734,408.667C429.2,401.334 434.534,390.934 435.6,370.667C436.4,353.734 436,353.067 420.934,352.267C401.867,351.334 396,353.467 396,361.867C396,367.867 399.467,370.667 407.067,370.667C413.2,370.667 413.334,370.667 413.334,374.934C413.334,394 386.267,400.534 378.534,383.467C374.934,375.334 374.934,341.867 378.534,333.733C382,326.4 387.467,323.467 396.8,324.267C403.067,324.8 404.667,325.6 410.534,331.067C414.267,334.533 418.4,337.333 419.867,337.333C427.334,337.333 433.334,330.267 431.334,323.733C427.2,310.133 406.4,301.2 386,304.133ZM258.4,308C255.067,311.467 254.533,312.8 255.2,316.4C257.067,326.667 285.333,405.867 288.133,408.8C289.733,410.534 293.067,412.267 295.333,412.8C303.867,414.4 310.667,407.867 314.4,394.667C315.067,392.134 321.2,374.134 327.867,354.8C334.8,334.533 340,317.467 340,314.533C340,303.733 325.067,299.867 319.867,309.467C318.533,312.133 309.467,340.933 302.667,364C301.067,369.467 299.333,374.4 298.8,375.067C298.267,375.6 292.933,360.8 286.933,342C275.333,306 274.133,304 266.267,304C263.867,304 261.067,305.467 258.4,308Z" style="fill-rule:nonzero;"/>\n    </g>\n</svg>',position:{x:0,y:0},width:40,height:50}},icon:(0,d.Ci)(P.A)},T=M;var D=a(48888),J=a(12139);const B="#000000",F={pdf:e=>{const{page:t,schema:a,options:o}=e;if(0===a.width||0===a.height||!a.color)return;const{colorType:r}=o,n=t.getHeight(),{width:i,height:l,rotate:c,position:{x:s,y:p},opacity:h}=(0,d.hY)({schema:a,pageHeight:n,applyRotateTranslate:!1}),g={x:s+i/2,y:p+l/2};t.drawLine({start:(0,d.sR)({x:s,y:p+l/2},g,c.angle),end:(0,d.sR)({x:s+i,y:p+l/2},g,c.angle),thickness:l,color:(0,d.gD)(a.color??B,r),opacity:h})},ui:e=>{const{schema:t,rootElement:a}=e,o=document.createElement("div");o.style.backgroundColor=t.color??"transparent",o.style.width="100%",o.style.height="100%",a.appendChild(o)},propPanel:{schema:e=>{let{i18n:t}=e;return{color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},required:!0,rules:[{pattern:v.p,message:t("validation.hexColor")}]}}},defaultSchema:{name:"",type:"line",position:{x:0,y:0},width:50,height:.5,rotate:0,opacity:1,readOnly:!0,color:B}},icon:(0,d.Ci)(J.A)},$=F;var G=a(38640),U=a(57296),K=a(90175);const X={ui:e=>{const{schema:t,rootElement:a}=e,o=document.createElement("div");o.style.width="100%",o.style.height="100%",o.style.boxSizing="border-box","ellipse"===t.type&&(o.style.borderRadius="50%"),o.style.borderWidth=`${t.borderWidth??0}mm`,o.style.borderStyle=t.borderWidth&&t.borderColor?"solid":"none",o.style.borderColor=t.borderColor??"transparent",o.style.backgroundColor=t.color??"transparent",a.appendChild(o)},pdf:e=>{const{schema:t,page:a,options:o}=e;if(!t.color&&!t.borderColor)return;const{colorType:r}=o,n={schema:t,pageHeight:a.getHeight()},{position:i,width:l,height:c,rotate:s,opacity:p}=(0,d.hY)(n),{position:{x:h,y:g}}=(0,d.hY)({...n,applyRotateTranslate:!1}),u=t.borderWidth?(0,f.JX)(t.borderWidth):0,m={rotate:s,borderWidth:u,borderColor:(0,d.gD)(t.borderColor,r),color:(0,d.gD)(t.color,r),opacity:p,borderOpacity:p};"ellipse"===t.type?a.drawEllipse({x:h+l/2,y:g+c/2,xScale:l/2-u/2,yScale:c/2-u/2,...m}):"rectangle"===t.type&&a.drawRectangle({x:i.x+u*((1-Math.sin((0,G.toRadians)(s)))/2)+Math.tan((0,G.toRadians)(s))*Math.PI**2,y:i.y+u*((1+Math.sin((0,G.toRadians)(s)))/2)+Math.tan((0,G.toRadians)(s))*Math.PI**2,width:l-u,height:c-u,...m})},propPanel:{schema:e=>{let{i18n:t}=e;return{borderWidth:{title:t("schemas.borderWidth"),type:"number",widget:"inputNumber",props:{min:0},step:1},borderColor:{title:t("schemas.borderColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:t("validation.hexColor")}]},color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:t("validation.hexColor")}]}}},defaultSchema:{name:"",type:"rectangle",position:{x:0,y:0},width:62.5,height:37.5,rotate:0,opacity:1,borderWidth:1,borderColor:"#000000",color:"",readOnly:!0}}},Q=e=>({...X.propPanel,defaultSchema:{...X.propPanel.defaultSchema,type:e}}),Y={...X,propPanel:Q("rectangle"),icon:(0,d.Ci)(U.A)},Z={...X,propPanel:Q("ellipse"),icon:(0,d.Ci)(K.A)};var V=a(34090),q=a(23590);const _=$.pdf,ee=Y.pdf,te=async(e,t,a,o,r)=>_({...e,schema:{...t,type:"line",position:a,width:o,height:r,color:t.borderColor}}),ae=(e,t,a,o,r,n,i)=>{const l=document.createElement("div");return l.style.width=e,l.style.height=t,l.style.position="absolute",null!==a&&(l.style.top=a),null!==o&&(l.style.right=o),null!==r&&(l.style.bottom=r),null!==n&&(l.style.left=n),l.style.backgroundColor=i,l},oe={pdf:async e=>{const{schema:t}=e,{position:a,width:r,height:n,borderWidth:i,padding:l}=t;await Promise.all([ee({...e,schema:{...t,type:"rectangle",width:t.width,height:t.height,borderWidth:0,borderColor:"",color:t.backgroundColor}}),te(e,t,{x:a.x,y:a.y},r,i.top),te(e,t,{x:a.x+r-i.right,y:a.y},i.right,n),te(e,t,{x:a.x,y:a.y+n-i.bottom},r,i.bottom),te(e,t,{x:a.x,y:a.y},i.left,n)]),await(0,o.f)({...e,schema:{...t,type:"text",backgroundColor:"",position:{x:a.x+i.left+l.left,y:a.y+i.top+l.top},width:r-i.left-i.right-l.left-l.right,height:n-i.top-i.bottom-l.top-l.bottom}})},ui:async e=>{const{schema:t,rootElement:a}=e,{borderWidth:o,width:r,height:n,borderColor:i,backgroundColor:l}=t;a.style.backgroundColor=l;const d=(e=>{const{borderWidth:t,width:a,height:o,padding:r}=e,n=document.createElement("div");return n.style.position="absolute",n.style.zIndex="1",n.style.width=a-t.left-t.right-r.left-r.right+"mm",n.style.height=o-t.top-t.bottom-r.top-r.bottom+"mm",n.style.top=`${t.top+r.top}mm`,n.style.left=`${t.left+r.left}mm`,n})(t);await(0,c.nW)({...e,schema:{...t,backgroundColor:""},rootElement:d}),a.appendChild(d);[ae(`${r}mm`,`${o.top}mm`,"0mm",null,null,"0mm",i),ae(`${r}mm`,`${o.bottom}mm`,null,null,"0mm","0mm",i),ae(`${o.left}mm`,`${n}mm`,"0mm",null,null,"0mm",i),ae(`${o.right}mm`,`${n}mm`,"0mm","0mm",null,null,i)].forEach((e=>a.appendChild(e)))},propPanel:{schema:e=>{let{options:t,i18n:a}=e;const o=t.font||{[V.eG]:{data:"",fallback:!0}},r=Object.keys(o),n=(0,f.HK)(o);return(0,q.HQ)({i18n:a,fontNames:r,fallbackFontName:n})},defaultSchema:{name:"",type:"cell",content:"Type Something...",position:{x:0,y:0},width:50,height:15,...(0,q.gI)()}}},re=oe;var ne=a(85142);const ie=Y.pdf,le=re.pdf;async function ce(e,t){await le({...e,value:t.raw,schema:{name:"",type:"cell",position:{x:t.x,y:t.y},width:t.width,height:t.height,fontName:t.styles.fontName,alignment:t.styles.alignment,verticalAlignment:t.styles.verticalAlignment,fontSize:t.styles.fontSize,lineHeight:t.styles.lineHeight,characterSpacing:t.styles.characterSpacing,backgroundColor:t.styles.backgroundColor,fontColor:t.styles.textColor,borderColor:t.styles.lineColor,borderWidth:t.styles.lineWidth,padding:t.styles.cellPadding}})}async function de(e,t,a,o,r){o.x=t.settings.margin.left;for(const n of r){const t=a.cells[n.index];t?(t.x=o.x,t.y=o.y,await ce(e,t),o.x+=n.width):o.x+=n.width}o.y+=a.height}async function se(e,t){const a=t.settings,o=a.startY,r={x:a.margin.left,y:o},n=Object.assign({},r);if(a.showHead)for(const i of t.head)await de(e,t,i,r,t.columns);for(const i of t.body)await de(e,t,i,r,t.columns);await async function(e,t,a,o){const r=t.settings.tableLineWidth,n=t.settings.tableLineColor;r&&n&&await ie({...e,schema:{name:"",type:"rectangle",borderWidth:r,borderColor:n,color:"",position:{x:a.x,y:a.y},width:t.getWidth(),height:o.y-a.y,readOnly:!0}})}(e,t,n,r)}const pe=30;function he(e){const t=document.createElement("button");return t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.position="absolute",t.style.top=e.top,void 0!==e.left&&(t.style.left=e.left),void 0!==e.right&&(t.style.right=e.right),t.innerText=e.text,t.onclick=e.onClick,t}const ge=re.ui,ue=(e,t,a)=>{e.style[`border${t}`]=`${String(a.schema.tableStyles.borderWidth)}mm solid ${a.schema.tableStyles.borderColor}`},me=e=>{const{rows:t,arg:a,onChangeEditingPosition:o,offsetY:r=0,editingPosition:n}=e,i=JSON.parse(a.value||"[]");let l=r;t.forEach(((e,r)=>{const{cells:c,height:d,section:s}=e;let p=0;Object.values(c).forEach(((c,d)=>{const h=document.createElement("div");h.style.position="absolute",h.style.top=`${l}mm`,h.style.left=`${p}mm`,h.style.width=`${c.width}mm`,h.style.height=`${c.height}mm`,h.style.boxSizing="border-box",((e,t,a,o,r,n)=>{const i=0===a,l=a===Object.values(t.cells).length-1,c=o===r-1;"head"===t.section?(ue(e,"Top",n),i&&ue(e,"Left",n),l&&ue(e,"Right",n),0===JSON.parse(n.value||"[]").length&&ue(e,"Bottom",n)):"body"===t.section&&(n.schema.showHead||0!==o||ue(e,"Top",n),i&&ue(e,"Left",n),l&&ue(e,"Right",n),c&&ue(e,"Bottom",n))})(h,e,d,r,t.length,a),h.style.cursor="designer"===a.mode||"form"===a.mode&&"body"===s?"text":"default",h.addEventListener("click",(()=>{"viewer"!==a.mode&&o({rowIndex:r,colIndex:d})})),a.rootElement.appendChild(h);const g=n.rowIndex===r&&n.colIndex===d;let u="viewer";var m;"form"===a.mode?u="body"===s&&g&&!a.schema.readOnly?"designer":"viewer":"designer"===a.mode&&(u=g?"designer":"form"),ge({...a,stopEditing:()=>{"form"===a.mode&&ye()},mode:u,onChange:e=>{if(!a.onChange)return;const t=Array.isArray(e)?e[0].value:e.value;if("body"===s){const e=a.schema.__bodyRange?.start??0;i[r+e][d]=t,a.onChange({key:"content",value:JSON.stringify(i)})}else{const e=[...a.schema.head];e[d]=t,a.onChange({key:"head",value:e})}},value:c.raw,placeholder:"",rootElement:h,schema:{name:"",type:"cell",content:c.raw,position:{x:p,y:l},width:c.width,height:c.height,...(m=c.styles,{fontName:m.fontName,alignment:m.alignment,verticalAlignment:m.verticalAlignment,fontSize:m.fontSize,lineHeight:m.lineHeight,characterSpacing:m.characterSpacing,backgroundColor:m.backgroundColor,fontColor:m.textColor,borderColor:m.lineColor,borderWidth:m.lineWidth,padding:m.cellPadding})}}),p+=c.width})),l+=d}))},be={rowIndex:-1,colIndex:-1},fe={rowIndex:-1,colIndex:-1},ye=()=>{be.rowIndex=-1,be.colIndex=-1,fe.rowIndex=-1,fe.colIndex=-1},ve=async e=>{const{rootElement:t,onChange:a,schema:o,value:r,mode:n}=e,i=(0,q.lZ)(r),l=(0,q.Uj)(r,o.__bodyRange),c=await(0,ne.v)(l,e),d=c.settings.showHead;t.innerHTML="";const s=(t,a)=>{ye(),a.rowIndex=t.rowIndex,a.colIndex=t.colIndex,ve(e)};d&&me({rows:c.head,arg:e,editingPosition:be,onChangeEditingPosition:e=>s(e,be)});const p=d?c.getHeadHeight():0;me({rows:c.body,arg:e,editingPosition:fe,onChangeEditingPosition:e=>{s(e,fe)},offsetY:p});const h=()=>he({width:pe,height:pe,top:`${c.getHeight()}mm`,left:"calc(50% - 15px)",text:"+",onClick:()=>{const e=Array(o.head.length).fill("");a&&a({key:"content",value:JSON.stringify(i.concat([e]))})}}),g=()=>{let e=d?c.getHeadHeight():0;return c.body.map(((t,r)=>{e+=t.height;return he({width:pe,height:pe,top:e-(0,f.Nz)(pe)+"mm",right:"-30px",text:"-",onClick:()=>{const e=i.filter(((e,t)=>t!==r+(o.__bodyRange?.start??0)));a&&a({key:"content",value:JSON.stringify(e)})}})}))};if("form"===n&&a&&!o.readOnly&&((void 0===o.__bodyRange?.end||o.__bodyRange.end>=JSON.parse(r||"[]").length)&&t.appendChild(h()),g().forEach((e=>t.appendChild(e)))),"designer"===n&&a){const e=he({width:pe,height:pe,top:(d?c.getHeadHeight():0)-(0,f.Nz)(pe)+"mm",right:"-30px",text:"+",onClick:e=>{e.preventDefault();const t=75/o.headWidthPercentages.reduce(((e,t)=>e+t),0),r=o.headWidthPercentages.map((e=>e*t));a([{key:"head",value:o.head.concat(`Head ${o.head.length+1}`)},{key:"headWidthPercentages",value:r.concat(25)},{key:"content",value:JSON.stringify(l.map(((e,t)=>e.concat(`Row ${t+1}`))))}])}});t.appendChild(e),t.appendChild(h()),g().forEach((e=>t.appendChild(e)));let r=0;c.columns.forEach(((e,n,i)=>{if(1===i.length)return;r+=e.width;const d=he({width:pe,height:pe,top:"-30px",left:r-(0,f.Nz)(pe)+"mm",text:"-",onClick:()=>{const e=o.headWidthPercentages.reduce(((e,t,a)=>a!==n?e+t:e),0);a([{key:"head",value:o.head.filter(((e,t)=>t!==n))},{key:"headWidthPercentages",value:o.headWidthPercentages.filter(((e,t)=>t!==n)).map((t=>t/e*100))},{key:"content",value:JSON.stringify(l.map((e=>e.filter(((e,t)=>t!==n)))))}])}});if(t.appendChild(d),n===c.columns.length-1)return;const s=document.createElement("div");s.style.width="5px",s.style.height="100%",s.style.backgroundColor="#eee",s.style.opacity="0.5",s.style.cursor="col-resize",s.style.position="absolute",s.style.zIndex="10",s.style.left=r-(0,f.Nz)(5)/2+"mm",s.style.top="0";const p=e=>{e.target.style.backgroundColor="#2196f3"},h=e=>{e.target.style.backgroundColor="#eee"};s.addEventListener("mouseover",p),s.addEventListener("mouseout",h);const g=r-e.width,u=r-(0,f.Nz)(5)+c.columns[n+1].width;s.addEventListener("mousedown",(e=>{ye();const r=e.target;s.removeEventListener("mouseover",p),s.removeEventListener("mouseout",h);let i=0;const l=e=>{let t=e.movementX;const a=Number(r.style.left.replace("mm",""));let o=a+t;o<g&&(o=g,t=o-a),o>=u&&(o=u,t=o-a),r.style.left=`${o}mm`,i+=t};t.addEventListener("mousemove",l);const d=()=>{if(0!==i){const e=(e=>{const{currentHeadWidthPercentages:t,currentHeadWidths:a,changedHeadWidth:o,changedHeadIndex:r}=e,n=[...t],i=o/a.reduce(((e,t)=>e+t),0)*100,l=n[r+1]??0,c=n[r]-i;return n[r]=i,r+1<n.length&&(n[r+1]=l+c),n})({currentHeadWidthPercentages:o.headWidthPercentages,currentHeadWidths:c.columns.map((e=>e.width)),changedHeadWidth:c.columns[n].width+i,changedHeadIndex:n});a({key:"headWidthPercentages",value:e})}i=0,s.addEventListener("mouseover",p),s.addEventListener("mouseout",h),t.removeEventListener("mousemove",l),t.removeEventListener("mouseup",d)};t.addEventListener("mouseup",d)})),t.appendChild(s)}))}"viewer"===n&&ye();const u=d?c.getHeight():c.getBodyHeight();o.height!==u&&a&&a({key:"height",value:u})},ke={schema:e=>{let{activeSchema:t,options:a,i18n:o}=e;const r=t,n=r.head||[],i=r.showHead||!1,l=a.font||{[V.eG]:{data:"",fallback:!0}},c=Object.keys(l),d=(0,f.HK)(l);return{showHead:{title:o("schemas.table.showHead"),type:"boolean",widget:"checkbox",span:24},"-------":{type:"void",widget:"Divider"},tableStyles:{title:o("schemas.table.tableStyle"),type:"object",widget:"Card",span:24,properties:{borderWidth:{title:o("schemas.borderWidth"),type:"number",widget:"inputNumber",props:{min:0,step:.1},step:1},borderColor:{title:o("schemas.borderColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:o("validation.hexColor")}]}}},headStyles:{hidden:!i,title:o("schemas.table.headStyle"),type:"object",widget:"Card",span:24,properties:(0,q.HQ)({i18n:o,fallbackFontName:d,fontNames:c})},bodyStyles:{title:o("schemas.table.bodyStyle"),type:"object",widget:"Card",span:24,properties:(0,q.HQ)({i18n:o,fallbackFontName:d,fontNames:c,isBody:!0})},columnStyles:{title:o("schemas.table.columnStyle"),type:"object",widget:"Card",span:24,properties:(0,q.HG)({head:n,i18n:o})}}},defaultSchema:{name:"",type:"table",position:{x:0,y:0},width:150,height:20,content:JSON.stringify([["Alice","New York","Alice is a freelance web designer and developer"],["Bob","Paris","Bob is a freelance illustrator and graphic designer"]]),showHead:!0,head:["Name","City","Description"],headWidthPercentages:[30,30,40],tableStyles:{borderColor:"#000000",borderWidth:.3},headStyles:Object.assign((0,q.gI)(),{fontColor:"#ffffff",backgroundColor:"#2980ba",borderColor:"",borderWidth:{top:0,right:0,bottom:0,left:0}}),bodyStyles:Object.assign((0,q.gI)(),{alternateBackgroundColor:"#f5f5f5"}),columnStyles:{}}};var we=a(31839);const xe={pdf:async e=>{const{value:t,schema:a}=e,o=(0,q.Uj)("string"!=typeof t?JSON.stringify(t||"[]"):t,a.__bodyRange),r=await(0,ne.v)(o,e);await se(e,r)},ui:ve,propPanel:ke,icon:(0,d.Ci)(we.A)},Ce=xe;var Ae=a(87976),Se=a(80036),Ee=a(33284),Le=a(80051),Ie=a(51653),je=a(38576),ze=a(14300),He=a(51710),Re=a(7252),Oe=a(33063),Ne=a(97477),Pe=a(71606),We=a(94315),Me=a(80549),Te=a(31632),De=a(5306),Je=a(35722),Be=a(6058),Fe=a(90105),$e=a(17603),Ge=a(93361),Ue=a(65183),Ke=a(64119),Xe=a(34932),Qe=a(58543),Ye=a(91244),Ze=a(36430),Ve=a(55659),qe=a(15693),_e=a(23256),et=a(48906),tt=a(98857),at=a(46639),ot=a(1457),rt=a(36631),nt=a(61658),it=a(2285),lt=a(22131),ct=a(15487),dt=a(14321),st=a(21477),pt=a(17458),ht=a(9252),gt=a(18902),ut=a(67696),mt=a(82393),bt=a(67427),ft=a(78884),yt=a(82350),vt=a(19172),kt=a(78834),wt=a(80382),xt=a(60158),Ct=a(35752),At=a(33338),St=a(90464),Et=a(65537),Lt=a(27286),It=a(78449),jt=a(89588),zt=a(56897),Ht=a(79001),Rt=a(50275),Ot=a(67688),Nt=a(90212),Pt=a(14316),Wt=a(13011),Mt=a(37967),Tt=a(1689);const Dt={ar:{label:"Arabic",adLocale:Se.A,formatLocale:rt.ar},bg:{label:"Bulgarian",adLocale:Ee.A,formatLocale:nt.bg},ca:{label:"Catalan",adLocale:Le.A,formatLocale:it.ca},cs:{label:"Czech",adLocale:Ie.A,formatLocale:lt.cs},da:{label:"Danish",adLocale:je.A,formatLocale:ct.da},de:{label:"German",adLocale:ze.A,formatLocale:dt.de},el:{label:"Greek",adLocale:He.A,formatLocale:st.el},en:{label:"English",adLocale:Re.A,formatLocale:pt.c},es:{label:"Spanish",adLocale:Oe.A,formatLocale:ht.es},eu:{label:"Basque",adLocale:Ne.A,formatLocale:gt.eu},fi:{label:"Finnish",adLocale:Pe.A,formatLocale:ut.fi},fr:{label:"French",adLocale:We.A,formatLocale:mt.fr},hr:{label:"Croatian",adLocale:Me.A,formatLocale:bt.hr},hu:{label:"Hungarian",adLocale:Te.A,formatLocale:ft.hu},id:{label:"Indonesian",adLocale:De.A,formatLocale:yt.id},it:{label:"Italian",adLocale:Je.A,formatLocale:vt.it},ja:{label:"Japanese",adLocale:Be.A,formatLocale:kt.ja},ko:{label:"Korean",adLocale:Fe.A,formatLocale:wt.ko},nb:{label:"Norwegian Bokm\xe5l",adLocale:$e.A,formatLocale:xt.nb},nl:{label:"Dutch",adLocale:Ge.A,formatLocale:Ct.nl},pl:{label:"Polish",adLocale:Ke.A,formatLocale:At.pl},"pt-Br":{label:"Portuguese",adLocale:Xe.A,formatLocale:St.F},pt:{label:"Portuguese",adLocale:Qe.A,formatLocale:Et.pt},ro:{label:"Romanian",adLocale:Ye.A,formatLocale:Lt.ro},ru:{label:"Russian",adLocale:Ze.A,formatLocale:It.ru},si:{label:"Sinhala",adLocale:Ve.A,formatLocale:pt.c},sk:{label:"Slovak",adLocale:qe.A,formatLocale:jt.sk},sl:{label:"Slovenian",adLocale:_e.A,formatLocale:zt.sl},sv:{label:"Swedish",adLocale:et.A,formatLocale:Ht.sv},th:{label:"Thai",adLocale:Ue.A,formatLocale:Rt.th},tr:{label:"Turkish",adLocale:tt.A,formatLocale:Ot.tr},uk:{label:"Ukrainian",adLocale:at.A,formatLocale:Nt.uk},zh:{label:"Chinese",adLocale:ot.A,formatLocale:Pt.g}},Jt=e=>{const t=Dt[e];if(!t)throw new Error(`Unsupported locale: ${e}`);return t},Bt=(e,t)=>{if(!e.trim())return new Date;if("time"===t){return/^\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}$/.test(e)?new Date(e.replace(/\//g,"-").replace(" ","T")):new Date(`2021-01-01T${e}`)}return new Date(e)},Ft=(e,t)=>{switch(e){case"date":return t.adLocale.dateFormat;case"time":return"HH:mm";case"dateTime":return`${t.adLocale.dateFormat} ${t.adLocale.timeFormat}`}},$t=(e,t,a,o)=>e?(0,Wt.GP)(Bt(e,t),a.format,{locale:o.formatLocale}):"",Gt=(e,t)=>{const a=(()=>{switch(t){case"date":return"yyyy/MM/dd";case"time":return"HH:mm";case"dateTime":return"yyyy/MM/dd HH:mm"}})();return e?(0,Wt.GP)(e,a):""},Ut=e=>{let{type:t,icon:a}=e;const o="en",r={ui:async e=>{const{schema:a,value:r,onChange:n,rootElement:i,mode:l,options:s,i18n:p}=e,h=Jt(a.locale||s.lang||o),g=document.createElement("div"),u={width:`${a.width}mm`,height:`${a.height}mm`,display:"flex",flexDirection:"column",justifyContent:(0,c.ut)(Mt.ZR)};Object.assign(g.style,u),await b.A.ui({...e,rootElement:g,mode:"viewer",value:$t(r,t,a,h),schema:{...a,verticalAlignment:Mt.ZR,lineHeight:Mt.Dj}}),(e=>{if("undefined"!=typeof document){const t="pdfme-air-datepicker-styles";if(!document.getElementById(t)){const a=document.createElement("style");a.id=t,a.type="text/css",a.appendChild(document.createTextNode(e)),document.head.appendChild(a)}}})('.air-datepicker-cell.-year-.-other-decade-,.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.air-datepicker-cell.-year-.-other-decade-:hover,.air-datepicker-cell.-day-.-other-month-:hover{color:var(--adp-color-other-month-hover)}.-disabled-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-disabled-.-focus-.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.-selected-.air-datepicker-cell.-year-.-other-decade-,.-selected-.air-datepicker-cell.-day-.-other-month-{color:#fff;background:var(--adp-background-color-selected-other-month)}.-selected-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-selected-.-focus-.air-datepicker-cell.-day-.-other-month-{background:var(--adp-background-color-selected-other-month-focused)}.-in-range-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range);color:var(--adp-color)}.-in-range-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.-focus-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range-focused)}.air-datepicker-cell.-year-.-other-decade-:empty,.air-datepicker-cell.-day-.-other-month-:empty{background:none;border:none}.air-datepicker-cell{border-radius:var(--adp-cell-border-radius);box-sizing:border-box;cursor:pointer;display:flex;position:relative;align-items:center;justify-content:center;z-index:1}.air-datepicker-cell.-focus-{background:var(--adp-cell-background-color-hover)}.air-datepicker-cell.-current-{color:var(--adp-color-current-date)}.air-datepicker-cell.-current-.-focus-{color:var(--adp-color)}.air-datepicker-cell.-current-.-in-range-{color:var(--adp-color-current-date)}.air-datepicker-cell.-disabled-{cursor:default;color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-in-range-{color:var(--adp-color-disabled-in-range)}.air-datepicker-cell.-disabled-.-current-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-in-range-{background:var(--adp-cell-background-color-in-range);border-radius:0}.air-datepicker-cell.-in-range-:hover,.air-datepicker-cell.-in-range-.-focus-{background:var(--adp-cell-background-color-in-range-hover)}.air-datepicker-cell.-range-from-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:var(--adp-cell-border-radius) 0 0 var(--adp-cell-border-radius)}.air-datepicker-cell.-range-to-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:0 var(--adp-cell-border-radius) var(--adp-cell-border-radius) 0}.air-datepicker-cell.-range-to-.-range-from-{border-radius:var(--adp-cell-border-radius)}.air-datepicker-cell.-selected-{color:#fff;border:none;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-current-{color:#fff;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-focus-{background:var(--adp-cell-background-color-selected-hover)}\n.air-datepicker-body{transition:all var(--adp-transition-duration) var(--adp-transition-ease)}.air-datepicker-body.-hidden-{display:none}.air-datepicker-body--day-names{display:grid;grid-template-columns:repeat(7, var(--adp-day-cell-width));margin:8px 0 3px}.air-datepicker-body--day-name{color:var(--adp-day-name-color);display:flex;align-items:center;justify-content:center;flex:1;text-align:center;text-transform:uppercase;font-size:.8em}.air-datepicker-body--day-name.-clickable-{cursor:pointer}.air-datepicker-body--day-name.-clickable-:hover{color:var(--adp-day-name-color-hover)}.air-datepicker-body--cells{display:grid}.air-datepicker-body--cells.-days-{grid-template-columns:repeat(7, var(--adp-day-cell-width));grid-auto-rows:var(--adp-day-cell-height)}.air-datepicker-body--cells.-months-{grid-template-columns:repeat(3, 1fr);grid-auto-rows:var(--adp-month-cell-height)}.air-datepicker-body--cells.-years-{grid-template-columns:repeat(4, 1fr);grid-auto-rows:var(--adp-year-cell-height)}\n.air-datepicker-nav{display:flex;justify-content:space-between;border-bottom:1px solid var(--adp-border-color-inner);min-height:var(--adp-nav-height);padding:var(--adp-padding);box-sizing:content-box}.-only-timepicker- .air-datepicker-nav{display:none}.air-datepicker-nav--title,.air-datepicker-nav--action{display:flex;cursor:pointer;align-items:center;justify-content:center}.air-datepicker-nav--action{width:var(--adp-nav-action-size);border-radius:var(--adp-border-radius);-webkit-user-select:none;-moz-user-select:none;user-select:none}.air-datepicker-nav--action:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--action:active{background:var(--adp-background-color-active)}.air-datepicker-nav--action.-disabled-{visibility:hidden}.air-datepicker-nav--action svg{width:32px;height:32px}.air-datepicker-nav--action path{fill:none;stroke:var(--adp-nav-arrow-color);stroke-width:2px}.air-datepicker-nav--title{border-radius:var(--adp-border-radius);padding:0 8px}.air-datepicker-nav--title i{font-style:normal;color:var(--adp-nav-color-secondary);margin-left:.3em}.air-datepicker-nav--title:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--title:active{background:var(--adp-background-color-active)}.air-datepicker-nav--title.-disabled-{cursor:default;background:none}\n.air-datepicker-buttons{display:grid;grid-auto-columns:1fr;grid-auto-flow:column}.air-datepicker-button{display:inline-flex;color:var(--adp-btn-color);border-radius:var(--adp-btn-border-radius);cursor:pointer;height:var(--adp-btn-height);border:none;background:rgba(255,255,255,0)}.air-datepicker-button:hover{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover)}.air-datepicker-button:focus{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover);outline:none}.air-datepicker-button:active{background:var(--adp-btn-background-color-active)}.air-datepicker-button span{outline:none;display:flex;align-items:center;justify-content:center;width:100%;height:100%}\n.air-datepicker-time{display:grid;grid-template-columns:max-content 1fr;grid-column-gap:12px;align-items:center;position:relative;padding:0 var(--adp-time-padding-inner)}.-only-timepicker- .air-datepicker-time{border-top:none}.air-datepicker-time--current{display:flex;align-items:center;flex:1;font-size:14px;text-align:center}.air-datepicker-time--current-colon{margin:0 2px 3px;line-height:1}.air-datepicker-time--current-hours,.air-datepicker-time--current-minutes{line-height:1;font-size:19px;font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;position:relative;z-index:1}.air-datepicker-time--current-hours:after,.air-datepicker-time--current-minutes:after{content:"";background:var(--adp-background-color-hover);border-radius:var(--adp-border-radius);position:absolute;left:-2px;top:-3px;right:-2px;bottom:-2px;z-index:-1;opacity:0}.air-datepicker-time--current-hours.-focus-:after,.air-datepicker-time--current-minutes.-focus-:after{opacity:1}.air-datepicker-time--current-ampm{text-transform:uppercase;align-self:flex-end;color:var(--adp-time-day-period-color);margin-left:6px;font-size:11px;margin-bottom:1px}.air-datepicker-time--row{display:flex;align-items:center;font-size:11px;height:17px;background:linear-gradient(to right, var(--adp-time-track-color), var(--adp-time-track-color)) left 50%/100% var(--adp-time-track-height) no-repeat}.air-datepicker-time--row:first-child{margin-bottom:4px}.air-datepicker-time--row input[type=range]{background:none;cursor:pointer;flex:1;height:100%;width:100%;padding:0;margin:0;-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-ms-tooltip{display:none}.air-datepicker-time--row input[type=range]:hover::-webkit-slider-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-moz-range-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-ms-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:focus{outline:none}.air-datepicker-time--row input[type=range]:focus::-webkit-slider-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-moz-range-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-ms-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-webkit-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-moz-range-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-moz-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-ms-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-ms-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{margin-top:calc(var(--adp-time-thumb-size)/2*-1)}.air-datepicker-time--row input[type=range]::-webkit-slider-runnable-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-moz-range-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-lower{background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-upper{background:rgba(0,0,0,0)}\n.air-datepicker{--adp-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--adp-font-size: 14px;--adp-width: 246px;--adp-z-index: 100;--adp-padding: 4px;--adp-grid-areas: "nav" "body" "timepicker" "buttons";--adp-transition-duration: .3s;--adp-transition-ease: ease-out;--adp-transition-offset: 8px;--adp-background-color: #fff;--adp-background-color-hover: #f0f0f0;--adp-background-color-active: #eaeaea;--adp-background-color-in-range: rgba(92, 196, 239, .1);--adp-background-color-in-range-focused: rgba(92, 196, 239, .2);--adp-background-color-selected-other-month-focused: #8ad5f4;--adp-background-color-selected-other-month: #a2ddf6;--adp-color: #4a4a4a;--adp-color-secondary: #9c9c9c;--adp-accent-color: #4eb5e6;--adp-color-current-date: var(--adp-accent-color);--adp-color-other-month: #dedede;--adp-color-disabled: #aeaeae;--adp-color-disabled-in-range: #939393;--adp-color-other-month-hover: #c5c5c5;--adp-border-color: #dbdbdb;--adp-border-color-inner: #efefef;--adp-border-radius: 4px;--adp-border-color-inline: #d7d7d7;--adp-nav-height: 32px;--adp-nav-arrow-color: var(--adp-color-secondary);--adp-nav-action-size: 32px;--adp-nav-color-secondary: var(--adp-color-secondary);--adp-day-name-color: #ff9a19;--adp-day-name-color-hover: #8ad5f4;--adp-day-cell-width: 1fr;--adp-day-cell-height: 32px;--adp-month-cell-height: 42px;--adp-year-cell-height: 56px;--adp-pointer-size: 10px;--adp-poiner-border-radius: 2px;--adp-pointer-offset: 14px;--adp-cell-border-radius: 4px;--adp-cell-background-color-hover: var(--adp-background-color-hover);--adp-cell-background-color-selected: #5cc4ef;--adp-cell-background-color-selected-hover: #45bced;--adp-cell-background-color-in-range: rgba(92, 196, 239, 0.1);--adp-cell-background-color-in-range-hover: rgba(92, 196, 239, 0.2);--adp-cell-border-color-in-range: var(--adp-cell-background-color-selected);--adp-btn-height: 32px;--adp-btn-color: var(--adp-accent-color);--adp-btn-color-hover: var(--adp-color);--adp-btn-border-radius: var(--adp-border-radius);--adp-btn-background-color-hover: var(--adp-background-color-hover);--adp-btn-background-color-active: var(--adp-background-color-active);--adp-time-track-height: 1px;--adp-time-track-color: #dedede;--adp-time-track-color-hover: #b1b1b1;--adp-time-thumb-size: 12px;--adp-time-padding-inner: 10px;--adp-time-day-period-color: var(--adp-color-secondary);--adp-mobile-font-size: 16px;--adp-mobile-nav-height: 40px;--adp-mobile-width: 320px;--adp-mobile-day-cell-height: 38px;--adp-mobile-month-cell-height: 48px;--adp-mobile-year-cell-height: 64px}.air-datepicker-overlay{--adp-overlay-background-color: rgba(0, 0, 0, .3);--adp-overlay-transition-duration: .3s;--adp-overlay-transition-ease: ease-out;--adp-overlay-z-index: 99}\n.air-datepicker{background:var(--adp-background-color);border:1px solid var(--adp-border-color);box-shadow:0 4px 12px rgba(0,0,0,.15);border-radius:var(--adp-border-radius);box-sizing:content-box;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(4, max-content);grid-template-areas:var(--adp-grid-areas);font-family:var(--adp-font-family),sans-serif;font-size:var(--adp-font-size);color:var(--adp-color);width:var(--adp-width);position:absolute;transition:opacity var(--adp-transition-duration) var(--adp-transition-ease),transform var(--adp-transition-duration) var(--adp-transition-ease);z-index:var(--adp-z-index)}.air-datepicker:not(.-custom-position-){opacity:0}.air-datepicker.-from-top-{transform:translateY(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-from-right-{transform:translateX(var(--adp-transition-offset))}.air-datepicker.-from-bottom-{transform:translateY(var(--adp-transition-offset))}.air-datepicker.-from-left-{transform:translateX(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-active-:not(.-custom-position-){transform:translate(0, 0);opacity:1}.air-datepicker.-active-.-custom-position-{transition:none}.air-datepicker.-inline-{border-color:var(--adp-border-color-inline);box-shadow:none;position:static;left:auto;right:auto;opacity:1;transform:none}.air-datepicker.-inline- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-{--adp-font-size: var(--adp-mobile-font-size);--adp-day-cell-height: var(--adp-mobile-day-cell-height);--adp-month-cell-height: var(--adp-mobile-month-cell-height);--adp-year-cell-height: var(--adp-mobile-year-cell-height);--adp-nav-height: var(--adp-mobile-nav-height);--adp-nav-action-size: var(--adp-mobile-nav-height);position:fixed;width:var(--adp-mobile-width);border:none}.air-datepicker.-is-mobile- *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.air-datepicker.-is-mobile- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-:not(.-custom-position-){transform:translate(-50%, calc(-50% + var(--adp-transition-offset)))}.air-datepicker.-is-mobile-.-active-:not(.-custom-position-){transform:translate(-50%, -50%)}.air-datepicker.-custom-position-{transition:none}.air-datepicker-global-container{position:absolute;left:0;top:0}.air-datepicker--pointer{--pointer-half-size: calc(var(--adp-pointer-size) / 2);position:absolute;width:var(--adp-pointer-size);height:var(--adp-pointer-size);z-index:-1}.air-datepicker--pointer:after{content:"";position:absolute;background:#fff;border-top:1px solid var(--adp-border-color-inline);border-right:1px solid var(--adp-border-color-inline);border-top-right-radius:var(--adp-poiner-border-radius);width:var(--adp-pointer-size);height:var(--adp-pointer-size);box-sizing:border-box}.-top-left- .air-datepicker--pointer,.-top-center- .air-datepicker--pointer,.-top-right- .air-datepicker--pointer,[data-popper-placement^=top] .air-datepicker--pointer{top:calc(100% - var(--pointer-half-size) + 1px)}.-top-left- .air-datepicker--pointer:after,.-top-center- .air-datepicker--pointer:after,.-top-right- .air-datepicker--pointer:after,[data-popper-placement^=top] .air-datepicker--pointer:after{transform:rotate(135deg)}.-right-top- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer,[data-popper-placement^=right] .air-datepicker--pointer{right:calc(100% - var(--pointer-half-size) + 1px)}.-right-top- .air-datepicker--pointer:after,.-right-center- .air-datepicker--pointer:after,.-right-bottom- .air-datepicker--pointer:after,[data-popper-placement^=right] .air-datepicker--pointer:after{transform:rotate(225deg)}.-bottom-left- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer,[data-popper-placement^=bottom] .air-datepicker--pointer{bottom:calc(100% - var(--pointer-half-size) + 1px)}.-bottom-left- .air-datepicker--pointer:after,.-bottom-center- .air-datepicker--pointer:after,.-bottom-right- .air-datepicker--pointer:after,[data-popper-placement^=bottom] .air-datepicker--pointer:after{transform:rotate(315deg)}.-left-top- .air-datepicker--pointer,.-left-center- .air-datepicker--pointer,.-left-bottom- .air-datepicker--pointer,[data-popper-placement^=left] .air-datepicker--pointer{left:calc(100% - var(--pointer-half-size) + 1px)}.-left-top- .air-datepicker--pointer:after,.-left-center- .air-datepicker--pointer:after,.-left-bottom- .air-datepicker--pointer:after,[data-popper-placement^=left] .air-datepicker--pointer:after{transform:rotate(45deg)}.-top-left- .air-datepicker--pointer,.-bottom-left- .air-datepicker--pointer{left:var(--adp-pointer-offset)}.-top-right- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer{right:var(--adp-pointer-offset)}.-top-center- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer{left:calc(50% - var(--adp-pointer-size)/2)}.-left-top- .air-datepicker--pointer,.-right-top- .air-datepicker--pointer{top:var(--adp-pointer-offset)}.-left-bottom- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer{bottom:var(--adp-pointer-offset)}.-left-center- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer{top:calc(50% - var(--adp-pointer-size)/2)}.air-datepicker--navigation{grid-area:nav}.air-datepicker--content{box-sizing:content-box;padding:var(--adp-padding);grid-area:body}.-only-timepicker- .air-datepicker--content{display:none}.air-datepicker--time{grid-area:timepicker}.air-datepicker--buttons{grid-area:buttons}.air-datepicker--buttons,.air-datepicker--time{padding:var(--adp-padding);border-top:1px solid var(--adp-border-color-inner)}.air-datepicker-overlay{position:fixed;background:var(--adp-overlay-background-color);left:0;top:0;width:0;height:0;opacity:0;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),left 0s,height 0s,width 0s;transition-delay:0s,var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration);z-index:var(--adp-overlay-z-index)}.air-datepicker-overlay.-active-{opacity:1;width:100%;height:100%;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),height 0s,width 0s}');const m=new Event("beforeRemove");i.dispatchEvent(m);const f=document.createElement("input");Object.assign(f.style,{visibility:"hidden",position:"absolute"});const y=e=>{n&&n({key:"content",value:Gt(e,t)})},v=[{content:p("cancel"),onClick:e=>{e.hide()}},{content:p("clear"),onClick:e=>{e.hide(),y(null)}}];"date"!==t&&v.push({content:p("set"),onClick:e=>{e.hide();const t=e.selectedDates.length?e.selectedDates[0]:null;y(t)}});const k=new Ae.A(f,{locale:h.adLocale,selectedDates:[Bt(r,t)],dateFormat:e=>(0,Wt.GP)(e,a.format,{locale:h.formatLocale}),timepicker:"date"!==t,onlyTimepicker:"time"===t,isMobile:window.innerWidth<768,buttons:v,onSelect:e=>{let{datepicker:a}=e;"date"===t&&(y(a.selectedDates.length?a.selectedDates[0]:null),a.hide())}});i.addEventListener("beforeRemove",(()=>{(0,d.Xl)(l,a)&&k.destroy()})),g.addEventListener("click",(()=>{(0,d.Xl)(l,a)&&k.show()})),i.appendChild(f),i.appendChild(g)},pdf:e=>{const{schema:a,value:r,options:n}=e;if(!r)return;const i=Jt(a.locale||n.lang||o);return b.A.pdf({...e,value:$t(r,t,a,i),schema:{...a,verticalAlignment:Mt.ZR,lineHeight:Mt.Dj}})},propPanel:{schema:e=>{let{options:a,i18n:r,activeSchema:n,changeSchemas:i}=e;const l=a.font||{[V.eG]:{data:"",fallback:!0}},c=Object.keys(l),d=(0,f.HK)(l),s=Jt(n.locale||a.lang||o);void 0===n.locale&&n.locale!==a.lang&&i([{schemaId:n.id,key:"locale",value:a.lang},{schemaId:n.id,key:"format",value:Ft(t,s)}]);const p=(0,Tt.E)(r);p.buttons=p.buttons.filter((e=>e.key===Tt.Z.ALIGNMENT));const h=Object.keys(Dt).map((e=>({label:`${e} (${Dt[e].label})`,value:e})));return{format:{title:r("schemas.date.format"),type:"string",default:Ft(t,s),placeholder:Ft(t,s),rules:[{validator:(e,t)=>{try{return(0,Wt.GP)("Thu Jan 01 1970 00:00:00 GMT+0000",t,{locale:s.formatLocale}),!0}catch(a){return!1}},message:r("validation.dateTimeFormat")}],span:24},fontName:{title:r("schemas.text.fontName"),type:"string",widget:"select",default:d,placeholder:d,props:{options:c.map((e=>({label:e,value:e})))},span:12},fontSize:{title:r("schemas.text.size"),type:"number",widget:"inputNumber",span:6,props:{min:0}},characterSpacing:{title:r("schemas.text.spacing"),type:"number",widget:"inputNumber",span:6,props:{min:0}},formatter:p,fontColor:{title:r("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:r("validation.hexColor")}]},backgroundColor:{title:r("schemas.bgColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:r("validation.hexColor")}]},locale:{title:r("schemas.date.locale"),type:"string",widget:"select",props:{options:h},span:16}}},defaultSchema:{name:"",format:Ft(t,Jt(o)),type:t,content:Gt(new Date,t),position:{x:0,y:0},width:50,height:10,rotate:0,alignment:Mt.e4,fontSize:Mt.gI,characterSpacing:Mt.kJ,fontColor:Mt.Kb,fontName:void 0,backgroundColor:"",locale:void 0,opacity:v.q}},icon:a};return r};var Kt=a(31966);const Xt=Ut({type:"dateTime",icon:(0,d.Ci)(Kt.A)});var Qt=a(97653);const Yt=Ut({type:"date",icon:(0,d.Ci)(Qt.A)});var Zt=a(84757);const Vt=Ut({type:"time",icon:(0,d.Ci)(Zt.A)});var qt=a(61449);const _t=(0,d.Ci)(qt.A),ea={ui:async e=>{const{schema:t,value:a,onChange:o,rootElement:r,mode:n}=e;if(await b.A.ui(Object.assign(e,{mode:"viewer"})),"viewer"!==n&&("form"!==n||!t.readOnly)){const e=30,n=document.createElement("button");n.innerHTML=_t;const i={position:"absolute",zIndex:-1,right:`-${e}px`,top:"0",padding:"0",margin:"0",cursor:"pointer",height:`${e}px`,width:`${e}px`};Object.assign(n.style,i),r.appendChild(n);const l=document.createElement("select"),c={opacity:"0",position:"absolute",width:`calc(100% + ${e}px)`,height:"100%",top:"0",left:"0",appearance:"initial"};Object.assign(l.style,c),l.value=a,l.addEventListener("change",(e=>{o&&e.target instanceof HTMLSelectElement&&o&&o({key:"content",value:e.target.value})})),l.innerHTML=t.options.map((e=>`<option value="${e}" ${e===a?"selected":""}>${e}</option>`)).join(""),r.appendChild(l)}},pdf:b.A.pdf,propPanel:{...b.A.propPanel,widgets:{...n.e.widgets,addOptions:e=>{const{rootElement:t,changeSchemas:a,activeSchema:o,i18n:r}=e;t.style.width="100%";const n=o,i=n.options?[...n.options]:[],l={width:"100%",padding:"6.25px 11px",border:"1px solid #ccc",borderRadius:"4px"},c={border:"none",borderRadius:"4px",cursor:"pointer"},d=()=>{a([{key:"options",value:i,schemaId:o.id},{key:"content",value:i[0]||"",schemaId:o.id}])},s=document.createElement("div");Object.assign(s.style,{width:"100%",display:"flex",alignItems:"center",marginBottom:"10px"});const p=document.createElement("input");p.type="text",p.placeholder=r("schemas.select.optionPlaceholder"),Object.assign(p.style,l,{marginRight:"10px"});const h=document.createElement("button");h.textContent="+",Object.assign(h.style,c,{width:"25px",height:"25px",padding:"4px 8px"}),h.addEventListener("click",(()=>{const e=p.value.trim();e&&(i.push(e),d(),u(),p.value="")})),s.appendChild(p),s.appendChild(h);const g=document.createElement("ul");Object.assign(g.style,{listStyle:"none",padding:"0"});const u=()=>{g.innerHTML="",i.forEach(((e,t)=>{const a=document.createElement("li");Object.assign(a.style,{display:"flex",alignItems:"center",marginBottom:"5px"});const o=document.createElement("input");o.type="text",o.value=e,Object.assign(o.style,l,{marginRight:"10px"}),o.addEventListener("change",(()=>{i[t]=o.value,d()}));const r=document.createElement("button");r.textContent="x",Object.assign(r.style,c,{padding:"4px 8px"}),r.addEventListener("click",(()=>{i.splice(t,1),d(),u()})),a.appendChild(o),a.appendChild(r),g.appendChild(a)}))};t.appendChild(s),t.appendChild(g),u()}},schema:e=>{if("function"!=typeof n.e.schema)throw Error("Oops, is text schema no longer a function?");return{...n.e.schema(e),"-------":{type:"void",widget:"Divider"},optionsContainer:{title:e.i18n("schemas.select.options"),type:"string",widget:"Card",span:24,properties:{options:{widget:"addOptions",span:24}}}}},defaultSchema:{...b.A.propPanel.defaultSchema,type:"select",content:"option1",options:["option1","option2"]}},icon:_t},ta=ea;var aa=a(14373);const oa="currentColor",ra=function(e){return void 0===e&&(e=oa),(0,d.Ci)(aa.A,{stroke:e})},na=e=>{let{value:t,color:a}=e;return"true"===t?ra(a):(void 0===(o=a)&&(o=oa),(0,d.Ci)(K.A,{stroke:o}));var o},ia=new EventTarget,la=new Map,ca=new Map,da={ui:e=>{const{schema:t,value:a,onChange:o,rootElement:r,mode:n}=e,i=document.createElement("div");i.style.width="100%",i.style.height="100%",o&&la.set(t.name,{value:a,onChange:o});const l=ca.get(t.name);l&&ia.removeEventListener(`group-${t.group}`,l);const c=e=>{if(e.detail!==t.name){const e=la.get(t.name);if(!e)return;"true"===e.value&&e.onChange({key:"content",value:"false"})}};ca.set(t.name,c),ia.addEventListener(`group-${t.group}`,c),(0,d.Xl)(n,t)&&i.addEventListener("click",(()=>{"true"!==a&&o&&(o({key:"content",value:"true"}),la.set(t.name,{value:"true",onChange:o}),ia.dispatchEvent(new CustomEvent(`group-${t.group}`,{detail:t.name})))})),T.ui({...e,rootElement:i,mode:"viewer",value:na({value:a,color:t.color})}),r.appendChild(i)},pdf:e=>T.pdf(Object.assign(e,{value:na({value:e.value,color:e.schema.color})})),propPanel:{schema:e=>{let{i18n:t}=e;return{color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},required:!0,rules:[{pattern:v.p,message:t("validation.hexColor")}]},group:{title:t("schemas.radioGroup.groupName"),type:"string"}}},defaultSchema:{name:"",type:"radioGroup",content:"false",position:{x:0,y:0},width:8,height:8,group:"MyGroup",color:"#000000"}},icon:ra()},sa=da;var pa=a(14405);const ha="currentColor",ga=function(e){return void 0===e&&(e=ha),(0,d.Ci)(pa.A,{stroke:e})},ua=e=>{let{value:t,color:a}=e;return"true"===t?ga(a):(void 0===(o=a)&&(o=ha),(0,d.Ci)(U.A,{stroke:o}));var o},ma={ui:e=>{const{schema:t,value:a,onChange:o,rootElement:r,mode:n}=e,i=document.createElement("div");i.style.width="100%",i.style.height="100%",(0,d.Xl)(n,t)&&i.addEventListener("click",(()=>{o&&o({key:"content",value:"true"===a?"false":"true"})})),T.ui({...e,rootElement:i,mode:"viewer",value:ua({value:a,color:t.color})}),r.appendChild(i)},pdf:e=>T.pdf(Object.assign(e,{value:ua({value:e.value,color:e.schema.color})})),propPanel:{schema:e=>{let{i18n:t}=e;return{color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},required:!0,rules:[{pattern:v.p,message:t("validation.hexColor")}]}}},defaultSchema:{name:"",type:"checkbox",content:"false",position:{x:0,y:0},width:8,height:8,color:"#000000"}},icon:ga()},ba=ma,fa={Text:b.A}},23590:(e,t,a)=>{a.d(t,{HG:()=>c,HQ:()=>l,Uj:()=>s,gI:()=>n,lZ:()=>d});var o=a(37967),r=a(29777);const n=()=>({fontName:void 0,alignment:o.e4,verticalAlignment:o.ZR,fontSize:o.gI,lineHeight:o.Dj,characterSpacing:o.kJ,fontColor:o.Kb,backgroundColor:"",borderColor:"#888888",borderWidth:{top:.1,bottom:.1,left:.1,right:.1},padding:{top:5,bottom:5,left:5,right:5}}),i=function(e){void 0===e&&(e=1);const t=()=>({type:"number",widget:"inputNumber",props:{min:0,step:e},span:6});return{top:{title:"Top",...t()},right:{title:"Right",...t()},bottom:{title:"Bottom",...t()},left:{title:"Left",...t()}}},l=e=>{const{i18n:t,fallbackFontName:a,fontNames:n,isBody:l}=e;return{fontName:{title:t("schemas.text.fontName"),type:"string",widget:"select",default:a,placeholder:a,props:{options:n.map((e=>({label:e,value:e})))},span:12},fontSize:{title:t("schemas.text.size"),type:"number",widget:"inputNumber",props:{min:0},span:6},characterSpacing:{title:t("schemas.text.spacing"),type:"number",widget:"inputNumber",props:{min:0},span:6},alignment:{title:t("schemas.text.textAlign"),type:"string",widget:"select",props:{options:[{label:t("schemas.left"),value:o.C7},{label:t("schemas.center"),value:o.oM},{label:t("schemas.right"),value:o.t7}]},span:8},verticalAlignment:{title:t("schemas.text.verticalAlign"),type:"string",widget:"select",props:{options:[{label:t("schemas.top"),value:o.JA},{label:t("schemas.middle"),value:o.ZR},{label:t("schemas.bottom"),value:o.zV}]},span:8},lineHeight:{title:t("schemas.text.lineHeight"),type:"number",widget:"inputNumber",props:{step:.1,min:0},span:8},fontColor:{title:t("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:r.p,message:t("validation.hexColor")}]},borderColor:{title:t("schemas.borderColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:r.p,message:t("validation.hexColor")}]},backgroundColor:{title:t("schemas.backgroundColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:r.p,message:t("validation.hexColor")}]},...l?{alternateBackgroundColor:{title:t("schemas.table.alternateBackgroundColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:r.p,message:t("validation.hexColor")}]}}:{},"-":{type:"void",widget:"Divider"},borderWidth:{title:t("schemas.borderWidth"),type:"object",widget:"lineTitle",span:24,properties:i(.1)},"--":{type:"void",widget:"Divider"},padding:{title:t("schemas.padding"),type:"object",widget:"lineTitle",span:24,properties:i()}}},c=e=>{let{head:t,i18n:a}=e;return{alignment:{type:"object",widget:"lineTitle",title:a("schemas.text.textAlign"),column:3,properties:t.reduce(((e,t,r)=>Object.assign(e,{[r]:{title:t||"Column "+String(r+1),type:"string",widget:"select",props:{options:[{label:a("schemas.left"),value:o.C7},{label:a("schemas.center"),value:o.oM},{label:a("schemas.right"),value:o.t7}]}}})),{})}}},d=e=>"string"==typeof e?JSON.parse(e||"[]"):e||[],s=(e,t)=>{const a=d(e);return t?a.slice(t.start,t.end):a}},85142:(e,t,a)=>{a.d(t,{v:()=>m});var o=a(63489),r=a(57664);class n{constructor(e,t,a){Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"styles",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"section",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"wrappedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minReadableWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.styles=t,this.section=a,this.raw=e;this.text=e.split(/\r\n|\r|\n/g)}getContentHeight(){const e=(Array.isArray(this.text)?this.text.length:1)*((0,o.Bn)(this.styles.fontSize)*this.styles.lineHeight)+(this.padding("top")+this.padding("bottom"));return Math.max(e,this.styles.minCellHeight)}padding(e){return this.styles.cellPadding[e]}}class i{constructor(e){Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"wrappedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minReadableWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.index=e}getMaxCustomCellWidth(e){let t=0;for(const a of e.allRows()){const e=a.cells[this.index];t=Math.max(t,e.styles.cellWidth)}return t}}class l{constructor(e,t,a,o){Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"section",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cells",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.raw=e,this.index=t,this.section=a,this.cells=o}getMaxCellHeight(e){return e.reduce(((e,t)=>Math.max(e,this.cells[t.index]?.height||0)),0)}getMinimumRowHeight(e){return e.reduce(((e,t)=>{const a=this.cells[t.index];if(!a)return 0;const o=a.padding("top")+a.padding("bottom")+a.styles.lineHeight;return o>e?o:e}),0)}}class c{constructor(e,t){Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"styles",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"head",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.settings=e.settings,this.styles=e.styles,this.columns=t.columns,this.head=t.head,this.body=t.body}static async create(e){const{input:t,content:a,font:n,_cache:i}=e,l=new c(t,a);return await async function(e){const{table:t,font:a,_cache:n}=e,i=e=>(0,r.Jz)(e,a,n);await async function(e,t){for(const a of e.allRows())for(const o of e.columns){const e=a.cells[o.index];if(!e)continue;const r=e.padding("right")+e.padding("left"),n=await t(e.styles.fontName);e.contentWidth=s(e,n)+r;const i=s(Object.assign(e,{text:e.text.join(" ").split(/\s+/)}),n);e.minReadableWidth=i+r,e.minWidth=e.styles.cellWidth,e.wrappedWidth=e.styles.cellWidth}for(const a of e.allRows())for(const t of e.columns){const o=a.cells[t.index];if(o)t.wrappedWidth=Math.max(t.wrappedWidth,o.wrappedWidth),t.minWidth=Math.max(t.minWidth,o.minWidth),t.minReadableWidth=Math.max(t.minReadableWidth,o.minReadableWidth);else{const a=e.styles.columnStyles[t.index]||{},o=a.cellWidth||a.minCellWidth;o&&(t.minWidth=o,t.wrappedWidth=o)}}}(t,i);const l=[];let c=0;t.columns.forEach((e=>{const a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,l.push(e)),c+=e.width}));let p=t.getWidth()-c;p&&(p=d(l,p,(e=>Math.max(e.minReadableWidth,e.minWidth))));p&&(p=d(l,p,(e=>e.minWidth)));p=Math.abs(p),function(e){const t=e.allRows();for(let a=0;a<t.length;a++){const o=t[a];let r=null,n=0,i=0;for(let t=0;t<e.columns.length;t++){const a=e.columns[t];if(i-=1,i>1&&e.columns[t+1])n+=a.width,delete o.cells[a.index];else if(r){const e=r;delete o.cells[a.index],r=null,e.width=a.width+n}else{const e=o.cells[a.index];if(!e)continue;i=1,n=0,e.width=a.width+n}}}}(t),await async function(e,t){const a={count:0,height:0};for(const n of e.allRows()){for(const i of e.columns){const e=n.cells[i.index];if(!e)continue;const l=await t(e.styles.fontName);e.text=(0,r.gX)({value:e.raw,characterSpacing:e.styles.characterSpacing,boxWidthInPt:(0,o.JX)(e.width),fontSize:e.styles.fontSize,fontKitFont:l}),e.contentHeight=e.getContentHeight();let c=e.contentHeight;a&&a.count>0&&a.height>c&&(c=a.height),c>n.height&&(n.height=c)}a.count--}}(t,i),function(e){const t={};let a=1;const o=e.allRows();for(let r=0;r<o.length;r++){const n=o[r];for(const o of e.columns){const e=t[o.index];if(a>1)a--,delete n.cells[o.index];else if(e)e.cell.height+=n.height,a=1,delete n.cells[o.index],e.left--,e.left<=1&&delete t[o.index];else{const e=n.cells[o.index];if(!e)continue;e.height=n.height}}}}(t)}({table:l,font:n,_cache:i}),l}getHeadHeight(){return this.head.reduce(((e,t)=>e+t.getMaxCellHeight(this.columns)),0)}getBodyHeight(){return this.body.reduce(((e,t)=>e+t.getMaxCellHeight(this.columns)),0)}allRows(){return this.head.concat(this.body)}getWidth(){return this.settings.tableWidth}getHeight(){return(this.settings.showHead?this.getHeadHeight():0)+this.getBodyHeight()}}function d(e,t,a){const o=t,r=e.reduce(((e,t)=>e+t.wrappedWidth),0);for(let n=0;n<e.length;n++){const i=e[n],l=o*(i.wrappedWidth/r),c=i.width+l,d=a(i),s=c<d?d:c;t-=s-i.width,i.width=s}if(t=Math.round(1e10*t)/1e10){const o=e.filter((e=>!(t<0)||e.width>a(e)));o.length&&(t=d(o,t,a))}return t}function s(e,t){const a=e.text,o=Array.isArray(a)?a:[a],n=e.styles.fontSize,i=e.styles.characterSpacing,l=o.map((e=>(0,r.bH)(e,t,n,i))).reduce(((e,t)=>Math.max(e,t)),0);return l}function p(e,t,a,o,r){const i={};return t.map(((t,c)=>{let d=0;const s={};let p=0,g=0;for(const l of a)if(null==i[l.index]||0===i[l.index].left)if(0===g){let a;a=Array.isArray(t)?t[l.index-p-d]:t[l.index];const u=h(e,l,c,o,r),m=new n(a,u,e);s[l.index]=m,g=0,i[l.index]={left:0,times:g}}else g--,p++;else i[l.index].left--,g=i[l.index].times,d++;return new l(t,c,e,s)}))}function h(e,t,a,o,r){let n;"head"===e?n=o.headStyles:"body"===e&&(n=o.bodyStyles);const i=Object.assign({},o.styles,n),l=o.columnStyles[t.index]||o.columnStyles[t.index]||{},c="body"===e&&a%2==0?Object.assign({},o.alternateRowStyles):{},d={fontName:r,backgroundColor:"",textColor:"#000000",lineHeight:1,characterSpacing:0,alignment:"left",verticalAlignment:"middle",fontSize:10,cellPadding:5,lineColor:"#000000",lineWidth:0,minCellHeight:0,minCellWidth:0};return Object.assign(d,i,c,l)}function g(e){return{fontName:e.fontName,alignment:e.alignment,verticalAlignment:e.verticalAlignment,fontSize:e.fontSize,lineHeight:e.lineHeight,characterSpacing:e.characterSpacing,backgroundColor:e.backgroundColor,textColor:e.fontColor,lineColor:e.borderColor,lineWidth:e.borderWidth,cellPadding:e.padding}}function u(e,t){const a=function(e,t){const a=e.headWidthPercentages.reduce(((t,a,o)=>({...t,[o]:{cellWidth:e.width*(a/100)}})),{}),o=Object.entries(e.columnStyles.alignment||{}).reduce(((e,t)=>{let[a,o]=t;return{...e,[a]:{alignment:o}}}),{}),r=new Set([...Object.keys(a).map(Number),...Object.keys(o).map(Number)]),n=Array.from(r).reduce(((e,t)=>{const r=a[t]||{},n=o[t]||{};return{...e,[t]:{...r,...n}}}),{});return{head:[e.head],body:t,showHead:e.showHead,startY:e.position.y,tableWidth:e.width,tableLineColor:e.tableStyles.borderColor,tableLineWidth:e.tableStyles.borderWidth,headStyles:g(e.headStyles),bodyStyles:g(e.bodyStyles),alternateRowStyles:{backgroundColor:e.bodyStyles.alternateBackgroundColor},columnStyles:n,margin:{top:0,right:0,left:e.position.x,bottom:0}}}(e,t),o=function(e){const t={styles:{},headStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{}};for(const a of Object.keys(t))if("columnStyles"===a){const o=e[a];t.columnStyles=Object.assign({},o)}else{const o=[e].map((e=>e[a]||{}));t[a]=Object.assign({},o[0],o[1],o[2])}return t}(a),r={startY:a.startY,margin:a.margin,tableWidth:a.tableWidth,showHead:a.showHead,tableLineWidth:a.tableLineWidth??0,tableLineColor:a.tableLineColor??""},n=function(e){const t=e.head||[],a=e.body||[];return{columns:(t[0]||a[0]||[]).map(((e,t)=>t)),head:t,body:a}}(a);return{content:n,styles:o,settings:r}}function m(e,t){const{options:a,_cache:r,basePdf:n}=t;(0,o.R4)(n)||console.warn("[@pdfme/schema/table]When specifying a custom PDF for basePdf, you cannot use features such as page breaks or re-layout of other elements.To utilize these features, please define basePdf as follows:\n{ width: number; height: number; padding: [number, number, number, number]; }");const l=(0,o.mg)(t.schema),{start:d}=l.__bodyRange||{start:0};if(d%2==1){const e=l.bodyStyles.alternateBackgroundColor;l.bodyStyles.alternateBackgroundColor=l.bodyStyles.backgroundColor,l.bodyStyles.backgroundColor=e}l.showHead=!1!==l.showHead&&!l.__isSplit;const s=u(l,e),h=a.font||(0,o.Ld)(),g=function(e,t){const a=e.content,o=a.columns.map((e=>new i(e))),r=e.styles;return{columns:o,head:p("head",a.head,o,r,t),body:p("body",a.body,o,r,t)}}(s,(0,o.HK)(h));return c.create({input:s,content:g,font:h,_cache:r})}},37967:(e,t,a)=>{a.d(t,{C7:()=>r,Dj:()=>h,JA:()=>c,Kb:()=>u,LH:()=>b,X6:()=>v,Yg:()=>w,ZR:()=>d,d5:()=>p,e4:()=>l,fd:()=>k,gI:()=>o,kJ:()=>g,oM:()=>n,oi:()=>m,t7:()=>i,tZ:()=>f,u:()=>y,zV:()=>s});const o=13,r="left",n="center",i="right",l=r,c="top",d="middle",s="bottom",p=c,h=1,g=0,u="#000000",m="#A0A0A0",b="vertical",f="horizontal",y=b,v=4,k=72,w=.25},1689:(e,t,a)=>{a.d(t,{Z:()=>v,E:()=>w});var o=a(40700),r=a(27607),n=a(7326),i=a(17334),l=a(31689),c=a(54865),d=a(19080),s=a(92991);const p=(0,s.Ci)(o.A),h=(0,s.Ci)(r.A),g=(0,s.Ci)(n.A),u=(0,s.Ci)(i.A),m=(0,s.Ci)(l.A),b=(0,s.Ci)(c.A),f='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M8 19h3v4h2v-4h3l-4-4l-4 4zm8-14h-3V1h-2v4H8l4 4l4-4zM4 11v2h16v-2H4z" fill="currentColor"></path></svg>',y=(0,s.Ci)(d.A);var v,k=a(37967);function w(e){const t=[{key:v.STRIKETHROUGH,icon:p,type:"boolean"},{key:v.UNDERLINE,icon:h,type:"boolean"},{key:v.ALIGNMENT,icon:g,type:"select",value:k.e4},{key:v.ALIGNMENT,icon:u,type:"select",value:k.oM},{key:v.ALIGNMENT,icon:m,type:"select",value:k.t7},{key:v.VERTICAL_ALIGNMENT,icon:b,type:"select",value:k.d5},{key:v.VERTICAL_ALIGNMENT,icon:f,type:"select",value:k.ZR},{key:v.VERTICAL_ALIGNMENT,icon:y,type:"select",value:k.zV}];return{title:e("schemas.text.format"),widget:"ButtonGroup",buttons:t,span:17}}!function(e){e.STRIKETHROUGH="strikethrough",e.UNDERLINE="underline",e.ALIGNMENT="alignment",e.VERTICAL_ALIGNMENT="verticalAlignment"}(v||(v={}))},57664:(e,t,a)=>{a.d(t,{Cb:()=>s,Jz:()=>h,W7:()=>c,ZB:()=>d,bH:()=>p,gX:()=>f,gm:()=>y,uA:()=>b});var o=a(64008),r=a(63489),n=a(34090),i=a(38891),l=a(37967);const c=(e,t,a,o)=>{const{ascent:n,descent:i,unitsPerEm:c}=e,d=(n-i)/c,s=(d*t-t)/2;if(o===l.JA)return{topAdj:(0,r.Lz)(s),bottomAdj:0};let p=0;return a<d&&(p=(d-a)*t/2),{topAdj:0,bottomAdj:(0,r.Lz)(p)}},d=(e,t)=>{const{descent:a,unitsPerEm:o}=e;return a/o*t},s=(e,t)=>{const{ascent:a,descent:o,bbox:r,unitsPerEm:n}=e,i=1e3/n;let l=(a||r.maxY)*i-(o||r.minY)*i;return l-=Math.abs(o*i)||0,l/1e3*t},p=(e,t,a,o)=>{const{glyphs:r}=t.layout(e),n=1e3/t.unitsPerEm;return r.reduce(((e,t)=>e+t.advanceWidth*n),0)*(a/1e3)+(i=o,(e.length-1)*i);var i},h=async(e,t,a)=>{const l=e||(0,r.HK)(t),c=(e=>`getFontKitFont-${e}`)(l);if(a.has(c))return a.get(c);const d=t[l]||(e=>e[(0,r.HK)(e)])(t)||(0,r.Ld)()[n.eG];let s=d.data;"string"==typeof s&&(s=s.startsWith("http")?await fetch(s).then((e=>e.arrayBuffer())):(0,r.Z5)(s));const p=o.create(s instanceof i.hp?s:i.hp.from(s));return a.set(c,p),p},g=(e,t)=>{const{font:a,fontSize:o,characterSpacing:r,boxWidthInPt:n}=t;return p(e,a,o,r)>n},u=(e,t)=>{const a=((e,t)=>{for(let a=0;a<=e.length;a++)if(g(e.slice(0,a+1),t))return a;return null})(e,t);if(null===a)return e.length;if(" "===e[a])return a;let o=a-1;for(;o>=0;){if(r=e[o],[" ","-","\u2014","\u2013"].includes(r))return o+1;o--}var r;return a},m=(e,t)=>{const a=u(e,t),o=e.substring(0,a).trimEnd(),r=e.substring(a).trimStart();return r===e?[e]:0===r.length?[o]:[o,...m(r,t)]},b=async e=>{let{textSchema:t,font:a,value:o,startingFontSize:n,_cache:i}=e;const{fontSize:c,dynamicFontSize:d,characterSpacing:g,width:u,height:b,lineHeight:f=l.Dj}=t,y=n||c||l.gI;if(!d)return y;if(d.max<d.min)return y;const v=g??l.kJ,k=await h(t.fontName,a,i),w=o.split("\n");let x=y;x<d.min?x=d.min:x>d.max&&(x=d.max);const C=d.fit??l.u,A=e=>{let t=0,a=0;const o=(0,r.JX)(u),n=s(k,e),i=(0,r.Bn)(n*f),c=(0,r.Bn)(e*f);return w.forEach(((n,d)=>{if(m(n,{font:k,fontSize:e,characterSpacing:v,boxWidthInPt:o}).forEach(((o,n)=>{if(C===l.LH){const a=p(o,k,e,v),n=(0,r.Bn)(a);t=Math.max(t,n)}a+=d+n===0?i:c})),C===l.tZ){const a=p(n,k,e,v),o=(0,r.Bn)(a);t=Math.max(t,o)}})),{totalWidthInMm:t,totalHeightInMm:a}},S=(e,t)=>!(x>=d.max)&&(C===l.tZ?e<u:t<b),E=(e,t)=>!(x<=d.min||x<=0)&&(e>u||t>b);let{totalWidthInMm:L,totalHeightInMm:I}=A(x);for(;S(L,I);){x+=l.Yg;const{totalWidthInMm:e,totalHeightInMm:t}=A(x);if(!(t<b)){x-=l.Yg;break}L=e,I=t}for(;E(L,I);)x-=l.Yg,({totalWidthInMm:L,totalHeightInMm:I}=A(x));return x},f=e=>{const{value:t,characterSpacing:a,fontSize:o,fontKitFont:r,boxWidthInPt:n}=e,i={font:r,fontSize:o,characterSpacing:a,boxWidthInPt:n};let l=[];return t.split(/\r\n|\r|\n|\f|\u000B/g).forEach((e=>{l=l.concat(m(e,i))})),l},y=()=>navigator.userAgent.toLowerCase().indexOf("firefox")>-1},51838:(e,t,a)=>{a.d(t,{A:()=>c});var o=a(63760),r=a(96479),n=a(558),i=a(9102),l=a(92991);const c={pdf:o.f,ui:n.nW,propPanel:r.e,icon:(0,l.Ci)(i.A)}},63760:(e,t,a)=>{a.d(t,{f:()=>d});var o=a(63489),r=a(37967),n=a(57664),i=a(92991);const l=async e=>{const{pdfDoc:t,font:a,_cache:o}=e;if(o.has(t))return o.get(t);const r=await Promise.all(Object.values(a).map((async e=>{let a=e.data;return"string"==typeof a&&a.startsWith("http")&&(a=await fetch(a).then((e=>e.arrayBuffer()))),t.embedFont(a,{subset:void 0===e.subset||e.subset})}))),n=Object.keys(a).reduce(((e,t,a)=>Object.assign(e,{[t]:r[a]})),{});return o.set(t,n),n},c=async e=>{let{value:t,font:a,schema:o,colorType:l,_cache:c}=e;const d=o.dynamicFontSize?await(0,n.uA)({textSchema:o,font:a,value:t,_cache:c}):o.fontSize??r.gI,s=(0,i.gD)(o.fontColor||r.Kb,l);return{alignment:o.alignment??r.e4,verticalAlignment:o.verticalAlignment??r.d5,lineHeight:o.lineHeight??r.Dj,characterSpacing:o.characterSpacing??r.kJ,fontSize:d,color:s}},d=async e=>{const{value:t,pdfDoc:a,pdfLib:d,page:s,options:p,schema:h,_cache:g}=e;if(!t)return;const{font:u=(0,o.Ld)(),colorType:m}=p,[b,f,y]=await Promise.all([l({pdfDoc:a,font:u,_cache:g}),(0,n.Jz)(h.fontName,u,g),c({value:t,font:u,schema:h,_cache:g,colorType:m})]),{fontSize:v,color:k,alignment:w,verticalAlignment:x,lineHeight:C,characterSpacing:A}=y,S=h.fontName?h.fontName:(0,o.HK)(u),E=b&&b[S],L=s.getHeight(),{width:I,height:j,rotate:z,position:{x:H,y:R},opacity:O}=(0,i.hY)({schema:h,pageHeight:L,applyRotateTranslate:!1});if(h.backgroundColor){const e=(0,i.gD)(h.backgroundColor,m);s.drawRectangle({x:H,y:R,width:I,height:j,rotate:z,color:e})}s.pushOperators(d.setCharacterSpacing(A??r.kJ));const N=(0,n.Cb)(f,v),P=(0,n.ZB)(f,v),W=0===C?0:(C-1)*v/2,M=(0,n.gX)({value:t,characterSpacing:A,fontSize:v,fontKitFont:f,boxWidthInPt:I});let T=0;if(x===r.JA)T=N+W;else{const e=C*v*(M.length-1);x===r.zV?T=j-e+P-W:x===r.ZR&&(T=(j-e-N+P)/2+N)}const D={x:H+I/2,y:L-(0,o.JX)(h.position.y)-j/2};M.forEach(((e,t)=>{const a=(0,n.bH)(e,f,v,A),r=(0,n.Cb)(f,v),l=C*v*t;let c=H;"center"===w?c+=(I-a)/2:"right"===w&&(c+=I-a);let d=L-(0,o.JX)(h.position.y)-T-l;if(h.strikethrough&&a>0){const e=c+a+1,t=d+r/3;s.drawLine({start:(0,i.sR)({x:c,y:t},D,z.angle),end:(0,i.sR)({x:e,y:t},D,z.angle),thickness:1/12*v,color:k,opacity:O})}if(h.underline&&a>0){const e=c+a+1,t=d-r/12;s.drawLine({start:(0,i.sR)({x:c,y:t},D,z.angle),end:(0,i.sR)({x:e,y:t},D,z.angle),thickness:1/12*v,color:k,opacity:O})}if(0!==z.angle){const e=(0,i.sR)({x:c,y:d},D,z.angle);c=e.x,d=e.y}s.drawText(e,{x:c,y:d,rotate:z,size:v,color:k,lineHeight:C*v,font:E,opacity:O})}))}},96479:(e,t,a)=>{a.d(t,{e:()=>c});var o=a(34090),r=a(63489),n=a(37967),i=a(29777),l=a(1689);const c={schema:e=>{let{options:t,activeSchema:a,i18n:c}=e;const d=t.font||{[o.eG]:{data:"",fallback:!0}},s=Object.keys(d),p=(0,r.HK)(d),h=Boolean(a?.dynamicFontSize);return{fontName:{title:c("schemas.text.fontName"),type:"string",widget:"select",default:p,placeholder:p,props:{options:s.map((e=>({label:e,value:e})))},span:12},fontSize:{title:c("schemas.text.size"),type:"number",widget:"inputNumber",span:6,disabled:h,props:{min:0}},characterSpacing:{title:c("schemas.text.spacing"),type:"number",widget:"inputNumber",span:6,props:{min:0}},formatter:(0,l.E)(c),lineHeight:{title:c("schemas.text.lineHeight"),type:"number",widget:"inputNumber",props:{step:.1,min:0},span:7},useDynamicFontSize:{type:"boolean",widget:"UseDynamicFontSize",bind:!1,span:16},dynamicFontSize:{type:"object",widget:"card",column:3,properties:{min:{title:c("schemas.text.min"),type:"number",widget:"inputNumber",hidden:!h,props:{min:0}},max:{title:c("schemas.text.max"),type:"number",widget:"inputNumber",hidden:!h,props:{min:0}},fit:{title:c("schemas.text.fit"),type:"string",widget:"select",hidden:!h,props:{options:[{label:c("schemas.horizontal"),value:n.tZ},{label:c("schemas.vertical"),value:n.LH}]}}}},fontColor:{title:c("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:i.p,message:c("validation.hexColor")}]},backgroundColor:{title:c("schemas.bgColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:i.p,message:c("validation.hexColor")}]}}},widgets:{UseDynamicFontSize:e=>{const{rootElement:t,changeSchemas:a,activeSchema:o,i18n:r}=e,i=document.createElement("input");i.type="checkbox",i.checked=Boolean(o?.dynamicFontSize),i.onchange=e=>{const t=e.target.checked?{min:n.X6,max:n.fd,fit:n.u}:void 0;a([{key:"dynamicFontSize",value:t,schemaId:o.id}])};const l=document.createElement("label"),c=document.createElement("span");c.innerText=r("schemas.text.dynamicFontSize")||"",c.style.cssText="margin-left: 0.5rem",l.style.cssText="display: flex; width: 100%;",l.appendChild(i),l.appendChild(c),t.appendChild(l)}},defaultSchema:{name:"",type:"text",content:"Type Something...",position:{x:0,y:0},width:45,height:10,rotate:0,alignment:n.e4,verticalAlignment:n.d5,fontSize:n.gI,lineHeight:n.Dj,characterSpacing:n.kJ,dynamicFontSize:void 0,fontColor:n.Kb,fontName:void 0,backgroundColor:"",opacity:i.q,strikethrough:!1,underline:!1}}},558:(e,t,a)=>{a.d(t,{N4:()=>s,OT:()=>d,nW:()=>c,ut:()=>p});var o=a(63489),r=a(37967),n=a(57664),i=a(92991);const l=(e,t)=>{const a={};return e.split(/(\r\n|\n|\r)/).map((e=>/\r\n|\n|\r/.test(e)?e:e.split("").map((e=>/\s/.test(e)||e.charCodeAt(0)<32||(e=>{if(e in a)return a[e];const o=t.hasGlyphForCodePoint(e.codePointAt(0)||0);return a[e]=o,o})(e)?e:"\u303f")).join(""))).join("")},c=async e=>{const{value:t,schema:a,mode:c,onChange:p,stopEditing:h,tabIndex:g,placeholder:u,options:m,_cache:b}=e,f=(0,i.Xl)(c,a)&&u&&!t,y=e=>{let t=e.innerText;return t.endsWith("\n")&&(t=t.slice(0,-1)),t},v=m?.font||(0,o.Ld)(),[k,w]=await Promise.all([(0,n.Jz)(a.fontName,v,b),d(e,f?u:t)]),x=l(t,k);if((0,i.Xl)(c,a)){if(s(w),w.tabIndex=g||0,w.innerText="designer"===c?t:x,w.addEventListener("blur",(e=>{p&&p({key:"content",value:y(e.target)}),h&&h()})),a.dynamicFontSize){let e;const t=m?.font||(0,o.Ld)(),i=await(0,n.Jz)(a.fontName,t,b);w.addEventListener("keyup",(()=>{setTimeout((()=>{(async()=>{if(!w.textContent)return;e=await(0,n.uA)({textSchema:a,font:t,value:y(w),startingFontSize:e,_cache:b}),w.style.fontSize=`${e}pt`;const{topAdj:o,bottomAdj:l}=(0,n.W7)(i,e??a.fontSize??r.gI,a.lineHeight??r.Dj,a.verticalAlignment??r.d5);w.style.paddingTop=`${o}px`,w.style.marginBottom=`${l}px`})()}),0)}))}f&&(w.style.color=r.oi,w.addEventListener("focus",(()=>{w.innerText===u&&(w.innerText="",w.style.color=a.fontColor??r.Kb)}))),"designer"===c&&setTimeout((()=>{w.focus();const e=window.getSelection(),t=document.createRange();e&&t&&(t.selectNodeContents(w),t.collapse(!1),e?.removeAllRanges(),e?.addRange(t))}))}else w.innerHTML=x.split("").map(((e,a)=>`<span style="letter-spacing:${String(t).length===a+1?0:"inherit"};">${e}</span>`)).join("")},d=async(e,t)=>{const{schema:a,rootElement:l,mode:c,options:d,_cache:s}=e,g=d?.font||(0,o.Ld)();let u;a.dynamicFontSize&&t&&(u=await(0,n.uA)({textSchema:a,font:g,value:t,startingFontSize:u,_cache:s}));const m=await(0,n.Jz)(a.fontName,g,s),{topAdj:b,bottomAdj:f}=(0,n.W7)(m,u??a.fontSize??r.gI,a.lineHeight??r.Dj,a.verticalAlignment??r.d5),y=b.toString(),v=f.toString(),k=document.createElement("div"),w={padding:0,resize:"none",backgroundColor:h(t,a),border:"none",display:"flex",flexDirection:"column",justifyContent:p(a.verticalAlignment),width:"100%",height:"100%",cursor:(0,i.Xl)(c,a)?"text":"default"};Object.assign(k.style,w),l.innerHTML="",l.appendChild(k);const x=[];a.strikethrough&&x.push("line-through"),a.underline&&x.push("underline");const C={fontFamily:a.fontName?`'${a.fontName}'`:"inherit",color:a.fontColor?a.fontColor:r.Kb,fontSize:`${u??a.fontSize??r.gI}pt`,letterSpacing:`${a.characterSpacing??r.kJ}pt`,lineHeight:`${a.lineHeight??r.Dj}em`,textAlign:a.alignment??r.e4,whiteSpace:"pre-wrap",wordBreak:"break-word",resize:"none",border:"none",outline:"none",marginBottom:`${v}px`,paddingTop:`${y}px`,backgroundColor:"transparent",textDecoration:x.join(" ")},A=document.createElement("div");return A.id="text-"+String(a.id),Object.assign(A.style,C),k.appendChild(A),A},s=e=>{(0,n.gm)()?(e.contentEditable="true",e.addEventListener("keydown",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),document.execCommand("insertLineBreak",!1,void 0))})),e.addEventListener("paste",(e=>{e.preventDefault();const t=e.clipboardData?.getData("text"),a=window.getSelection();a?.rangeCount&&(a.deleteFromDocument(),a.getRangeAt(0).insertNode(document.createTextNode(t||"")),a.collapseToEnd())}))):e.contentEditable="plaintext-only"},p=e=>{switch(e){case r.JA:return"flex-start";case r.ZR:return"center";case r.zV:return"flex-end"}return"flex-start"},h=(e,t)=>e&&t.backgroundColor?t.backgroundColor:"transparent"},92991:(e,t,a)=>{a.d(t,{gs:()=>s,hY:()=>l,rA:()=>m,Ci:()=>b,LR:()=>d,gD:()=>g,Xl:()=>p,TA:()=>u,sR:()=>c});var o=a(38640),r=a(63489),n=a(85142),i=a(23590);const l=e=>{let{schema:t,pageHeight:a,applyRotateTranslate:n=!0}=e;const{width:i,height:l,position:d,rotate:s,opacity:p}=t,{x:h,y:g}=d,u=s?-s:0,m=(0,r.JX)(i),b=(0,r.JX)(l);let f=(0,r.JX)(h),y=a-(0,r.JX)(g)-b;if(u&&n){const e={x:f+m/2,y:a-(0,r.JX)(g)-b/2},t=c({x:f,y:y},e,u);f=t.x,y=t.y}return{position:{x:f,y:y},height:b,width:m,rotate:(0,o.degrees)(u),opacity:p}},c=(e,t,a)=>{const r=(0,o.degreesToRadians)(a);return{x:Math.cos(r)*(e.x-t.x)-Math.sin(r)*(e.y-t.y)+t.x,y:Math.sin(r)*(e.x-t.x)+Math.cos(r)*(e.y-t.y)+t.y}},d=async(e,t)=>{if("table"!==t.schema.type)return Promise.resolve([t.schema.height]);const a=t.schema,o=0===a.__bodyRange?.start?(0,i.lZ)(e):(0,i.Uj)(e,a.__bodyRange),r=await(0,n.v)(o,t);return a.showHead?r.allRows().map((e=>e.height)):[0].concat(r.body.map((e=>e.height)))},s=(e,t)=>{if(!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e))throw new Error("Invalid HEX color code");let a=Math.round(t/100*255).toString(16);return 1===a.length&&(a="0"+a),e+a},p=(e,t)=>"designer"===e||"form"===e&&!0!==t.readOnly,h=e=>{if(e){if(!(0,r._q)(e))throw new Error(`Invalid hex color value ${e}`);const[a,n,i]=("#"===(t=e).slice(0,1)&&(t=t.slice(1)),3===t.length&&(t=t.slice(0,1)+t.slice(0,1)+t.slice(1,2)+t.slice(1,2)+t.slice(2,3)+t.slice(2,3)),[t.slice(0,2),t.slice(2,4),t.slice(4,6)].map((e=>parseInt(e,16))));return(0,o.rgb)(a/255,n/255,i/255)}var t},g=(e,t)=>"object"==typeof e?e:"cmyk"==t?.toLowerCase()?(e=>{if(e){if(!(0,r._q)(e))throw new Error(`Invalid hex color value ${e}`);const t=(e=e.replace("#","")).substring(0,6),a=e.substring(6,8),n=a?parseInt(a,16)/255:1;let i=parseInt(t.substring(0,2),16)/255,l=parseInt(t.substring(2,4),16)/255,c=parseInt(t.substring(4,6),16)/255;i=i*n+(1-n),l=l*n+(1-n),c=c*n+(1-n);const d=1-Math.max(i,l,c),s=0===i?0:(1-i-d)/(1-d),p=0===l?0:(1-l-d)/(1-d),h=0===c?0:(1-c-d)/(1-d);return(0,o.cmyk)(s,p,h,d)}})(e):h(e),u=e=>new Promise(((t,a)=>{const o=new FileReader;o.onload=e=>{e.target?.result&&t(e.target.result)},o.onerror=e=>{a(new Error("[@pdfme/schemas] File reading failed"))};let r=null;e instanceof FileList&&e.length>0?r=e[0]:e instanceof File&&(r=e),r?o.readAsDataURL(r):a(new Error("[@pdfme/schemas] No files provided"))})),m=()=>{const e=document.createElement("div");Object.assign(e.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"});const t=document.createElement("span");return Object.assign(t.style,{color:"white",background:"red",padding:"0.25rem",fontSize:"12pt",fontWeight:"bold",borderRadius:"2px",fontFamily:"'Open Sans', sans-serif"}),t.textContent="ERROR",e.appendChild(t),e},b=(e,t)=>{const a=e=>{const[o,r,n=[]]=e,i="svg"===o?{...r,...t}:r;return`<${o} ${Object.entries(i).map((e=>{let[t,a]=e;return`${t}="${a}"`})).join(" ")}>${n.map((e=>a(e))).join("")}</${o}>`};return a(e)}}}]);