(self.webpackChunk_pdfme_website=self.webpackChunk_pdfme_website||[]).push([[9,909],{80519:(e,t,a)=>{"use strict";a.d(t,{A:()=>I});var r=a(38640),o=a(63489);class n{constructor(e){let{width:t=0,height:a=0}=void 0===e?{}:e;Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"padding",{enumerable:!0,configurable:!0,writable:!0,value:[0,0,0,0]}),Object.defineProperty(this,"position",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0}}),this.width=t,this.height=a}setIndex(e){this.index=e}setSchema(e){this.schema=e}setWidth(e){this.width=e}setHeight(e){this.height=e}setPadding(e){this.padding=e}setPosition(e){this.position=e}insertChild(e){const t=this.getChildCount();e.setIndex(t),this.children.splice(t,0,e)}getChildCount(){return this.children.length}getChild(e){return this.children[e]}}function i(e){const t=new n({...e});return t.setPadding(e.padding),t}function c(e){const{position:t,width:a,height:r,schema:o}=e,i=new n({width:a,height:r});return i.setPosition(t),i.setSchema(o),i}function l(e,t){e.children=e.children.sort(((e,a)=>{const r=t.get(e.schema?.name),o=t.get(a.schema?.name);if(void 0===r||void 0===o)throw new Error("[@pdfme/common] order is not defined");return r-o})).map(((e,t)=>(e.setIndex(t),e)))}async function s(e){const{basePdf:t,schemaPage:a,orderMap:r,input:n,options:s,_cache:d,getDynamicHeights:p}=e,h=i(t),u=[],g=(0,o.mg)(a).sort(((e,t)=>e.position.y-t.position.y)),m=new Map;for(const o of g){const{position:e,width:a}=o,r={schema:o,basePdf:t,options:s,_cache:d},i=(o.readOnly?o.content:n?.[o.name])||"",l=await p(i,r),g=l.reduce(((e,t)=>e+t),0),f=o.height;g!==f&&m.set(e.y+f,g-f),l.forEach(((r,n)=>{let i=o.position.y+l.reduce(((e,t,a)=>a<n?e+t:e),0);for(const[e,t]of m.entries())e<=o.position.y&&(i+=t);const s=c({schema:o,position:{...e,y:i},width:a,height:r});u.push(i+r+t.padding[2]),h.insertChild(s)}))}const f=Math.max(...u,t.height-t.padding[2]);return h.setHeight(f),l(h,r),h}function d(e){const{longPage:t,orderMap:a,basePdf:r}=e,o=[i(r)],[n,,s]=r.padding,d=[],p=(e,t)=>{const a=e-t*(r.height-n-s);for(;o.length<=t;)o[t]||(o.push(i(r)),d.push({page:t,value:-1*(a-n)}));return a+(d.find((e=>e.page===t))?.value||0)},h=t.children.sort(((e,t)=>e.position.y-t.position.y));for(let i=0;i<h.length;i++){const{schema:e,position:t,height:a,width:l}=h[i],{y:d,x:g}=t;let m=Math.floor(d/(u=o.length-1,r.height-s-(u>0?n:0))),f=p(d,m);if(f+a>r.height-s&&(m++,f=p(d,m)),!e)throw new Error("[@pdfme/common] schema is undefined");const b=c({schema:e,position:{x:g,y:f},width:l,height:a});o[m].insertChild(b)}var u;return o.forEach((e=>l(e,a))),o}const p=async e=>{const{template:t}=e;if(!(0,o.R4)(t.basePdf))return t;const a=t.basePdf,r=[];for(const o of t.schemas){const t=new Map(o.map(((e,t)=>[e.name,t]))),n=d({longPage:await s({basePdf:a,schemaPage:o,orderMap:t,...e}),basePdf:a,orderMap:t});r.push(...n)}return function(e,t){const a={schemas:Array.from({length:e.length},(()=>[])),basePdf:t},r=new Map;return(0,o.mg)(e).forEach(((e,t)=>{e.children.forEach((o=>{const{schema:n}=o;if(!n)throw new Error("[@pdfme/common] schema is undefined");const i=n.name;r.has(i)||r.set(i,[]),r.get(i).push(o);const c=e.children.filter((e=>e.schema?.name===i)),l=r.get(i).length-c.length;if(c.length>0){if(!c[0].schema)throw new Error("[@pdfme/common] schema is undefined");const e=c[0].schema,r=c.reduce(((e,t)=>e+t.height),0),o=c[0].position;e.__bodyRange={start:Math.max(l-1,0),end:l+c.length-1},e.__isSplit=l>0;const n=Object.assign({},e,{position:o,height:r}),s=a.schemas[t].findIndex((e=>e.name===i));-1!==s?a.schemas[t][s]=n:a.schemas[t].push(n)}}))})),a}(r,t.basePdf)};var h=a(91052);const u=new Map,g=new Map,m=e=>String(e).padStart(2,"0"),f=e=>`${e.getFullYear()}/${m(e.getMonth()+1)}/${m(e.getDate())}`,b={Math:Math,String:String,Number:Number,Boolean:Boolean,Array:Array,Object:Object,Date:Date,JSON:JSON,isNaN:isNaN,parseFloat:parseFloat,parseInt:parseInt,decodeURI:decodeURI,decodeURIComponent:decodeURIComponent,encodeURI:encodeURI,encodeURIComponent:encodeURIComponent},y=e=>{switch(e.type){case"Literal":case"Identifier":break;case"BinaryExpression":case"LogicalExpression":{const t=e;y(t.left),y(t.right);break}case"UnaryExpression":y(e.argument);break;case"ConditionalExpression":{const t=e;y(t.test),y(t.consequent),y(t.alternate);break}case"MemberExpression":{const t=e;if(y(t.object),t.computed)y(t.property);else{const e=t.property.name;if(["constructor","__proto__","prototype"].includes(e))throw new Error("Access to prohibited property");if("string"==typeof e&&["toLocaleString","valueOf"].includes(e))throw new Error(`Access to prohibited method: ${e}`)}break}case"CallExpression":{const t=e;y(t.callee),t.arguments.forEach(y);break}case"ArrayExpression":e.elements.forEach((e=>{e&&y(e)}));break;case"ObjectExpression":e.properties.forEach((e=>{const t=e;y(t.key),y(t.value)}));break;case"ArrowFunctionExpression":{const t=e;t.params.forEach((e=>{if("Identifier"!==e.type)throw new Error("Only identifier parameters are supported in arrow functions");y(e)})),y(t.body);break}default:throw new Error(`Unsupported syntax in placeholder: ${e.type}`)}},v=(e,t)=>{switch(e.type){case"Literal":return e.value;case"Identifier":{const a=e;if(Object.prototype.hasOwnProperty.call(t,a.name))return t[a.name];if(Object.prototype.hasOwnProperty.call(b,a.name))return b[a.name];throw new Error(`Undefined variable: ${a.name}`)}case"BinaryExpression":{const a=e,r=v(a.left,t),o=v(a.right,t);switch(a.operator){case"+":return r+o;case"-":return r-o;case"*":return r*o;case"/":return r/o;case"%":return r%o;case"**":return r**o;case"==":return r==o;case"!=":return r!=o;case"===":return r===o;case"!==":return r!==o;case"<":return r<o;case">":return r>o;case"<=":return r<=o;case">=":return r>=o;default:throw new Error(`Unsupported operator: ${a.operator}`)}}case"LogicalExpression":{const a=e,r=v(a.left,t),o=v(a.right,t);switch(a.operator){case"&&":return r&&o;case"||":return r||o;default:throw new Error(`Unsupported operator: ${a.operator}`)}}case"UnaryExpression":{const a=e,r=v(a.argument,t);switch(a.operator){case"+":return+r;case"-":return-r;case"!":return!r;default:throw new Error(`Unsupported operator: ${a.operator}`)}}case"ConditionalExpression":{const a=e,r=v(a.test,t);return v(r?a.consequent:a.alternate,t)}case"MemberExpression":{const a=e,r=v(a.object,t);let o;if(o=a.computed?v(a.property,t):a.property.name,"string"==typeof o||"number"==typeof o){if("string"==typeof o&&["constructor","__proto__","prototype"].includes(o))throw new Error("Access to prohibited property");return r[o]}throw new Error("Invalid property access")}case"CallExpression":{const a=e,r=v(a.callee,t),o=a.arguments.map((e=>v(e,t)));if("function"==typeof r){if("MemberExpression"===a.callee.type){const e=a.callee,n=v(e.object,t);if(null===n||"object"!=typeof n&&"number"!=typeof n&&"string"!=typeof n&&"boolean"!=typeof n)throw new Error("Invalid object in member function call");return r.call(n,...o)}return r(...o)}throw new Error("Attempted to call a non-function")}case"ArrowFunctionExpression":{const a=e,r=a.params.map((e=>e.name)),o=a.body;return function(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];const i={...t};return r.forEach(((e,t)=>{i[e]=a[t]})),v(o,i)}}case"ArrayExpression":return e.elements.map((e=>e?v(e,t):null));case"ObjectExpression":{const a={};return e.properties.forEach((e=>{const r=e;let o;if("Identifier"===r.key.type)o=r.key.name;else{const e=v(r.key,t);if("string"!=typeof e&&"number"!=typeof e)throw new Error("Object property keys must be strings or numbers");o=String(e)}const n=v(r.value,t);a[o]=n})),a}default:throw new Error(`Unsupported syntax in placeholder: ${e.type}`)}},w=e=>{const{content:t,context:a}=e;let r="",o=0;for(;o<t.length;){const e=t.indexOf("{",o);if(-1===e){r+=t.slice(o);break}r+=t.slice(o,e);let n=1,i=e+1;for(;i<t.length&&n>0;)"{"===t[i]?n++:"}"===t[i]&&n--,i++;if(0!==n)throw new Error("Invalid placeholder");{const n=t.slice(e+1,i-1).trim();if(u.has(n)){const o=u.get(n);try{const e=o(a);r+=String(e)}catch{r+=t.slice(e,i)}}else try{const e=h.lP(n,0,{ecmaVersion:"latest"});y(e);const t=t=>v(e,t);u.set(n,t);const o=t(a);r+=String(o)}catch{r+=t.slice(e,i)}o=i}}return r},k=e=>{const{content:t,variables:a,schemas:r}=e;if(!t||"string"!=typeof t||!t.includes("{")||!t.includes("}"))return t;const o=new Date,n=f(o),i=(e=>`${f(e)} ${m(e.getHours())}:${m(e.getMinutes())}`)(o),c=(e=>{const t=JSON.stringify(e);if(g.has(t))return g.get(t);const a=Object.fromEntries(Object.entries(e).map((e=>{let[t,a]=e;if("string"==typeof a)try{return[t,JSON.parse(a)]}catch{return[t,a]}return[t,a]})));return g.set(t,a),a})({...Object.fromEntries(r.flat().map((e=>[e.name,e.readOnly&&e.content||""]))),...a}),l={date:n,dateTime:i,...c};return Object.entries(l).forEach((e=>{let[t,a]=e;"string"==typeof a&&a.includes("{")&&a.includes("}")&&(l[t]=w({content:a,context:l}))})),w({content:t,context:l})};var x=a(92991),C=a(64008),A=a(94559);const S="pdfme (https://pdfme.com/)",E=async e=>{const{template:{schemas:t,basePdf:a},pdfDoc:n}=e;let i=[],c=[];if((0,o.R4)(a)){const{width:e,height:l}=a,s=(0,o.JX)(e),d=(0,o.JX)(l);i=t.map((()=>{const e=r.PDFPage.create(n);return e.setSize(s,d),e})),c=t.map((()=>({mediaBox:{x:0,y:0,width:s,height:d},bleedBox:{x:0,y:0,width:s,height:d},trimBox:{x:0,y:0,width:s,height:d}})))}else{const e=await(0,o.wU)(a),t=(await r.PDFDocument.load(e)).getPages();c=t.map((e=>({mediaBox:e.getMediaBox(),bleedBox:e.getBleedBox(),trimBox:e.getTrimBox()})));const l=t.map((e=>{const{x:t,y:a,width:r,height:o}=e.getMediaBox();return{left:t,bottom:a,right:r,top:o+a}})),s=t.map((()=>[1,0,0,1,0,0]));i=await n.embedPages(t,l,s)}return{basePages:i,embedPdfBoxes:c}},L=e=>{const{basePage:t,embedPdfBox:a,pdfDoc:o}=e,n=t instanceof r.PDFEmbeddedPage?t.size():t.getSize(),i=t instanceof r.PDFEmbeddedPage?o.addPage([n.width,n.height]):o.addPage(t);if(t instanceof r.PDFEmbeddedPage){i.drawPage(t);const{mediaBox:e,bleedBox:r,trimBox:o}=a;i.setMediaBox(e.x,e.y,e.width,e.height),i.setBleedBox(r.x,r.y,r.width,r.height),i.setTrimBox(o.x,o.y,o.width,o.height)}return i},I=async e=>{(0,o.Ae)(e);const{inputs:t,template:a,options:n={},plugins:i={}}=e,c=a.basePdf;if(0===t.length)throw new Error("[@pdfme/generator] inputs should not be empty, pass at least an empty object in the array");((e,t)=>{e.schemas.forEach((e=>e.forEach((e=>{if(e.required&&!e.readOnly&&!t.some((t=>t[e.name])))throw new Error(`[@pdfme/generator] input for '${e.name}' is required to generate this PDF`)}))))})(a,t);const{pdfDoc:l,renderObj:s}=await(async e=>{const{template:t,userPlugins:a}=e,{schemas:n,basePdf:i}=t,c=(0,o.R4)(i)?i.staticSchema??[]:[],l=await r.PDFDocument.create();l.registerFontkit(C);const s=Object.values(a).length>0?Object.values(a):Object.values(A.builtInPlugins);return{pdfDoc:l,renderObj:Array.from(new Set(n.flatMap((e=>e.map((e=>e.type)))).concat(c.map((e=>e.type))))).reduce(((e,t)=>{const a=s.find((e=>e.propPanel.defaultSchema.type===t));if(!a)throw new Error(`[@pdfme/generator] Renderer for type ${t} not found.\nCheck this document: https://pdfme.com/docs/custom-schemas`);return{...e,[t]:a.pdf}}),{})}})({template:a,userPlugins:i}),d=new Map;for(let h=0;h<t.length;h+=1){const e=t[h],i=await p({template:a,input:e,options:n,_cache:d,getDynamicHeights:(e,t)=>"table"===t.schema.type?(0,x.LR)(e,t):Promise.resolve([t.schema.height])}),{basePages:u,embedPdfBoxes:g}=await E({template:i,pdfDoc:l}),m=[...new Set(i.schemas.flatMap((e=>e.map((e=>e.name)))))];for(let t=0;t<u.length;t+=1){const a=u[t],p=g[t],h=L({basePage:a,embedPdfBox:p,pdfDoc:l});if((0,o.R4)(c)&&c.staticSchema)for(let o=0;o<c.staticSchema.length;o+=1){const a=c.staticSchema[o],p=s[a.type];if(!p)continue;const g=k({content:a.content||"",variables:{...e,totalPages:u.length,currentPage:t+1},schemas:i.schemas});await p({value:g,schema:a,basePdf:c,pdfLib:r,pdfDoc:l,page:h,options:n,_cache:d})}for(let o=0;o<m.length;o+=1){const a=m[o],p=(i.schemas[t]||[]).find((e=>e.name==a));if(!p)continue;const g=s[p.type];if(!g)continue;const f=p.readOnly?k({content:p.content||"",variables:{...e,totalPages:u.length,currentPage:t+1},schemas:i.schemas}):e[a]||"";await g({value:f,schema:p,basePdf:c,pdfLib:r,pdfDoc:l,page:h,options:n,_cache:d})}}}return(e=>{const{pdfDoc:t,options:a}=e,{author:r=S,creationDate:o=new Date,creator:n=S,keywords:i=[],lang:c="en",modificationDate:l=new Date,producer:s=S,subject:d="",title:p=""}=a;t.setAuthor(r),t.setCreationDate(o),t.setCreator(n),t.setKeywords(i),t.setLanguage(c),t.setModificationDate(l),t.setProducer(s),t.setSubject(d),t.setTitle(p)})({pdfDoc:l,options:n}),l.save()}},78515:(e,t,a)=>{"use strict";a.r(t),a.d(t,{generate:()=>r.A});var r=a(80519)},48888:(e,t,a)=>{"use strict";a.d(t,{A:()=>L});var r=a(92991),o=a(63489),n=a(1108);const i=["qrcode","japanpost","ean13","ean8","code39","code128","nw7","itf14","upca","upce","gs1datamatrix"],c="#000000",l=!0,s=(e,t)=>{let a=!0;if(e.length===t){const t=e.slice(0,-1).replace(/[^0-9]/g,"");let r=0,o=1;for(let e=t.length-1;e>-1;e-=1)r+=Number(t[e])*(o?3:1),o^=1,r>0xffffffffffff&&(r%=10);a=String(10-r%10).slice(-1)===e.slice(-1)}return a},d=(e,t)=>{if(!t)return!1;if(!i.includes(e))return!1;if("qrcode"===e)return t.length<500;if("japanpost"===e){return/^(\d{7})(\d|[A-Z]|-)+$/.test(t)}if("ean13"===e){return/^\d{12}$|^\d{13}$/.test(t)&&s(t,13)}if("ean8"===e){return/^\d{7}$|^\d{8}$/.test(t)&&s(t,8)}if("code39"===e){return/^(\d|[A-Z]|\-|\.|\$|\/|\+|\%|\s)+$/.test(t)}if("code128"===e)return!t.match(/([\u30a0-\u30ff\u3040-\u309f\u3005-\u3006\u30e0-\u9fcf]|[\uff21-\uff3a\uff41-\uff5a\uff10-\uff19\uff01\uff02\uff03\uff04\uff05\uff06\uff07\uff08\uff09\uff0a\uff0b\uff0c\uff0d\uff0e\uff0f\uff1a\uff1b\uff1c\uff1d\uff1e\uff1f\uff20\uff3b\uff3c\uff3d\uff3e\uff3f\uff40\uff5b\uff5c\uff5d\u301c\u3000])+/);if("nw7"===e){return/^[A-Da-d]([0-9\-\.\$\:\/\+])+[A-Da-d]$/.test(t)}if("itf14"===e){return/^\d{13}$|^\d{14}$/.test(t)&&s(t,14)}if("upca"===e){return/^\d{11}$|^\d{12}$/.test(t)&&s(t,12)}if("upce"===e){return/^0(\d{6}$|\d{7}$)/.test(t)&&s(t,8)}if("gs1datamatrix"===e){let e=!1;const a=/\((01)\)(\d*)(\(|$)/;let r=t.match(a);if(null!=r&&t.length<=52&&"01"===r[1]&&(14===r[2].length||8===r[2].length||12===r[2].length||13===r[2].length)){let t=r[2];e=s(t,t.length)}return e}return!1},p=(e,t)=>e?e.replace("#",""):t?t.replace("#",""):"000000",h=async e=>{const{type:t,input:a,width:r,height:i,backgroundColor:c,barColor:s,textColor:d,includetext:h=l}=e,u=(e=>"nw7"===e?"rationalizedCodabar":e)(t),g={bcid:u,text:a,width:r,height:i,scale:5,includetext:h,textxalign:"center"};let m;if(c&&(g.backgroundcolor=p(c)),s&&(g.barcolor=p(s)),d&&(g.textcolor=p(d)),"undefined"!=typeof window){const e=document.createElement("canvas");n.Ay.toCanvas(e,g);const t=e.toDataURL("image/png");m=(0,o.Z5)(t).buffer}else m=await n.Ay.toBuffer(g);return m},u=async e=>{const{value:t,schema:a,pdfDoc:o,page:n,_cache:i}=e;if(!d(a.type,t))return;const c=((e,t)=>`${e.type}${e.backgroundColor}${e.barColor}${e.textColor}${t}${e.includetext}`)(a,t);let l=i.get(c);if(!l){const e=await h(Object.assign(a,{type:a.type,input:t}));l=await o.embedPng(e),i.set(c,l)}const s=n.getHeight(),{width:p,height:u,rotate:g,position:{x:m,y:f},opacity:b}=(0,r.hY)({schema:a,pageHeight:s});n.drawImage(l,{x:m,y:f,rotate:g,width:p,height:u,opacity:b})};var g=a(29777);const m={backgroundColor:"#ffffff",barColor:c},f={textColor:c},b={includetext:l},y={x:0,y:0},v={width:40,height:20},w=[{defaultSchema:{name:"",type:"qrcode",content:"https://pdfme.com/",position:y,...m,width:30,height:30,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"japanpost",content:"6540123789-A-K-Z",position:y,...m,...f,...b,width:80,height:7.2,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"ean13",content:"2112345678900",position:y,...m,...f,...b,...v,height:16,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"ean8",content:"02345673",position:y,...m,...f,...b,...v,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"code39",content:"THIS IS CODE 39",position:y,...m,...f,...b,...v,opacity:g.q}},{defaultSchema:{name:"",type:"code128",content:"This is Code 128!",position:y,...m,...f,...b,...v,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"nw7",content:"A0123456789B",position:y,...m,...f,...b,...v,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"itf14",content:"04601234567893",position:y,...m,...f,...b,...v,height:12,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"upca",content:"416000336108",position:y,...m,...f,...b,...v,height:16,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"upce",content:"00123457",position:y,...m,...f,...b,...v,rotate:0,opacity:g.q}},{defaultSchema:{name:"",type:"gs1datamatrix",content:"(01)03453120000011(17)191125(10)ABCD1234",position:y,...m,width:30,height:30,rotate:0,opacity:g.q}}],k=e=>{const t="qrcode"!==e&&"gs1datamatrix"!==e,a=w.find((t=>{let{defaultSchema:a}=t;return a.type===e}));if(!a)throw new Error(`[@pdfme/schemas/barcodes] No default for barcode type ${e}`);return{schema:e=>{let{i18n:a}=e;return{barColor:{title:a("schemas.barcodes.barColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:g.p,message:a("validation.hexColor")}]},backgroundColor:{title:a("schemas.bgColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:g.p,message:a("validation.hexColor")}]},...t?{textColor:{title:a("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0}},includetext:{title:a("schemas.barcodes.includetext"),type:"boolean",widget:"switch"}}:{}}},...a}},x={width:"100%",height:"100%"},C=async(e,t)=>{const a=await h({...e,input:t}),r=new Blob([new Uint8Array(a)],{type:"image/png"});var o;return await(o=r,new Promise(((e,t)=>{const a=new FileReader;a.onloadend=()=>e(a.result),a.onerror=t,a.readAsDataURL(o)})))},A=async e=>{const{value:t,rootElement:a,mode:o,onChange:n,stopEditing:i,tabIndex:c,placeholder:l,schema:s,theme:p}=e,h=document.createElement("div"),u={...x,display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"'Open Sans', sans-serif"};Object.assign(h.style,u),a.appendChild(h);const g=(0,r.Xl)(o,s);if(g){const e=document.createElement("input"),a={width:"100%",position:"absolute",textAlign:"center",fontSize:"12pt",fontWeight:"bold",color:p.colorWhite,backgroundColor:g||t?(0,r.gs)("#000000",80):"none",border:"none",display:"flex",alignItems:"center",justifyContent:"center",overflow:"auto"};Object.assign(e.style,a),e.value=t,e.placeholder=l||"",e.tabIndex=c||0,e.addEventListener("change",(e=>{n&&n({key:"content",value:e.target.value})})),e.addEventListener("blur",(()=>{i&&i()})),h.appendChild(e),e.setSelectionRange(t.length,t.length),"designer"===o&&e.focus()}if(t)try{if(!d(s.type,t))throw new Error("[@pdfme/schemas/barcodes] Invalid barcode input");const e=await(async(e,t)=>{const a=await C(e,t),r=document.createElement("img");r.src=a;const o={...x,borderRadius:0};return Object.assign(r.style,o),r})(s,t);h.appendChild(e)}catch(m){console.error(`[@pdfme/ui] ${m}`),h.appendChild((0,r.rA)())}};var S=a(55624),E=a(24351);const L=i.reduce(((e,t)=>Object.assign(e,{[t]:{pdf:u,ui:A,propPanel:k(t),icon:(0,r.Ci)("qrcode"==t?S.A:E.A)}})),{})},29777:(e,t,a)=>{"use strict";a.d(t,{p:()=>o,q:()=>r});const r=1,o="^#(?:[A-Fa-f0-9]{6})$"},94559:(e,t,a)=>{"use strict";a.r(t),a.d(t,{barcodes:()=>U.A,builtInPlugins:()=>ka,checkbox:()=>wa,date:()=>qt,dateTime:()=>Vt,ellipse:()=>ee,image:()=>D,line:()=>Q,multiVariableText:()=>m,radioGroup:()=>ga,rectangle:()=>q,select:()=>na,svg:()=>$,table:()=>Le,text:()=>f.A,time:()=>ta});var r=a(63760);const o=(e,t)=>{if(!e)return"";let a=e;if(t){const e="string"==typeof t?JSON.parse(t)||{}:t;Object.keys(e).forEach((t=>{const r=t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),o=new RegExp("{"+r+"}","g");a=a.replace(o,e[t])}))}return a=a.replace(/{[^{}]+}/g,""),a};var n=a(96479);const i={schema:e=>{if("function"!=typeof n.e.schema)throw Error("Oops, is text schema no longer a function?");return{...n.e.schema(e),"-------":{type:"void",widget:"Divider"},dynamicVarContainer:{title:e.i18n("schemas.mvt.variablesSampleData"),type:"string",widget:"Card",span:24,properties:{dynamicVariables:{type:"object",widget:"mapDynamicVariables",bind:!1,span:24},placeholderDynamicVar:{title:"Placeholder Dynamic Variable",type:"string",format:"textarea",props:{id:"placeholder-dynamic-var",autoSize:{minRows:2,maxRows:5}},span:24}}}}},widgets:{...n.e.widgets,mapDynamicVariables:e=>{const{rootElement:t,changeSchemas:a,activeSchema:r,i18n:o,options:n}=e,i=r,l=i.text||"",s=JSON.parse(i.content)||{},d=c(l,s),p=Object.keys(s);d&&a([{key:"content",value:JSON.stringify(s),schemaId:r.id},{key:"variables",value:p,schemaId:r.id}]);const h=document.getElementById("placeholder-dynamic-var")?.closest(".ant-form-item");if(!h)throw new Error("Failed to find Ant form placeholder row to create dynamic variables inputs.");if(h.style.display="none",t.parentElement.style.display="block",p.length>0)for(let c of p){const e=h.cloneNode(!0),o=e.querySelector("textarea");o.id="dynamic-var-"+c,o.value=s[c],o.addEventListener("change",(e=>{s[c]=e.target.value,a([{key:"content",value:JSON.stringify(s),schemaId:r.id}])}));e.querySelector("label").innerText=c,e.style.display="block",t.appendChild(e)}else{const e=document.createElement("p");e.innerHTML=o("schemas.mvt.typingInstructions")+` <code style="color:${n?.theme?.token?.colorPrimary||"#168fe3"}; font-weight:bold;">{`+o("schemas.mvt.sampleField")+"}</code>",t.appendChild(e)}}},defaultSchema:{...n.e.defaultSchema,readOnly:!1,type:"multiVariableText",text:"Add text here using {} for variables ",width:50,height:15,content:"{}",variables:[]}},c=(e,t)=>{const a=e.match(/\{([^{}]+)}/g);let r=!1;if(a){for(const e of a){const a=e.replace("{","").replace("}","");a in t||(t[a]=a.toUpperCase(),r=!0)}Object.keys(t).forEach((e=>{a.includes("{"+e+"}")||(delete t[e],r=!0)}))}else Object.keys(t).forEach((e=>{delete t[e],r=!0}));return r};var l=a(558),s=a(92991);const d=async e=>{const{value:t,schema:a,rootElement:r,onChange:n,stopEditing:i,theme:c}=e,s=a.text;r.parentElement&&(r.parentElement.style.outline="");const d=JSON.parse(t)||{},h=p(s),u=o(s,d),g=await(0,l.OT)(e,u);let m=!1;for(let o=0;o<s.length;o++)if(h[o]){m=!0;let e=document.createElement("span");e.style.outline=`${c.colorPrimary} dashed 1px`,(0,l.N4)(e),e.textContent=d[h[o]],e.addEventListener("blur",(e=>{const t=e.target.textContent||"";t!==d[h[o]]&&(d[h[o]]=t,n&&n({key:"content",value:JSON.stringify(d)}),i&&i())})),g.appendChild(e)}else if(m)"}"===s[o]&&(m=!1);else{let e=document.createElement("span");e.style.letterSpacing=s.length===o+1?"0":"inherit",e.textContent=s[o],g.appendChild(e)}},p=e=>{const t=/\{([^}]+)}/g,a=[];let r;for(;null!==(r=t.exec(e));)a[r.index]=r[1];return a},h=e=>{const t=/\{([^}]+)}/g,a=new Set;let r;for(;null!==(r=t.exec(e));)a.add(r[1]);return a.size},u=e=>{if("ArrowUp"==e.key||"ArrowDown"==e.key||"ArrowLeft"==e.key||"ArrowRight"==e.key)return!1;const t=window.getSelection(),a=e.target;if(t?.focusOffset===a?.textContent?.length)return"}"===e.key||"Backspace"===e.key||"Delete"===e.key;return!(0===t?.anchorOffset)||("{"===e.key||"Backspace"===e.key||"Delete"===e.key)};var g=a(89851);const m={pdf:async e=>{const{value:t,schema:a,...n}=e;if(!((e,t)=>{if(0==t.variables.length)return!0;let a;try{a=e?JSON.parse(e):{}}catch(r){throw new SyntaxError(`[@pdfme/generator] invalid JSON string '${e}' for variables in field ${t.name}`)}for(const o of t.variables)if(!a[o]){if(t.required)throw new Error(`[@pdfme/generator] variable ${o} is missing for field ${t.name}`);return!1}return!0})(t,a))return;const i={value:o(a.text||"",t),schema:a,...n};await(0,r.f)(i)},ui:async e=>{const{value:t,schema:a,rootElement:r,mode:n,onChange:i,...c}=e;let p=a.text,g=a.variables.length;if("form"===n&&g>0)return void await d(e);await(0,l.nW)({value:(0,s.Xl)(n,a)?p:o(p,t),schema:a,mode:"form"==n?"viewer":n,rootElement:r,onChange:e=>{if(Array.isArray(e))throw new Error("onChange is not an array, the parent text plugin has changed...");{const t=h(e.value);i&&i([{key:"text",value:e.value},{key:"readOnly",value:0==t}])}},...c});const m=r.querySelector("#text-"+a.id);if(!m)throw new Error('Text block not found. Ensure the text block has an id of "text-" + schema.id');"designer"===n&&m.addEventListener("keyup",(e=>{if(p=m.textContent||"",u(e)){const e=h(p);g!==e&&(i&&i([{key:"text",value:p},{key:"readOnly",value:0==e}]),g=e)}}))},propPanel:i,icon:(0,s.Ci)(g.A),uninterruptedEditMode:!0};var f=a(51838),b=a(63489),y=a(90114),v=a(29777),w=a(38891);const k=new TextDecoder,x=function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=e.length),k.decode(e.slice(t,a))},C=function(e,t){return void 0===t&&(t=0),256*e[t]+e[t+1]},A=function(e,t){return void 0===t&&(t=0),e[t]*2**24+65536*e[t+1]+256*e[t+2]+e[t+3]},S=(e,t)=>({height:C(e,t),width:C(e,t+2)}),E=(e,t)=>{if(t>e.length)throw new TypeError("Corrupt JPG, exceeded buffer limits");if(255!==e[t])throw new TypeError("Invalid JPG, marker table corrupted")},L="CgBI",I={jpg:{validate:e=>"ffd8"===function(e,t,a){return void 0===t&&(t=0),void 0===a&&(a=e.length),e.slice(t,a).reduce(((e,t)=>e+("0"+t.toString(16)).slice(-2)),"")}(e,0,2),calculate(e){let t;for(e=e.slice(4);e.length;){const a=C(e,0);if(E(e,a),t=e[a+1],192===t||193===t||194===t){return S(e,a+5)}e=e.slice(a+2)}throw new TypeError("Invalid JPG, no size found")}},png:{validate(e){if("PNG\r\n\x1a\n"===x(e,1,8)){let t=x(e,12,16);if(t===L&&(t=x(e,28,32)),"IHDR"!==t)throw new TypeError("Invalid PNG");return!0}return!1},calculate:e=>x(e,12,16)===L?{height:A(e,36),width:A(e,32)}:{height:A(e,20),width:A(e,16)}}};const j=e=>{const t=function(e){const t={137:"png",255:"jpg"},a=e[0];if(a in t){const r=t[a];if(r&&I[r].validate(e))return r}return Object.keys(I).find((t=>I[t].validate(e)))}(e);if(void 0!==t&&t in I){const a=I[t].calculate(e);if(void 0!==a)return a}throw new TypeError("[@pdfme/schemas/images] Unsupported file type: "+(void 0===t?"undefined":t))};var P=a(21481),O=a(92359),z=a.n(O);P.GlobalWorkerOptions.workerSrc=z();const H=async function(e,t){return void 0===t&&(t={}),async function(e,t,a){void 0===t&&(t={});try{const{scale:r=1,imageType:o="jpeg",range:n={}}=t,{start:i=0,end:c=1/0}=n,{getDocument:l,createCanvas:s,canvasToArrayBuffer:d}=a,p=await l(e),h=p.numPages,u=Math.max(i+1,1),g=Math.min(c+1,h),m=[];for(let e=u;e<=g;e++){const t=await p.getPage(e),a=t.getViewport({scale:r}),n=s(a.width,a.height);if(!n)throw new Error("Failed to create canvas");const i=n.getContext("2d");if(!i)throw new Error("Failed to get canvas context");await t.render({canvasContext:i,viewport:a}).promise;const c=d(n,o);m.push(c)}return m}catch(r){throw new Error(`[@pdfme/converter] pdf2img failed: ${r.message}`)}}(e,t,{getDocument:e=>P.getDocument(e).promise,createCanvas:(e,t)=>{const a=document.createElement("canvas");return a.width=e,a.height=t,a},canvasToArrayBuffer:(e,t)=>function(e){const t=e.split(",")[1],a=atob(t),r=new ArrayBuffer(a.length),o=new Uint8Array(r);for(let n=0;n<a.length;n++)o[n]=a.charCodeAt(n);return r}(e.toDataURL(`image/${t}`))})};function R(e){return e.startsWith("data:application/pdf;")}const N={width:"100%",height:"100%"},W="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAGQBAMAAAA+V+RCAAAAAXNSR0IArs4c6QAAABtQTFRFAAAAR3BMAAAAAAAAAAAAAAAAAAAAAAAAAAAAqmQqwQAAAAh0Uk5TDQAvVYGtxusE1uR9AAAKg0lEQVR42tTbwU7bQBDG8TWoPeOBPoBbdbhiVMGV0Kr0GChSe0RtRfccEOROnP0eu8ckTMHrjD27/h4Afvo7u4kUxZXbjuboZ+Hx9vrz+6J8eW5rJKPHhYfr46J/JHn0u/DnuHcko/eF71Ub0j6k3P1Rr0jGIHs4bkPah5RbnveHZMBQ6VKHlMqjnpCMAdfUApk8pNx91QeSMex+C2R2IYFwrkcyht6yEsjkIeXutEjG8AtnApldSGBRqJAMk10JZHYhgaZSIBlG+yWQipAGKZ0ipNmr0uUaEmiKLZEMw52tkLqQD7f6PT7iv1uskLqQV06/nQ9ffswhF+oVUhMS07KX7Xz6+8ot5BQhBVLF/Pry0XGKkAKpGp3IRz7pjmQMiSz3TvB8s85I8h2ReuWy6IpkDIws6UI8745I8oMjy10vnnc3JGN4ZPlRnO9OSPIWyL0LcZ93QTIskOXuXPz9eCR5G2R5io09dUEyjJD7c3kJudiQJkiZMtTxSIYZ8mAu/oGLDGmHLL9hfXfRSIYh8g3W18QiyVsh5VdtoYpEMsyQ8uhM4pDk7ZDyeU/jkAw7pHzesygkeUOkPN+LKCTDGsnP3nNcREhz5MHm8Y5AMkyRskvdjiRvi5Qvyst2JCMB8hBru2lFkjdGypty1opkpEDuY21PbUjy1kh5nS/akIwkyL2fWK0pXEtIc6Q83ssWJCMR8nTjNncxIe2Rh/FIRirkW6ytdjEh7ZHvopGMFEj5EWPiYkLaI/djkYyEyDlWu3SakOmRjIRIWkdOnSJkeiQjfyT5ESAZ+SPJjwDJyB9JfgRIRv5I8iNAMvJHkh8BkpE/kvwIkIz8keRHgGTkjyQ/AiQjfyT5ESAZ+SPJjwDJyB9JfgRIRv5I8iNAMjJF6kLi0gSpC4mJMZJ8tkhdSNQmSF3IUNkiGfkiVSHRFCZIVUgsShOkKiRmNkhVSNzYIFUhMbFBqkKGygapCtkUhkhW/JrUAqkJiakRUhMy1EZITcimsEOy4keaNkhFyFBbIRUhF4UZkv61dzfdaRtRGIBHtqFbXQn2RhizDdg1XprYsVk2TlxryYlTo2WP4yLtwaCf3dNGyu3wWkqaczQzizurAGb05M6HPtBcJT+/jtQU8ucDuekZQwaJc8MGkV33AonIloFAWkO+9NxHbi/IfeQDuY987rmP/AuN9pEYR/eQmP7MbeQ25Xx3lpBX3yuXJxETzSN//AxVkIIUpCAFKUhBClKQghSkIAUpSEEKUpCCFKQgBSlIQQpSkIIUpCAFKUhBClKQghSkIAUpSEEKUpCCFKQgmyy+AeRedKi/jKr+LvII3z25uru7uhx7jSL379PlW/3lB+/1v0vhg+B08XXD6edxM0h+ntJm9K2eGJ7FW3xw/88Ht7vw/65L8BpDtvQF/MdVC5wGxQdg5O08eE0hz4v1a3pe9AsI+AwX0QeasYhzE0g/0XKIhBks8dY/eNI6CqzeagYZZtqa7k7VysBjzD4xeG3ZUQNIVs11y3YKvYLXVfMQg3LbHJKbccjrF7FX8BP+MJD8fzCIXEGv4Mp4JGG5MIbEkLSgsk5FUgVjSFyKPoTKhlVrcU0hMYXDjCvTJlQsU5PIJ712rgzzp6dpxi/mJpFr7a+gMt7A5sM4Ornm/5whJH6rDW9PvhnHROQHZzwtmEFi5zqHymY707d/YwU5h8excGW8ubVHsNc3iFxh5VxZiJPAxGifxOm8C5V1sO4Do1MQTudDqKyNc0AQm5zMMSvhDCob5ti4Az4wMYZkQJBAZRMcXeSfpennnlkkN2WIlc1e2wn60dgjM0j8XqsaOSIohpFlmCZYWcyvrCK5w8VQme8OclVWjcjEMhKm805eidx4VpAIomN8L8gsI2E6P3cUuS3f5Kbdas2dcYewhnzOeDoPM36LI+kA8ikuTv34EOgyq4tkdFqm1Dg0hzwvdyjlW9uoLpL7i7wsy5ExZJun89lXzn4d8gYuD5hAdsoNlhWvwhpkmMHlARPIICsRnSKmdcgupOEzgqRZ+dWi4adBDbIN1zDMIIflBidFHXWRHFpCtop/+HExYwYOIovArYOM36icJ1t2kOXOcHNU1FgbyY4dZHlYsb0vRmxtJP3YChIfCR5kNUdBg8wKUm/CNUEkNaR/+vvjY2IayRXy69ojc6VUOcZH5pAU6y0Y7iCx6l8sICd6DUFWf7bIB8wmkS39jCwEJESS3zOGDLWjL45k5RWMoQVkkGhXCUJAwjVrHkxmkAWkpEAkJ+WW8LeeF6PIIVcAkYTrk9xP12QS2eWpnDcAV3pBsDKJ5CqfCCJ5gHV3IbgmkH5cVgeRrPn1IZ8bRPJw3Y4gkry5Z2/3F/GpWWS7nFMwkhTv3Bvi3/DWjCJDHgkcSfht8c2/xl9572QWGSRlt8NI8gni8jKK+tcZ753MImnIX+dI4i8SaZrmvG3TyE7GoeFI4hkDbMwkks6yfDkiiCR3SihrMo70+yeHBJHkL2L5ZB5Jvk8EkYT2hm2ZQnLBSOL1fh7bTSL//N/IIEHjdtT4XX+MnFduYOPV3fX3QI0gA/3+yVblA/j8BI7NbjBDfzNImmmXZ8PqVptBpwsTuMezIWRL23YQV+5/j3GHcpBoxrfUAJJZHLpB5a2aQYIN2r/nzWzeNnmf+SJNWRVcp+lnj14rR4t0uduge+/SvJH7zPGe+4i4+P3KexSik0McT9Hpu7s/7q7GnttrH3ylPFlFIkhBClKQghSkIAUpSEEKUpCCFKQgBSlIQQpSkIIUpCAFKUhBClKQghSkIAUpSEEKUpCCFKQgbSO7cPO35YKpKN5ryNxN5FR13ETm1cipK0hdpTTze1eQeifUkXNXkG0dubsY337B1HI68osryImO9BNct2W/zLSsFcqPIT+a/bKDUhp623Nwr7gmRecwmzs2l69I6dlxfrPuw2Q4T6SonTs2B2FKRkXd3L3hPdN3g4rC3LmREyT6OFE7SSOn9omYIlKRr7E/2SdiBiJFNHOsU6JIQbpLZ6ZynnAUHxY5M1N2NdCcSHE3deZAaLKbMkxxdF1pb/QoIordau+WxnkhIgXhXXt2jf4Mup8Cuu35vJNBwyo+MGK7Q8MmHxVIP4GV9tavXfD+pkDSOYTSmUCuqES2cgilxUDiXKPgE6sD3L+BeBVITKdxaws5gOcRlUh8hM3GSoNjAoX8iRgJ6VOeezaMmIpiykiehHiEe+aN/tmuYuMxktuby4NnxYitzchOjkrDLR6cZWCYMrIiXc7zoUnj3nX1s8ZUTbqc5eWhMeLpoibvkdJmemBejSPVeIn6V4ssr0nXo7QzNCxp+th4KVKEQXkmRvLQcaxcANKPXTO+eICkgWvIW0JkEDsWyB4hkgbuBRKRQexcIBFJA/cCichg5o5x7VUg6SCzTMN0YYikiSvIL1SNDGLnRg0i6ch2g2PeNUTSmQvIBwIknAtZLXgWiEgKY+sdckTfQ9J+Yte4eUOIhHJkQ4mJABGJSvvGeiT1F7aMyzH9KJL2biyN6zdUjUTlr6l54vZDj+qQWPrXmWEi5KUEJBa//26RGRMuP449+jEkprV8TLPGgenjx8uomkj0N73+g6V/XjknAAAAAElFTkSuQmCC",M={pdf:async e=>{const{value:t,schema:a,pdfDoc:r,page:o,_cache:n}=e;if(!t)return;const i=R(t);if(!(t.startsWith("data:image/")||i))return;const c=((e,t)=>`${e.type}${t}`)(a,t);let l=n.get(c);if(!l){if(i)[l]=await r.embedPdf(t);else{const e=t.startsWith("data:image/png;");l=await(e?r.embedPng(t):r.embedJpg(t))}n.set(c,l)}const d={...a,position:{...a.position}},p=i?l.scale(1):(e=>{const t=";base64,",a=e.indexOf(t),r=e.substring(a+8,e.length);return j(w.hp.from(r,"base64"))})(t),h=(0,b.Nz)(p.width),u=(0,b.Nz)(p.height),g=d.width,m=d.height,f=h/u;f>g/m?(d.width=g,d.height=g/f,d.position.y+=(m-d.height)/2):(d.width=m*f,d.height=m,d.position.x+=(g-d.width)/2);const y=o.getHeight(),v=(0,s.hY)({schema:d,pageHeight:y}),{width:k,height:x,rotate:C,position:A,opacity:S}=v,{x:E,y:L}=A,I={x:E,y:L,rotate:C,width:k,height:x,opacity:S};i?o.drawPage(l,I):o.drawImage(l,I)},ui:async e=>{const{value:t,rootElement:a,mode:r,onChange:o,stopEditing:n,tabIndex:i,placeholder:c,theme:l,schema:d}=e,p=(0,s.Xl)(r,d),h=t===W,u=document.createElement("div"),g=c?`url(${c})`:"none",m={...N,backgroundImage:t?"none":g,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"};if(Object.assign(u.style,m),u.addEventListener("click",(e=>{p&&e.stopPropagation()})),a.appendChild(u),t){let a=R(t)?await(async e=>{let{schema:t,value:a,_cache:r}=e;const o=((e,t)=>`${e.type}${t}`)(t,a),n=r.get(o);if(n)return n;const i=await H((0,b.Z5)(a),{imageType:"png",range:{end:1}}),c=URL.createObjectURL(new Blob([i[0]],{type:"image/png"}));return r.set(o,c),c})(e):t;const r=document.createElement("img"),o={height:"100%",width:"100%",borderRadius:0,objectFit:"contain"};Object.assign(r.style,o),r.src=a,u.appendChild(r)}if(t&&!h&&p){const e=document.createElement("button");e.textContent="x";const t={position:"absolute",top:0,left:0,zIndex:1,display:"flex",justifyContent:"center",alignItems:"center",color:"#333",background:"#f2f2f2",borderRadius:"2px",border:"1px solid #767676",cursor:"pointer",height:"24px",width:"24px"};Object.assign(e.style,t),e.addEventListener("click",(()=>{o&&o({key:"content",value:""})})),u.appendChild(e)}if((!t||h)&&p){const e=document.createElement("label"),a={...N,display:p?"flex":"none",position:"absolute",top:0,backgroundColor:p||t?(0,s.gs)(l.colorPrimaryBg,30):"none",cursor:"pointer"};Object.assign(e.style,a),u.appendChild(e);const r=document.createElement("input"),c={...N,position:"absolute",top:"50%",left:"50%",width:"180px",height:"30px",marginLeft:"-90px",marginTop:"-15px"};Object.assign(r.style,c),r.tabIndex=i||0,r.type="file",r.accept="image/jpeg, image/png, application/pdf",r.addEventListener("change",(e=>{const t=e;(0,s.TA)(t.target.files).then((e=>o&&o({key:"content",value:e})))})),r.addEventListener("blur",(()=>n&&n())),e.appendChild(r)}},propPanel:{schema:{},defaultSchema:{name:"",type:"image",content:W,position:{x:0,y:0},width:40,height:40,rotate:0,opacity:v.q}},icon:(0,s.Ci)(y.A)},D=M;var T=a(78394),B=a(5602);const J=e=>!0===T.XMLValidator.validate(e),F={ui:e=>{const{rootElement:t,value:a,mode:r,onChange:o,theme:n,schema:i}=e,c=document.createElement((0,s.Xl)(r,i)?"textarea":"div");if(c.style.width="100%",c.style.height="100%",c.style.boxSizing="border-box",(0,s.Xl)(r,i)){const e=c;if(e.value=a,e.style.position="absolute",e.style.backgroundColor=(0,s.gs)(n.colorPrimaryBg,30),J(a)){const e=(new DOMParser).parseFromString(a,"text/xml").childNodes[0];e instanceof SVGElement&&(e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.style.position="absolute"),t.appendChild(e)}else if(a){const e=(0,s.rA)();e.style.position="absolute",t.appendChild(e)}e.addEventListener("change",(e=>{const t=e.target.value;o&&o({key:"content",value:t})})),t.appendChild(c),e.setSelectionRange(a.length,a.length),e.focus()}else{if(!a)return;if(!J(a))return void t.appendChild((0,s.rA)());c.innerHTML=a;const e=c.childNodes[0];e instanceof SVGElement&&(e.setAttribute("width","100%"),e.setAttribute("height","100%"),t.appendChild(c))}},pdf:async e=>{const{page:t,schema:a,value:r}=e;if(!r||!J(r))return;const o=t.getHeight(),{width:n,height:i,position:c}=(0,s.hY)({schema:a,pageHeight:o}),{x:l,y:d}=c;await t.drawSvg(r,{x:l,y:d+i,width:n,height:i})},propPanel:{schema:{},defaultSchema:{name:"",type:"svg",content:'<svg viewBox="0 0 488 600" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <g transform="matrix(1,0,0,1,-56,0)" fill="#000000" stroke="none">\n        <path d="M228.667,0L56,172.667L56.267,345.334L56.667,518L59.733,527.334C65.867,545.467 72.933,557.067 86,570.134C96.133,580.4 100,583.2 110.667,588.4C134.533,600.134 120,599.334 300,599.334C480,599.334 465.467,600.134 489.334,588.4C500,583.2 503.867,580.4 514,570.134C527.334,556.8 534.534,544.8 540.267,526.667L543.334,516.667L543.334,83.333L540.267,73.333C534.534,55.2 527.334,43.2 514,29.867C503.867,19.6 500,16.8 489.334,11.6C465.734,0 475.467,0.8 344.667,0.267L228.667,0ZM466.4,41.6C483.334,48.933 496.267,61.867 502.934,78.4L506,86L506,514L502.934,521.734C496,538.934 480.267,553.867 463.334,559.334C455.6,561.867 450.8,562 300,562C149.2,562 144.4,561.867 136.667,559.334C119.733,553.867 104,538.934 97.067,521.734L94,514L93.6,351.067L93.333,188.133L149.067,187.733L204.667,187.333L213.6,182.933C224.8,177.467 235.867,165.867 240.267,155.067C243.333,147.467 243.333,146.4 243.733,92.267L244.133,37.2L458,38L466.4,41.6ZM195.067,304C175.6,306.8 164,320.667 165.6,339.467C166,343.6 167.6,348.667 169.733,352.4C174.4,360.267 185.2,365.734 201.867,368.534C208.4,369.734 215.067,371.467 216.8,372.667C224,377.334 221.467,389.067 212.533,392C205.6,394.4 193.733,392.934 185.6,388.8C173.333,382.534 164,385.334 164,395.2C164,400.934 170.133,406.667 180.267,410.134C190.933,413.867 217.067,413.734 225.467,409.867C238.933,403.6 246.667,390 244.8,375.6C242.667,359.734 232.8,351.334 212.267,347.867C193.6,344.8 189.333,342.4 189.333,334.533C189.333,324.267 201.867,320.933 218.267,326.667C228.667,330.267 232.533,330.133 235.867,325.867C242.133,318 237.6,310.667 224.267,306.8C213.333,303.6 204.267,302.8 195.067,304ZM386,304.133C377.6,305.333 374,306.8 367.334,311.6C355.734,320.133 351.2,336.4 352.4,365.334C353.2,385.334 356,394.4 364.134,402.534C372.267,410.667 381.734,413.734 396.667,413.067C406.8,412.667 409.734,412 415.734,408.667C429.2,401.334 434.534,390.934 435.6,370.667C436.4,353.734 436,353.067 420.934,352.267C401.867,351.334 396,353.467 396,361.867C396,367.867 399.467,370.667 407.067,370.667C413.2,370.667 413.334,370.667 413.334,374.934C413.334,394 386.267,400.534 378.534,383.467C374.934,375.334 374.934,341.867 378.534,333.733C382,326.4 387.467,323.467 396.8,324.267C403.067,324.8 404.667,325.6 410.534,331.067C414.267,334.533 418.4,337.333 419.867,337.333C427.334,337.333 433.334,330.267 431.334,323.733C427.2,310.133 406.4,301.2 386,304.133ZM258.4,308C255.067,311.467 254.533,312.8 255.2,316.4C257.067,326.667 285.333,405.867 288.133,408.8C289.733,410.534 293.067,412.267 295.333,412.8C303.867,414.4 310.667,407.867 314.4,394.667C315.067,392.134 321.2,374.134 327.867,354.8C334.8,334.533 340,317.467 340,314.533C340,303.733 325.067,299.867 319.867,309.467C318.533,312.133 309.467,340.933 302.667,364C301.067,369.467 299.333,374.4 298.8,375.067C298.267,375.6 292.933,360.8 286.933,342C275.333,306 274.133,304 266.267,304C263.867,304 261.067,305.467 258.4,308Z" style="fill-rule:nonzero;"/>\n    </g>\n</svg>',position:{x:0,y:0},width:40,height:50}},icon:(0,s.Ci)(B.A)},$=F;var U=a(48888),G=a(12139);const K="#000000",X={pdf:e=>{const{page:t,schema:a,options:r}=e;if(0===a.width||0===a.height||!a.color)return;const{colorType:o}=r,n=t.getHeight(),{width:i,height:c,rotate:l,position:{x:d,y:p},opacity:h}=(0,s.hY)({schema:a,pageHeight:n,applyRotateTranslate:!1}),u={x:d+i/2,y:p+c/2};t.drawLine({start:(0,s.sR)({x:d,y:p+c/2},u,l.angle),end:(0,s.sR)({x:d+i,y:p+c/2},u,l.angle),thickness:c,color:(0,s.gD)(a.color??K,o),opacity:h})},ui:e=>{const{schema:t,rootElement:a}=e,r=document.createElement("div");r.style.backgroundColor=t.color??"transparent",r.style.width="100%",r.style.height="100%",a.appendChild(r)},propPanel:{schema:e=>{let{i18n:t}=e;return{color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},required:!0,rules:[{pattern:v.p,message:t("validation.hexColor")}]}}},defaultSchema:{name:"",type:"line",position:{x:0,y:0},width:50,height:.5,rotate:0,opacity:1,readOnly:!0,color:K}},icon:(0,s.Ci)(G.A)},Q=X;var Y=a(57296),Z=a(90175);const V={ui:e=>{const{schema:t,rootElement:a}=e,r=document.createElement("div");r.style.width="100%",r.style.height="100%",r.style.boxSizing="border-box","ellipse"===t.type&&(r.style.borderRadius="50%"),r.style.borderWidth=`${t.borderWidth??0}mm`,r.style.borderStyle=t.borderWidth&&t.borderColor?"solid":"none",r.style.borderColor=t.borderColor??"transparent",r.style.backgroundColor=t.color??"transparent",a.appendChild(r)},pdf:e=>{const{schema:t,page:a,options:r}=e;if(!t.color&&!t.borderColor)return;const{colorType:o}=r,n={schema:t,pageHeight:a.getHeight()},{position:i,width:c,height:l,rotate:d,opacity:p}=(0,s.hY)(n),{position:{x:h,y:u}}=(0,s.hY)({...n,applyRotateTranslate:!1}),g=t.borderWidth?(0,b.JX)(t.borderWidth):0,m={rotate:d,borderWidth:g,borderColor:(0,s.gD)(t.borderColor,o),color:(0,s.gD)(t.color,o),opacity:p,borderOpacity:p};"ellipse"===t.type?a.drawEllipse({x:h+c/2,y:u+l/2,xScale:c/2-g/2,yScale:l/2-g/2,...m}):"rectangle"===t.type&&a.drawRectangle({x:i.x+g/2,y:i.y+g/2,width:c-g,height:l-g,...m})},propPanel:{schema:e=>{let{i18n:t}=e;return{borderWidth:{title:t("schemas.borderWidth"),type:"number",widget:"inputNumber",props:{min:0},step:1},borderColor:{title:t("schemas.borderColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:t("validation.hexColor")}]},color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:t("validation.hexColor")}]}}},defaultSchema:{name:"",type:"rectangle",position:{x:0,y:0},width:62.5,height:37.5,rotate:0,opacity:1,borderWidth:1,borderColor:"#000000",color:"",readOnly:!0}}},_=e=>({...V.propPanel,defaultSchema:{...V.propPanel.defaultSchema,type:e}}),q={...V,propPanel:_("rectangle"),icon:(0,s.Ci)(Y.A)},ee={...V,propPanel:_("ellipse"),icon:(0,s.Ci)(Z.A)};var te=a(34090),ae=a(23590);const re=Q.pdf,oe=q.pdf,ne=async(e,t,a,r,o)=>re({...e,schema:{...t,type:"line",position:a,width:r,height:o,color:t.borderColor}}),ie=(e,t,a,r,o,n,i)=>{const c=document.createElement("div");return c.style.width=e,c.style.height=t,c.style.position="absolute",null!==a&&(c.style.top=a),null!==r&&(c.style.right=r),null!==o&&(c.style.bottom=o),null!==n&&(c.style.left=n),c.style.backgroundColor=i,c},ce={pdf:async e=>{const{schema:t}=e,{position:a,width:o,height:n,borderWidth:i,padding:c}=t;await Promise.all([oe({...e,schema:{...t,type:"rectangle",width:t.width,height:t.height,borderWidth:0,borderColor:"",color:t.backgroundColor}}),ne(e,t,{x:a.x,y:a.y},o,i.top),ne(e,t,{x:a.x+o-i.right,y:a.y},i.right,n),ne(e,t,{x:a.x,y:a.y+n-i.bottom},o,i.bottom),ne(e,t,{x:a.x,y:a.y},i.left,n)]),await(0,r.f)({...e,schema:{...t,type:"text",backgroundColor:"",position:{x:a.x+i.left+c.left,y:a.y+i.top+c.top},width:o-i.left-i.right-c.left-c.right,height:n-i.top-i.bottom-c.top-c.bottom}})},ui:async e=>{const{schema:t,rootElement:a}=e,{borderWidth:r,width:o,height:n,borderColor:i,backgroundColor:c}=t;a.style.backgroundColor=c;const s=(e=>{const{borderWidth:t,width:a,height:r,padding:o}=e,n=document.createElement("div");return n.style.position="absolute",n.style.zIndex="1",n.style.width=a-t.left-t.right-o.left-o.right+"mm",n.style.height=r-t.top-t.bottom-o.top-o.bottom+"mm",n.style.top=`${t.top+o.top}mm`,n.style.left=`${t.left+o.left}mm`,n})(t);await(0,l.nW)({...e,schema:{...t,backgroundColor:""},rootElement:s}),a.appendChild(s);[ie(`${o}mm`,`${r.top}mm`,"0mm",null,null,"0mm",i),ie(`${o}mm`,`${r.bottom}mm`,null,null,"0mm","0mm",i),ie(`${r.left}mm`,`${n}mm`,"0mm",null,null,"0mm",i),ie(`${r.right}mm`,`${n}mm`,"0mm","0mm",null,null,i)].forEach((e=>a.appendChild(e)))},propPanel:{schema:e=>{let{options:t,i18n:a}=e;const r=t.font||{[te.eG]:{data:"",fallback:!0}},o=Object.keys(r),n=(0,b.HK)(r);return(0,ae.HQ)({i18n:a,fontNames:o,fallbackFontName:n})},defaultSchema:{name:"",type:"cell",content:"Type Something...",position:{x:0,y:0},width:50,height:15,...(0,ae.gI)()}}},le=ce;var se=a(85142);const de=q.pdf,pe=le.pdf;async function he(e,t){await pe({...e,value:t.raw,schema:{name:"",type:"cell",position:{x:t.x,y:t.y},width:t.width,height:t.height,fontName:t.styles.fontName,alignment:t.styles.alignment,verticalAlignment:t.styles.verticalAlignment,fontSize:t.styles.fontSize,lineHeight:t.styles.lineHeight,characterSpacing:t.styles.characterSpacing,backgroundColor:t.styles.backgroundColor,fontColor:t.styles.textColor,borderColor:t.styles.lineColor,borderWidth:t.styles.lineWidth,padding:t.styles.cellPadding}})}async function ue(e,t,a,r,o){r.x=t.settings.margin.left;for(const n of o){const t=a.cells[n.index];t?(t.x=r.x,t.y=r.y,await he(e,t),r.x+=n.width):r.x+=n.width}r.y+=a.height}async function ge(e,t){const a=t.settings,r=a.startY,o={x:a.margin.left,y:r},n=Object.assign({},o);if(a.showHead)for(const i of t.head)await ue(e,t,i,o,t.columns);for(const i of t.body)await ue(e,t,i,o,t.columns);await async function(e,t,a,r){const o=t.settings.tableLineWidth,n=t.settings.tableLineColor;o&&n&&await de({...e,schema:{name:"",type:"rectangle",borderWidth:o,borderColor:n,color:"",position:{x:a.x,y:a.y},width:t.getWidth(),height:r.y-a.y,readOnly:!0}})}(e,t,n,o)}const me=30;function fe(e){const t=document.createElement("button");return t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.position="absolute",t.style.top=e.top,void 0!==e.left&&(t.style.left=e.left),void 0!==e.right&&(t.style.right=e.right),t.innerText=e.text,t.onclick=e.onClick,t}const be=le.ui,ye=(e,t,a)=>{e.style[`border${t}`]=`${String(a.schema.tableStyles.borderWidth)}mm solid ${a.schema.tableStyles.borderColor}`},ve=e=>{const{rows:t,arg:a,onChangeEditingPosition:r,offsetY:o=0,editingPosition:n}=e,i=JSON.parse(a.value||"[]");let c=o;t.forEach(((e,o)=>{const{cells:l,height:s,section:d}=e;let p=0;Object.values(l).forEach(((l,s)=>{const h=document.createElement("div");h.style.position="absolute",h.style.top=`${c}mm`,h.style.left=`${p}mm`,h.style.width=`${l.width}mm`,h.style.height=`${l.height}mm`,h.style.boxSizing="border-box",((e,t,a,r,o,n)=>{const i=0===a,c=a===Object.values(t.cells).length-1,l=r===o-1;"head"===t.section?(ye(e,"Top",n),i&&ye(e,"Left",n),c&&ye(e,"Right",n),0===JSON.parse(n.value||"[]").length&&ye(e,"Bottom",n)):"body"===t.section&&(n.schema.showHead||0!==r||ye(e,"Top",n),i&&ye(e,"Left",n),c&&ye(e,"Right",n),l&&ye(e,"Bottom",n))})(h,e,s,o,t.length,a),h.style.cursor="designer"===a.mode||"form"===a.mode&&"body"===d?"text":"default",h.addEventListener("click",(()=>{"viewer"!==a.mode&&r({rowIndex:o,colIndex:s})})),a.rootElement.appendChild(h);const u=n.rowIndex===o&&n.colIndex===s;let g="viewer";var m;"form"===a.mode?g="body"===d&&u&&!a.schema.readOnly?"designer":"viewer":"designer"===a.mode&&(g=u?"designer":"form"),be({...a,stopEditing:()=>{"form"===a.mode&&xe()},mode:g,onChange:e=>{if(!a.onChange)return;const t=Array.isArray(e)?e[0].value:e.value;if("body"===d){const e=a.schema.__bodyRange?.start??0;i[o+e][s]=t,a.onChange({key:"content",value:JSON.stringify(i)})}else{const e=[...a.schema.head];e[s]=t,a.onChange({key:"head",value:e})}},value:l.raw,placeholder:"",rootElement:h,schema:{name:"",type:"cell",content:l.raw,position:{x:p,y:c},width:l.width,height:l.height,...(m=l.styles,{fontName:m.fontName,alignment:m.alignment,verticalAlignment:m.verticalAlignment,fontSize:m.fontSize,lineHeight:m.lineHeight,characterSpacing:m.characterSpacing,backgroundColor:m.backgroundColor,fontColor:m.textColor,borderColor:m.lineColor,borderWidth:m.lineWidth,padding:m.cellPadding})}}),p+=l.width})),c+=s}))},we={rowIndex:-1,colIndex:-1},ke={rowIndex:-1,colIndex:-1},xe=()=>{we.rowIndex=-1,we.colIndex=-1,ke.rowIndex=-1,ke.colIndex=-1},Ce=async e=>{const{rootElement:t,onChange:a,schema:r,value:o,mode:n}=e,i=(0,ae.lZ)(o),c=(0,ae.Uj)(o,r.__bodyRange),l=await(0,se.v)(c,e),s=l.settings.showHead;t.innerHTML="";const d=(t,a)=>{xe(),a.rowIndex=t.rowIndex,a.colIndex=t.colIndex,Ce(e)};s&&ve({rows:l.head,arg:e,editingPosition:we,onChangeEditingPosition:e=>d(e,we)});const p=s?l.getHeadHeight():0;ve({rows:l.body,arg:e,editingPosition:ke,onChangeEditingPosition:e=>{d(e,ke)},offsetY:p});const h=()=>fe({width:me,height:me,top:`${l.getHeight()}mm`,left:"calc(50% - 15px)",text:"+",onClick:()=>{const e=Array(r.head.length).fill("");a&&a({key:"content",value:JSON.stringify(i.concat([e]))})}}),u=()=>{let e=s?l.getHeadHeight():0;return l.body.map(((t,o)=>{e+=t.height;return fe({width:me,height:me,top:e-(0,b.Nz)(me)+"mm",right:"-30px",text:"-",onClick:()=>{const e=i.filter(((e,t)=>t!==o+(r.__bodyRange?.start??0)));a&&a({key:"content",value:JSON.stringify(e)})}})}))};if("form"===n&&a&&!r.readOnly&&((void 0===r.__bodyRange?.end||r.__bodyRange.end>=JSON.parse(o||"[]").length)&&t.appendChild(h()),u().forEach((e=>t.appendChild(e)))),"designer"===n&&a){const e=fe({width:me,height:me,top:(s?l.getHeadHeight():0)-(0,b.Nz)(me)+"mm",right:"-30px",text:"+",onClick:e=>{e.preventDefault();const t=75/r.headWidthPercentages.reduce(((e,t)=>e+t),0),o=r.headWidthPercentages.map((e=>e*t));a([{key:"head",value:r.head.concat(`Head ${r.head.length+1}`)},{key:"headWidthPercentages",value:o.concat(25)},{key:"content",value:JSON.stringify(c.map(((e,t)=>e.concat(`Row ${t+1}`))))}])}});t.appendChild(e),t.appendChild(h()),u().forEach((e=>t.appendChild(e)));let o=0;l.columns.forEach(((e,n,i)=>{if(1===i.length)return;o+=e.width;const s=fe({width:me,height:me,top:"-30px",left:o-(0,b.Nz)(me)+"mm",text:"-",onClick:()=>{const e=r.headWidthPercentages.reduce(((e,t,a)=>a!==n?e+t:e),0);a([{key:"head",value:r.head.filter(((e,t)=>t!==n))},{key:"headWidthPercentages",value:r.headWidthPercentages.filter(((e,t)=>t!==n)).map((t=>t/e*100))},{key:"content",value:JSON.stringify(c.map((e=>e.filter(((e,t)=>t!==n)))))}])}});if(t.appendChild(s),n===l.columns.length-1)return;const d=document.createElement("div");d.style.width="5px",d.style.height="100%",d.style.backgroundColor="#eee",d.style.opacity="0.5",d.style.cursor="col-resize",d.style.position="absolute",d.style.zIndex="10",d.style.left=o-(0,b.Nz)(5)/2+"mm",d.style.top="0";const p=e=>{e.target.style.backgroundColor="#2196f3"},h=e=>{e.target.style.backgroundColor="#eee"};d.addEventListener("mouseover",p),d.addEventListener("mouseout",h);const u=o-e.width,g=o-(0,b.Nz)(5)+l.columns[n+1].width;d.addEventListener("mousedown",(e=>{xe();const o=e.target;d.removeEventListener("mouseover",p),d.removeEventListener("mouseout",h);let i=0;const c=e=>{let t=e.movementX;const a=Number(o.style.left.replace("mm",""));let r=a+t;r<u&&(r=u,t=r-a),r>=g&&(r=g,t=r-a),o.style.left=`${r}mm`,i+=t};t.addEventListener("mousemove",c);const s=()=>{if(0!==i){const e=(e=>{const{currentHeadWidthPercentages:t,currentHeadWidths:a,changedHeadWidth:r,changedHeadIndex:o}=e,n=[...t],i=r/a.reduce(((e,t)=>e+t),0)*100,c=n[o+1]??0,l=n[o]-i;return n[o]=i,o+1<n.length&&(n[o+1]=c+l),n})({currentHeadWidthPercentages:r.headWidthPercentages,currentHeadWidths:l.columns.map((e=>e.width)),changedHeadWidth:l.columns[n].width+i,changedHeadIndex:n});a({key:"headWidthPercentages",value:e})}i=0,d.addEventListener("mouseover",p),d.addEventListener("mouseout",h),t.removeEventListener("mousemove",c),t.removeEventListener("mouseup",s)};t.addEventListener("mouseup",s)})),t.appendChild(d)}))}"viewer"===n&&xe();const g=s?l.getHeight():l.getBodyHeight();r.height!==g&&a&&a({key:"height",value:g})},Ae={schema:e=>{let{activeSchema:t,options:a,i18n:r}=e;const o=t,n=o.head||[],i=o.showHead||!1,c=a.font||{[te.eG]:{data:"",fallback:!0}},l=Object.keys(c),s=(0,b.HK)(c);return{showHead:{title:r("schemas.table.showHead"),type:"boolean",widget:"checkbox",span:24},"-------":{type:"void",widget:"Divider"},tableStyles:{title:r("schemas.table.tableStyle"),type:"object",widget:"Card",span:24,properties:{borderWidth:{title:r("schemas.borderWidth"),type:"number",widget:"inputNumber",props:{min:0,step:.1},step:1},borderColor:{title:r("schemas.borderColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:r("validation.hexColor")}]}}},headStyles:{hidden:!i,title:r("schemas.table.headStyle"),type:"object",widget:"Card",span:24,properties:(0,ae.HQ)({i18n:r,fallbackFontName:s,fontNames:l})},bodyStyles:{title:r("schemas.table.bodyStyle"),type:"object",widget:"Card",span:24,properties:(0,ae.HQ)({i18n:r,fallbackFontName:s,fontNames:l,isBody:!0})},columnStyles:{title:r("schemas.table.columnStyle"),type:"object",widget:"Card",span:24,properties:(0,ae.HG)({head:n,i18n:r})}}},defaultSchema:{name:"",type:"table",position:{x:0,y:0},width:150,height:20,content:JSON.stringify([["Alice","New York","Alice is a freelance web designer and developer"],["Bob","Paris","Bob is a freelance illustrator and graphic designer"]]),showHead:!0,head:["Name","City","Description"],headWidthPercentages:[30,30,40],tableStyles:{borderColor:"#000000",borderWidth:.3},headStyles:Object.assign((0,ae.gI)(),{fontColor:"#ffffff",backgroundColor:"#2980ba",borderColor:"",borderWidth:{top:0,right:0,bottom:0,left:0}}),bodyStyles:Object.assign((0,ae.gI)(),{alternateBackgroundColor:"#f5f5f5"}),columnStyles:{}}};var Se=a(31839);const Ee={pdf:async e=>{const{value:t,schema:a}=e,r=(0,ae.Uj)("string"!=typeof t?JSON.stringify(t||"[]"):t,a.__bodyRange),o=await(0,se.v)(r,e);await ge(e,o)},ui:Ce,propPanel:Ae,icon:(0,s.Ci)(Se.A)},Le=Ee;var Ie=a(87976),je=a(80036),Pe=a(33284),Oe=a(80051),ze=a(51653),He=a(38576),Re=a(14300),Ne=a(51710),We=a(7252),Me=a(33063),De=a(97477),Te=a(71606),Be=a(94315),Je=a(80549),Fe=a(31632),$e=a(5306),Ue=a(35722),Ge=a(6058),Ke=a(90105),Xe=a(17603),Qe=a(93361),Ye=a(65183),Ze=a(64119),Ve=a(34932),_e=a(58543),qe=a(91244),et=a(36430),tt=a(55659),at=a(15693),rt=a(23256),ot=a(48906),nt=a(98857),it=a(46639),ct=a(1457),lt=a(36631),st=a(61658),dt=a(2285),pt=a(22131),ht=a(15487),ut=a(14321),gt=a(21477),mt=a(17458),ft=a(9252),bt=a(18902),yt=a(67696),vt=a(82393),wt=a(67427),kt=a(78884),xt=a(82350),Ct=a(19172),At=a(78834),St=a(80382),Et=a(60158),Lt=a(35752),It=a(33338),jt=a(90464),Pt=a(65537),Ot=a(27286),zt=a(78449),Ht=a(89588),Rt=a(56897),Nt=a(79001),Wt=a(50275),Mt=a(67688),Dt=a(90212),Tt=a(14316),Bt=a(13011),Jt=a(37967),Ft=a(1689);const $t={ar:{label:"Arabic",adLocale:je.A,formatLocale:lt.ar},bg:{label:"Bulgarian",adLocale:Pe.A,formatLocale:st.bg},ca:{label:"Catalan",adLocale:Oe.A,formatLocale:dt.ca},cs:{label:"Czech",adLocale:ze.A,formatLocale:pt.cs},da:{label:"Danish",adLocale:He.A,formatLocale:ht.da},de:{label:"German",adLocale:Re.A,formatLocale:ut.de},el:{label:"Greek",adLocale:Ne.A,formatLocale:gt.el},en:{label:"English",adLocale:We.A,formatLocale:mt.c},es:{label:"Spanish",adLocale:Me.A,formatLocale:ft.es},eu:{label:"Basque",adLocale:De.A,formatLocale:bt.eu},fi:{label:"Finnish",adLocale:Te.A,formatLocale:yt.fi},fr:{label:"French",adLocale:Be.A,formatLocale:vt.fr},hr:{label:"Croatian",adLocale:Je.A,formatLocale:wt.hr},hu:{label:"Hungarian",adLocale:Fe.A,formatLocale:kt.hu},id:{label:"Indonesian",adLocale:$e.A,formatLocale:xt.id},it:{label:"Italian",adLocale:Ue.A,formatLocale:Ct.it},ja:{label:"Japanese",adLocale:Ge.A,formatLocale:At.ja},ko:{label:"Korean",adLocale:Ke.A,formatLocale:St.ko},nb:{label:"Norwegian Bokm\xe5l",adLocale:Xe.A,formatLocale:Et.nb},nl:{label:"Dutch",adLocale:Qe.A,formatLocale:Lt.nl},pl:{label:"Polish",adLocale:Ze.A,formatLocale:It.pl},"pt-Br":{label:"Portuguese",adLocale:Ve.A,formatLocale:jt.F},pt:{label:"Portuguese",adLocale:_e.A,formatLocale:Pt.pt},ro:{label:"Romanian",adLocale:qe.A,formatLocale:Ot.ro},ru:{label:"Russian",adLocale:et.A,formatLocale:zt.ru},si:{label:"Sinhala",adLocale:tt.A,formatLocale:mt.c},sk:{label:"Slovak",adLocale:at.A,formatLocale:Ht.sk},sl:{label:"Slovenian",adLocale:rt.A,formatLocale:Rt.sl},sv:{label:"Swedish",adLocale:ot.A,formatLocale:Nt.sv},th:{label:"Thai",adLocale:Ye.A,formatLocale:Wt.th},tr:{label:"Turkish",adLocale:nt.A,formatLocale:Mt.tr},uk:{label:"Ukrainian",adLocale:it.A,formatLocale:Dt.uk},zh:{label:"Chinese",adLocale:ct.A,formatLocale:Tt.g}},Ut=e=>{const t=$t[e];if(!t)throw new Error(`Unsupported locale: ${e}`);return t},Gt=(e,t)=>{if(!e.trim())return new Date;if("time"===t){return/^\d{4}\/\d{2}\/\d{2} \d{2}:\d{2}$/.test(e)?new Date(e.replace(/\//g,"-").replace(" ","T")):new Date(`2021-01-01T${e}`)}return new Date(e)},Kt=(e,t)=>{switch(e){case"date":return t.adLocale.dateFormat;case"time":return"HH:mm";case"dateTime":return`${t.adLocale.dateFormat} ${t.adLocale.timeFormat}`}},Xt=(e,t,a,r)=>e?(0,Bt.GP)(Gt(e,t),a.format,{locale:r.formatLocale}):"",Qt=(e,t)=>{const a=(()=>{switch(t){case"date":return"yyyy/MM/dd";case"time":return"HH:mm";case"dateTime":return"yyyy/MM/dd HH:mm"}})();return e?(0,Bt.GP)(e,a):""},Yt=e=>{let{type:t,icon:a}=e;const r="en",o={ui:async e=>{const{schema:a,value:o,onChange:n,rootElement:i,mode:c,options:d,i18n:p}=e,h=Ut(a.locale||d.lang||r),u=document.createElement("div"),g={width:`${a.width}mm`,height:`${a.height}mm`,display:"flex",flexDirection:"column",justifyContent:(0,l.ut)(Jt.ZR)};Object.assign(u.style,g),await f.A.ui({...e,rootElement:u,mode:"viewer",value:Xt(o,t,a,h),schema:{...a,verticalAlignment:Jt.ZR,lineHeight:Jt.Dj}}),(e=>{if("undefined"!=typeof document){const t="pdfme-air-datepicker-styles";if(!document.getElementById(t)){const a=document.createElement("style");a.id=t,a.type="text/css",a.appendChild(document.createTextNode(e)),document.head.appendChild(a)}}})('.air-datepicker-cell.-year-.-other-decade-,.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.air-datepicker-cell.-year-.-other-decade-:hover,.air-datepicker-cell.-day-.-other-month-:hover{color:var(--adp-color-other-month-hover)}.-disabled-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-disabled-.-focus-.air-datepicker-cell.-day-.-other-month-{color:var(--adp-color-other-month)}.-selected-.air-datepicker-cell.-year-.-other-decade-,.-selected-.air-datepicker-cell.-day-.-other-month-{color:#fff;background:var(--adp-background-color-selected-other-month)}.-selected-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-selected-.-focus-.air-datepicker-cell.-day-.-other-month-{background:var(--adp-background-color-selected-other-month-focused)}.-in-range-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range);color:var(--adp-color)}.-in-range-.-focus-.air-datepicker-cell.-year-.-other-decade-,.-in-range-.-focus-.air-datepicker-cell.-day-.-other-month-{background-color:var(--adp-background-color-in-range-focused)}.air-datepicker-cell.-year-.-other-decade-:empty,.air-datepicker-cell.-day-.-other-month-:empty{background:none;border:none}.air-datepicker-cell{border-radius:var(--adp-cell-border-radius);box-sizing:border-box;cursor:pointer;display:flex;position:relative;align-items:center;justify-content:center;z-index:1}.air-datepicker-cell.-focus-{background:var(--adp-cell-background-color-hover)}.air-datepicker-cell.-current-{color:var(--adp-color-current-date)}.air-datepicker-cell.-current-.-focus-{color:var(--adp-color)}.air-datepicker-cell.-current-.-in-range-{color:var(--adp-color-current-date)}.air-datepicker-cell.-disabled-{cursor:default;color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-disabled-.-in-range-{color:var(--adp-color-disabled-in-range)}.air-datepicker-cell.-disabled-.-current-.-focus-{color:var(--adp-color-disabled)}.air-datepicker-cell.-in-range-{background:var(--adp-cell-background-color-in-range);border-radius:0}.air-datepicker-cell.-in-range-:hover,.air-datepicker-cell.-in-range-.-focus-{background:var(--adp-cell-background-color-in-range-hover)}.air-datepicker-cell.-range-from-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:var(--adp-cell-border-radius) 0 0 var(--adp-cell-border-radius)}.air-datepicker-cell.-range-to-{border:1px solid var(--adp-cell-border-color-in-range);background-color:var(--adp-cell-background-color-in-range);border-radius:0 var(--adp-cell-border-radius) var(--adp-cell-border-radius) 0}.air-datepicker-cell.-range-to-.-range-from-{border-radius:var(--adp-cell-border-radius)}.air-datepicker-cell.-selected-{color:#fff;border:none;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-current-{color:#fff;background:var(--adp-cell-background-color-selected)}.air-datepicker-cell.-selected-.-focus-{background:var(--adp-cell-background-color-selected-hover)}\n.air-datepicker-body{transition:all var(--adp-transition-duration) var(--adp-transition-ease)}.air-datepicker-body.-hidden-{display:none}.air-datepicker-body--day-names{display:grid;grid-template-columns:repeat(7, var(--adp-day-cell-width));margin:8px 0 3px}.air-datepicker-body--day-name{color:var(--adp-day-name-color);display:flex;align-items:center;justify-content:center;flex:1;text-align:center;text-transform:uppercase;font-size:.8em}.air-datepicker-body--day-name.-clickable-{cursor:pointer}.air-datepicker-body--day-name.-clickable-:hover{color:var(--adp-day-name-color-hover)}.air-datepicker-body--cells{display:grid}.air-datepicker-body--cells.-days-{grid-template-columns:repeat(7, var(--adp-day-cell-width));grid-auto-rows:var(--adp-day-cell-height)}.air-datepicker-body--cells.-months-{grid-template-columns:repeat(3, 1fr);grid-auto-rows:var(--adp-month-cell-height)}.air-datepicker-body--cells.-years-{grid-template-columns:repeat(4, 1fr);grid-auto-rows:var(--adp-year-cell-height)}\n.air-datepicker-nav{display:flex;justify-content:space-between;border-bottom:1px solid var(--adp-border-color-inner);min-height:var(--adp-nav-height);padding:var(--adp-padding);box-sizing:content-box}.-only-timepicker- .air-datepicker-nav{display:none}.air-datepicker-nav--title,.air-datepicker-nav--action{display:flex;cursor:pointer;align-items:center;justify-content:center}.air-datepicker-nav--action{width:var(--adp-nav-action-size);border-radius:var(--adp-border-radius);-webkit-user-select:none;-moz-user-select:none;user-select:none}.air-datepicker-nav--action:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--action:active{background:var(--adp-background-color-active)}.air-datepicker-nav--action.-disabled-{visibility:hidden}.air-datepicker-nav--action svg{width:32px;height:32px}.air-datepicker-nav--action path{fill:none;stroke:var(--adp-nav-arrow-color);stroke-width:2px}.air-datepicker-nav--title{border-radius:var(--adp-border-radius);padding:0 8px}.air-datepicker-nav--title i{font-style:normal;color:var(--adp-nav-color-secondary);margin-left:.3em}.air-datepicker-nav--title:hover{background:var(--adp-background-color-hover)}.air-datepicker-nav--title:active{background:var(--adp-background-color-active)}.air-datepicker-nav--title.-disabled-{cursor:default;background:none}\n.air-datepicker-buttons{display:grid;grid-auto-columns:1fr;grid-auto-flow:column}.air-datepicker-button{display:inline-flex;color:var(--adp-btn-color);border-radius:var(--adp-btn-border-radius);cursor:pointer;height:var(--adp-btn-height);border:none;background:rgba(255,255,255,0)}.air-datepicker-button:hover{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover)}.air-datepicker-button:focus{color:var(--adp-btn-color-hover);background:var(--adp-btn-background-color-hover);outline:none}.air-datepicker-button:active{background:var(--adp-btn-background-color-active)}.air-datepicker-button span{outline:none;display:flex;align-items:center;justify-content:center;width:100%;height:100%}\n.air-datepicker-time{display:grid;grid-template-columns:max-content 1fr;grid-column-gap:12px;align-items:center;position:relative;padding:0 var(--adp-time-padding-inner)}.-only-timepicker- .air-datepicker-time{border-top:none}.air-datepicker-time--current{display:flex;align-items:center;flex:1;font-size:14px;text-align:center}.air-datepicker-time--current-colon{margin:0 2px 3px;line-height:1}.air-datepicker-time--current-hours,.air-datepicker-time--current-minutes{line-height:1;font-size:19px;font-family:"Century Gothic",CenturyGothic,AppleGothic,sans-serif;position:relative;z-index:1}.air-datepicker-time--current-hours:after,.air-datepicker-time--current-minutes:after{content:"";background:var(--adp-background-color-hover);border-radius:var(--adp-border-radius);position:absolute;left:-2px;top:-3px;right:-2px;bottom:-2px;z-index:-1;opacity:0}.air-datepicker-time--current-hours.-focus-:after,.air-datepicker-time--current-minutes.-focus-:after{opacity:1}.air-datepicker-time--current-ampm{text-transform:uppercase;align-self:flex-end;color:var(--adp-time-day-period-color);margin-left:6px;font-size:11px;margin-bottom:1px}.air-datepicker-time--row{display:flex;align-items:center;font-size:11px;height:17px;background:linear-gradient(to right, var(--adp-time-track-color), var(--adp-time-track-color)) left 50%/100% var(--adp-time-track-height) no-repeat}.air-datepicker-time--row:first-child{margin-bottom:4px}.air-datepicker-time--row input[type=range]{background:none;cursor:pointer;flex:1;height:100%;width:100%;padding:0;margin:0;-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{-webkit-appearance:none}.air-datepicker-time--row input[type=range]::-ms-tooltip{display:none}.air-datepicker-time--row input[type=range]:hover::-webkit-slider-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-moz-range-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:hover::-ms-thumb{border-color:var(--adp-time-track-color-hover)}.air-datepicker-time--row input[type=range]:focus{outline:none}.air-datepicker-time--row input[type=range]:focus::-webkit-slider-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-moz-range-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]:focus::-ms-thumb{background:var(--adp-cell-background-color-selected);border-color:var(--adp-cell-background-color-selected)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-webkit-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-moz-range-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-moz-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-ms-thumb{box-sizing:border-box;height:12px;width:12px;border-radius:3px;border:1px solid var(--adp-time-track-color);background:#fff;cursor:pointer;-ms-transition:background var(--adp-transition-duration);transition:background var(--adp-transition-duration)}.air-datepicker-time--row input[type=range]::-webkit-slider-thumb{margin-top:calc(var(--adp-time-thumb-size)/2*-1)}.air-datepicker-time--row input[type=range]::-webkit-slider-runnable-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-moz-range-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-track{border:none;height:var(--adp-time-track-height);cursor:pointer;color:rgba(0,0,0,0);background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-lower{background:rgba(0,0,0,0)}.air-datepicker-time--row input[type=range]::-ms-fill-upper{background:rgba(0,0,0,0)}\n.air-datepicker{--adp-font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--adp-font-size: 14px;--adp-width: 246px;--adp-z-index: 100;--adp-padding: 4px;--adp-grid-areas: "nav" "body" "timepicker" "buttons";--adp-transition-duration: .3s;--adp-transition-ease: ease-out;--adp-transition-offset: 8px;--adp-background-color: #fff;--adp-background-color-hover: #f0f0f0;--adp-background-color-active: #eaeaea;--adp-background-color-in-range: rgba(92, 196, 239, .1);--adp-background-color-in-range-focused: rgba(92, 196, 239, .2);--adp-background-color-selected-other-month-focused: #8ad5f4;--adp-background-color-selected-other-month: #a2ddf6;--adp-color: #4a4a4a;--adp-color-secondary: #9c9c9c;--adp-accent-color: #4eb5e6;--adp-color-current-date: var(--adp-accent-color);--adp-color-other-month: #dedede;--adp-color-disabled: #aeaeae;--adp-color-disabled-in-range: #939393;--adp-color-other-month-hover: #c5c5c5;--adp-border-color: #dbdbdb;--adp-border-color-inner: #efefef;--adp-border-radius: 4px;--adp-border-color-inline: #d7d7d7;--adp-nav-height: 32px;--adp-nav-arrow-color: var(--adp-color-secondary);--adp-nav-action-size: 32px;--adp-nav-color-secondary: var(--adp-color-secondary);--adp-day-name-color: #ff9a19;--adp-day-name-color-hover: #8ad5f4;--adp-day-cell-width: 1fr;--adp-day-cell-height: 32px;--adp-month-cell-height: 42px;--adp-year-cell-height: 56px;--adp-pointer-size: 10px;--adp-poiner-border-radius: 2px;--adp-pointer-offset: 14px;--adp-cell-border-radius: 4px;--adp-cell-background-color-hover: var(--adp-background-color-hover);--adp-cell-background-color-selected: #5cc4ef;--adp-cell-background-color-selected-hover: #45bced;--adp-cell-background-color-in-range: rgba(92, 196, 239, 0.1);--adp-cell-background-color-in-range-hover: rgba(92, 196, 239, 0.2);--adp-cell-border-color-in-range: var(--adp-cell-background-color-selected);--adp-btn-height: 32px;--adp-btn-color: var(--adp-accent-color);--adp-btn-color-hover: var(--adp-color);--adp-btn-border-radius: var(--adp-border-radius);--adp-btn-background-color-hover: var(--adp-background-color-hover);--adp-btn-background-color-active: var(--adp-background-color-active);--adp-time-track-height: 1px;--adp-time-track-color: #dedede;--adp-time-track-color-hover: #b1b1b1;--adp-time-thumb-size: 12px;--adp-time-padding-inner: 10px;--adp-time-day-period-color: var(--adp-color-secondary);--adp-mobile-font-size: 16px;--adp-mobile-nav-height: 40px;--adp-mobile-width: 320px;--adp-mobile-day-cell-height: 38px;--adp-mobile-month-cell-height: 48px;--adp-mobile-year-cell-height: 64px}.air-datepicker-overlay{--adp-overlay-background-color: rgba(0, 0, 0, .3);--adp-overlay-transition-duration: .3s;--adp-overlay-transition-ease: ease-out;--adp-overlay-z-index: 99}\n.air-datepicker{background:var(--adp-background-color);border:1px solid var(--adp-border-color);box-shadow:0 4px 12px rgba(0,0,0,.15);border-radius:var(--adp-border-radius);box-sizing:content-box;display:grid;grid-template-columns:1fr;grid-template-rows:repeat(4, max-content);grid-template-areas:var(--adp-grid-areas);font-family:var(--adp-font-family),sans-serif;font-size:var(--adp-font-size);color:var(--adp-color);width:var(--adp-width);position:absolute;transition:opacity var(--adp-transition-duration) var(--adp-transition-ease),transform var(--adp-transition-duration) var(--adp-transition-ease);z-index:var(--adp-z-index)}.air-datepicker:not(.-custom-position-){opacity:0}.air-datepicker.-from-top-{transform:translateY(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-from-right-{transform:translateX(var(--adp-transition-offset))}.air-datepicker.-from-bottom-{transform:translateY(var(--adp-transition-offset))}.air-datepicker.-from-left-{transform:translateX(calc(var(--adp-transition-offset) * -1))}.air-datepicker.-active-:not(.-custom-position-){transform:translate(0, 0);opacity:1}.air-datepicker.-active-.-custom-position-{transition:none}.air-datepicker.-inline-{border-color:var(--adp-border-color-inline);box-shadow:none;position:static;left:auto;right:auto;opacity:1;transform:none}.air-datepicker.-inline- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-{--adp-font-size: var(--adp-mobile-font-size);--adp-day-cell-height: var(--adp-mobile-day-cell-height);--adp-month-cell-height: var(--adp-mobile-month-cell-height);--adp-year-cell-height: var(--adp-mobile-year-cell-height);--adp-nav-height: var(--adp-mobile-nav-height);--adp-nav-action-size: var(--adp-mobile-nav-height);position:fixed;width:var(--adp-mobile-width);border:none}.air-datepicker.-is-mobile- *{-webkit-tap-highlight-color:rgba(0,0,0,0)}.air-datepicker.-is-mobile- .air-datepicker--pointer{display:none}.air-datepicker.-is-mobile-:not(.-custom-position-){transform:translate(-50%, calc(-50% + var(--adp-transition-offset)))}.air-datepicker.-is-mobile-.-active-:not(.-custom-position-){transform:translate(-50%, -50%)}.air-datepicker.-custom-position-{transition:none}.air-datepicker-global-container{position:absolute;left:0;top:0}.air-datepicker--pointer{--pointer-half-size: calc(var(--adp-pointer-size) / 2);position:absolute;width:var(--adp-pointer-size);height:var(--adp-pointer-size);z-index:-1}.air-datepicker--pointer:after{content:"";position:absolute;background:#fff;border-top:1px solid var(--adp-border-color-inline);border-right:1px solid var(--adp-border-color-inline);border-top-right-radius:var(--adp-poiner-border-radius);width:var(--adp-pointer-size);height:var(--adp-pointer-size);box-sizing:border-box}.-top-left- .air-datepicker--pointer,.-top-center- .air-datepicker--pointer,.-top-right- .air-datepicker--pointer,[data-popper-placement^=top] .air-datepicker--pointer{top:calc(100% - var(--pointer-half-size) + 1px)}.-top-left- .air-datepicker--pointer:after,.-top-center- .air-datepicker--pointer:after,.-top-right- .air-datepicker--pointer:after,[data-popper-placement^=top] .air-datepicker--pointer:after{transform:rotate(135deg)}.-right-top- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer,[data-popper-placement^=right] .air-datepicker--pointer{right:calc(100% - var(--pointer-half-size) + 1px)}.-right-top- .air-datepicker--pointer:after,.-right-center- .air-datepicker--pointer:after,.-right-bottom- .air-datepicker--pointer:after,[data-popper-placement^=right] .air-datepicker--pointer:after{transform:rotate(225deg)}.-bottom-left- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer,[data-popper-placement^=bottom] .air-datepicker--pointer{bottom:calc(100% - var(--pointer-half-size) + 1px)}.-bottom-left- .air-datepicker--pointer:after,.-bottom-center- .air-datepicker--pointer:after,.-bottom-right- .air-datepicker--pointer:after,[data-popper-placement^=bottom] .air-datepicker--pointer:after{transform:rotate(315deg)}.-left-top- .air-datepicker--pointer,.-left-center- .air-datepicker--pointer,.-left-bottom- .air-datepicker--pointer,[data-popper-placement^=left] .air-datepicker--pointer{left:calc(100% - var(--pointer-half-size) + 1px)}.-left-top- .air-datepicker--pointer:after,.-left-center- .air-datepicker--pointer:after,.-left-bottom- .air-datepicker--pointer:after,[data-popper-placement^=left] .air-datepicker--pointer:after{transform:rotate(45deg)}.-top-left- .air-datepicker--pointer,.-bottom-left- .air-datepicker--pointer{left:var(--adp-pointer-offset)}.-top-right- .air-datepicker--pointer,.-bottom-right- .air-datepicker--pointer{right:var(--adp-pointer-offset)}.-top-center- .air-datepicker--pointer,.-bottom-center- .air-datepicker--pointer{left:calc(50% - var(--adp-pointer-size)/2)}.-left-top- .air-datepicker--pointer,.-right-top- .air-datepicker--pointer{top:var(--adp-pointer-offset)}.-left-bottom- .air-datepicker--pointer,.-right-bottom- .air-datepicker--pointer{bottom:var(--adp-pointer-offset)}.-left-center- .air-datepicker--pointer,.-right-center- .air-datepicker--pointer{top:calc(50% - var(--adp-pointer-size)/2)}.air-datepicker--navigation{grid-area:nav}.air-datepicker--content{box-sizing:content-box;padding:var(--adp-padding);grid-area:body}.-only-timepicker- .air-datepicker--content{display:none}.air-datepicker--time{grid-area:timepicker}.air-datepicker--buttons{grid-area:buttons}.air-datepicker--buttons,.air-datepicker--time{padding:var(--adp-padding);border-top:1px solid var(--adp-border-color-inner)}.air-datepicker-overlay{position:fixed;background:var(--adp-overlay-background-color);left:0;top:0;width:0;height:0;opacity:0;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),left 0s,height 0s,width 0s;transition-delay:0s,var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration),var(--adp-overlay-transition-duration);z-index:var(--adp-overlay-z-index)}.air-datepicker-overlay.-active-{opacity:1;width:100%;height:100%;transition:opacity var(--adp-overlay-transition-duration) var(--adp-overlay-transition-ease),height 0s,width 0s}');const m=new Event("beforeRemove");i.dispatchEvent(m);const b=document.createElement("input");Object.assign(b.style,{visibility:"hidden",position:"absolute"});const y=e=>{n&&n({key:"content",value:Qt(e,t)})},v=[{content:p("cancel"),onClick:e=>{e.hide()}},{content:p("clear"),onClick:e=>{e.hide(),y(null)}}];"date"!==t&&v.push({content:p("set"),onClick:e=>{e.hide();const t=e.selectedDates.length?e.selectedDates[0]:null;y(t)}});const w=new Ie.A(b,{locale:h.adLocale,selectedDates:[Gt(o,t)],dateFormat:e=>(0,Bt.GP)(e,a.format,{locale:h.formatLocale}),timepicker:"date"!==t,onlyTimepicker:"time"===t,isMobile:window.innerWidth<768,buttons:v,onSelect:e=>{let{datepicker:a}=e;"date"===t&&y(a.selectedDates.length?a.selectedDates[0]:null)}});i.addEventListener("beforeRemove",(()=>{(0,s.Xl)(c,a)&&w.destroy()})),u.addEventListener("click",(()=>{(0,s.Xl)(c,a)&&w.show()})),i.appendChild(b),i.appendChild(u)},pdf:e=>{const{schema:a,value:o,options:n}=e;if(!o)return;const i=Ut(a.locale||n.lang||r);return f.A.pdf({...e,value:Xt(o,t,a,i),schema:{...a,verticalAlignment:Jt.ZR,lineHeight:Jt.Dj}})},propPanel:{schema:e=>{let{options:a,i18n:o,activeSchema:n,changeSchemas:i}=e;const c=a.font||{[te.eG]:{data:"",fallback:!0}},l=Object.keys(c),s=(0,b.HK)(c),d=Ut(n.locale||a.lang||r);void 0===n.locale&&n.locale!==a.lang&&i([{schemaId:n.id,key:"locale",value:a.lang},{schemaId:n.id,key:"format",value:Kt(t,d)}]);const p=(0,Ft.E)(o);p.buttons=p.buttons.filter((e=>e.key===Ft.Z.ALIGNMENT));const h=Object.keys($t).map((e=>({label:`${e} (${$t[e].label})`,value:e})));return{format:{title:o("schemas.date.format"),type:"string",default:Kt(t,d),placeholder:Kt(t,d),rules:[{validator:(e,t)=>{try{return(0,Bt.GP)("Thu Jan 01 1970 00:00:00 GMT+0000",t,{locale:d.formatLocale}),!0}catch(a){return!1}},message:o("validation.dateTimeFormat")}],span:24},fontName:{title:o("schemas.text.fontName"),type:"string",widget:"select",default:s,placeholder:s,props:{options:l.map((e=>({label:e,value:e})))},span:12},fontSize:{title:o("schemas.text.size"),type:"number",widget:"inputNumber",span:6,props:{min:0}},characterSpacing:{title:o("schemas.text.spacing"),type:"number",widget:"inputNumber",span:6,props:{min:0}},formatter:p,fontColor:{title:o("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:o("validation.hexColor")}]},backgroundColor:{title:o("schemas.bgColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:v.p,message:o("validation.hexColor")}]},locale:{title:o("schemas.date.locale"),type:"string",widget:"select",props:{options:h},span:16}}},defaultSchema:{name:"",format:Kt(t,Ut(r)),type:t,content:Qt(new Date,t),position:{x:0,y:0},width:50,height:10,rotate:0,alignment:Jt.e4,fontSize:Jt.gI,characterSpacing:Jt.kJ,fontColor:Jt.Kb,fontName:void 0,backgroundColor:"",locale:void 0,opacity:v.q}},icon:a};return o};var Zt=a(31966);const Vt=Yt({type:"dateTime",icon:(0,s.Ci)(Zt.A)});var _t=a(97653);const qt=Yt({type:"date",icon:(0,s.Ci)(_t.A)});var ea=a(84757);const ta=Yt({type:"time",icon:(0,s.Ci)(ea.A)});var aa=a(61449);const ra=(0,s.Ci)(aa.A),oa={ui:async e=>{const{schema:t,value:a,onChange:r,rootElement:o,mode:n}=e;if(await f.A.ui(Object.assign(e,{mode:"viewer"})),"viewer"!==n&&("form"!==n||!t.readOnly)){const e=30,n=document.createElement("button");n.innerHTML=ra;const i={position:"absolute",zIndex:-1,right:`-${e}px`,top:"0",padding:"0",margin:"0",cursor:"pointer",height:`${e}px`,width:`${e}px`};Object.assign(n.style,i),o.appendChild(n);const c=document.createElement("select"),l={opacity:"0",position:"absolute",width:`calc(100% + ${e}px)`,height:"100%",top:"0",left:"0",appearance:"initial"};Object.assign(c.style,l),c.value=a,c.addEventListener("change",(e=>{r&&e.target instanceof HTMLSelectElement&&r&&r({key:"content",value:e.target.value})})),c.innerHTML=t.options.map((e=>`<option value="${e}" ${e===a?"selected":""}>${e}</option>`)).join(""),o.appendChild(c)}},pdf:f.A.pdf,propPanel:{...f.A.propPanel,widgets:{...n.e.widgets,addOptions:e=>{const{rootElement:t,changeSchemas:a,activeSchema:r,i18n:o}=e;t.style.width="100%";const n=r,i=n.options?[...n.options]:[],c={width:"100%",padding:"6.25px 11px",border:"1px solid #ccc",borderRadius:"4px"},l={border:"none",borderRadius:"4px",cursor:"pointer"},s=()=>{a([{key:"options",value:i,schemaId:r.id},{key:"content",value:i[0]||"",schemaId:r.id}])},d=document.createElement("div");Object.assign(d.style,{width:"100%",display:"flex",alignItems:"center",marginBottom:"10px"});const p=document.createElement("input");p.type="text",p.placeholder=o("schemas.select.optionPlaceholder"),Object.assign(p.style,c,{marginRight:"10px"});const h=document.createElement("button");h.textContent="+",Object.assign(h.style,l,{width:"25px",height:"25px",padding:"4px 8px"}),h.addEventListener("click",(()=>{const e=p.value.trim();e&&(i.push(e),s(),g(),p.value="")})),d.appendChild(p),d.appendChild(h);const u=document.createElement("ul");Object.assign(u.style,{listStyle:"none",padding:"0"});const g=()=>{u.innerHTML="",i.forEach(((e,t)=>{const a=document.createElement("li");Object.assign(a.style,{display:"flex",alignItems:"center",marginBottom:"5px"});const r=document.createElement("input");r.type="text",r.value=e,Object.assign(r.style,c,{marginRight:"10px"}),r.addEventListener("change",(()=>{i[t]=r.value,s()}));const o=document.createElement("button");o.textContent="x",Object.assign(o.style,l,{padding:"4px 8px"}),o.addEventListener("click",(()=>{i.splice(t,1),s(),g()})),a.appendChild(r),a.appendChild(o),u.appendChild(a)}))};t.appendChild(d),t.appendChild(u),g()}},schema:e=>{if("function"!=typeof n.e.schema)throw Error("Oops, is text schema no longer a function?");return{...n.e.schema(e),"-------":{type:"void",widget:"Divider"},optionsContainer:{title:e.i18n("schemas.select.options"),type:"string",widget:"Card",span:24,properties:{options:{widget:"addOptions",span:24}}}}},defaultSchema:{...f.A.propPanel.defaultSchema,type:"select",content:"option1",options:["option1","option2"]}},icon:ra},na=oa;var ia=a(14373);const ca="currentColor",la=function(e){return void 0===e&&(e=ca),(0,s.Ci)(ia.A,{stroke:e})},sa=e=>{let{value:t,color:a}=e;return"true"===t?la(a):(void 0===(r=a)&&(r=ca),(0,s.Ci)(Z.A,{stroke:r}));var r},da=new EventTarget,pa=new Map,ha=new Map,ua={ui:e=>{const{schema:t,value:a,onChange:r,rootElement:o,mode:n}=e,i=document.createElement("div");i.style.width="100%",i.style.height="100%",r&&pa.set(t.name,{value:a,onChange:r});const c=ha.get(t.name);c&&da.removeEventListener(`group-${t.group}`,c);const l=e=>{if(e.detail!==t.name){const e=pa.get(t.name);if(!e)return;"true"===e.value&&e.onChange({key:"content",value:"false"})}};ha.set(t.name,l),da.addEventListener(`group-${t.group}`,l),(0,s.Xl)(n,t)&&i.addEventListener("click",(()=>{"true"!==a&&r&&(r({key:"content",value:"true"}),pa.set(t.name,{value:"true",onChange:r}),da.dispatchEvent(new CustomEvent(`group-${t.group}`,{detail:t.name})))})),$.ui({...e,rootElement:i,mode:"viewer",value:sa({value:a,color:t.color})}),o.appendChild(i)},pdf:e=>$.pdf(Object.assign(e,{value:sa({value:e.value,color:e.schema.color})})),propPanel:{schema:e=>{let{i18n:t}=e;return{color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},required:!0,rules:[{pattern:v.p,message:t("validation.hexColor")}]},group:{title:t("schemas.radioGroup.groupName"),type:"string"}}},defaultSchema:{name:"",type:"radioGroup",content:"false",position:{x:0,y:0},width:8,height:8,group:"MyGroup",color:"#000000"}},icon:la()},ga=ua;var ma=a(14405);const fa="currentColor",ba=function(e){return void 0===e&&(e=fa),(0,s.Ci)(ma.A,{stroke:e})},ya=e=>{let{value:t,color:a}=e;return"true"===t?ba(a):(void 0===(r=a)&&(r=fa),(0,s.Ci)(Y.A,{stroke:r}));var r},va={ui:e=>{const{schema:t,value:a,onChange:r,rootElement:o,mode:n}=e,i=document.createElement("div");i.style.width="100%",i.style.height="100%",(0,s.Xl)(n,t)&&i.addEventListener("click",(()=>{r&&r({key:"content",value:"true"===a?"false":"true"})})),$.ui({...e,rootElement:i,mode:"viewer",value:ya({value:a,color:t.color})}),o.appendChild(i)},pdf:e=>$.pdf(Object.assign(e,{value:ya({value:e.value,color:e.schema.color})})),propPanel:{schema:e=>{let{i18n:t}=e;return{color:{title:t("schemas.color"),type:"string",widget:"color",props:{disabledAlpha:!0},required:!0,rules:[{pattern:v.p,message:t("validation.hexColor")}]}}},defaultSchema:{name:"",type:"checkbox",content:"false",position:{x:0,y:0},width:8,height:8,color:"#000000"}},icon:ba()},wa=va,ka={Text:f.A}},23590:(e,t,a)=>{"use strict";a.d(t,{HG:()=>l,HQ:()=>c,Uj:()=>d,gI:()=>n,lZ:()=>s});var r=a(37967),o=a(29777);const n=()=>({fontName:void 0,alignment:r.e4,verticalAlignment:r.ZR,fontSize:r.gI,lineHeight:r.Dj,characterSpacing:r.kJ,fontColor:r.Kb,backgroundColor:"",borderColor:"#888888",borderWidth:{top:.1,bottom:.1,left:.1,right:.1},padding:{top:5,bottom:5,left:5,right:5}}),i=function(e){void 0===e&&(e=1);const t=()=>({type:"number",widget:"inputNumber",props:{min:0,step:e},span:6});return{top:{title:"Top",...t()},right:{title:"Right",...t()},bottom:{title:"Bottom",...t()},left:{title:"Left",...t()}}},c=e=>{const{i18n:t,fallbackFontName:a,fontNames:n,isBody:c}=e;return{fontName:{title:t("schemas.text.fontName"),type:"string",widget:"select",default:a,placeholder:a,props:{options:n.map((e=>({label:e,value:e})))},span:12},fontSize:{title:t("schemas.text.size"),type:"number",widget:"inputNumber",props:{min:0},span:6},characterSpacing:{title:t("schemas.text.spacing"),type:"number",widget:"inputNumber",props:{min:0},span:6},alignment:{title:t("schemas.text.textAlign"),type:"string",widget:"select",props:{options:[{label:t("schemas.left"),value:r.C7},{label:t("schemas.center"),value:r.oM},{label:t("schemas.right"),value:r.t7}]},span:8},verticalAlignment:{title:t("schemas.text.verticalAlign"),type:"string",widget:"select",props:{options:[{label:t("schemas.top"),value:r.JA},{label:t("schemas.middle"),value:r.ZR},{label:t("schemas.bottom"),value:r.zV}]},span:8},lineHeight:{title:t("schemas.text.lineHeight"),type:"number",widget:"inputNumber",props:{step:.1,min:0},span:8},fontColor:{title:t("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:o.p,message:t("validation.hexColor")}]},borderColor:{title:t("schemas.borderColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:o.p,message:t("validation.hexColor")}]},backgroundColor:{title:t("schemas.backgroundColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:o.p,message:t("validation.hexColor")}]},...c?{alternateBackgroundColor:{title:t("schemas.table.alternateBackgroundColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:o.p,message:t("validation.hexColor")}]}}:{},"-":{type:"void",widget:"Divider"},borderWidth:{title:t("schemas.borderWidth"),type:"object",widget:"lineTitle",span:24,properties:i(.1)},"--":{type:"void",widget:"Divider"},padding:{title:t("schemas.padding"),type:"object",widget:"lineTitle",span:24,properties:i()}}},l=e=>{let{head:t,i18n:a}=e;return{alignment:{type:"object",widget:"lineTitle",title:a("schemas.text.textAlign"),column:3,properties:t.reduce(((e,t,o)=>Object.assign(e,{[o]:{title:t||"Column "+String(o+1),type:"string",widget:"select",props:{options:[{label:a("schemas.left"),value:r.C7},{label:a("schemas.center"),value:r.oM},{label:a("schemas.right"),value:r.t7}]}}})),{})}}},s=e=>"string"==typeof e?JSON.parse(e||"[]"):e||[],d=(e,t)=>{const a=s(e);return t?a.slice(t.start,t.end):a}},85142:(e,t,a)=>{"use strict";a.d(t,{v:()=>m});var r=a(63489),o=a(57664);class n{constructor(e,t,a){Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"styles",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"section",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"wrappedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minReadableWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.styles=t,this.section=a,this.raw=e;this.text=e.split(/\r\n|\r|\n/g)}getContentHeight(){const e=(Array.isArray(this.text)?this.text.length:1)*((0,r.Bn)(this.styles.fontSize)*this.styles.lineHeight)+(this.padding("top")+this.padding("bottom"));return Math.max(e,this.styles.minCellHeight)}padding(e){return this.styles.cellPadding[e]}}class i{constructor(e){Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"wrappedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minReadableWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"minWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.index=e}getMaxCustomCellWidth(e){let t=0;for(const a of e.allRows()){const e=a.cells[this.index];t=Math.max(t,e.styles.cellWidth)}return t}}class c{constructor(e,t,a,r){Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"section",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cells",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.raw=e,this.index=t,this.section=a,this.cells=r}getMaxCellHeight(e){return e.reduce(((e,t)=>Math.max(e,this.cells[t.index]?.height||0)),0)}getMinimumRowHeight(e){return e.reduce(((e,t)=>{const a=this.cells[t.index];if(!a)return 0;const r=a.padding("top")+a.padding("bottom")+a.styles.lineHeight;return r>e?r:e}),0)}}class l{constructor(e,t){Object.defineProperty(this,"settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"styles",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"columns",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"head",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.settings=e.settings,this.styles=e.styles,this.columns=t.columns,this.head=t.head,this.body=t.body}static async create(e){const{input:t,content:a,font:n,_cache:i}=e,c=new l(t,a);return await async function(e){const{table:t,font:a,_cache:n}=e,i=e=>(0,o.Jz)(e,a,n);await async function(e,t){for(const a of e.allRows())for(const r of e.columns){const e=a.cells[r.index];if(!e)continue;const o=e.padding("right")+e.padding("left"),n=await t(e.styles.fontName);e.contentWidth=d(e,n)+o;const i=d(Object.assign(e,{text:e.text.join(" ").split(/\s+/)}),n);e.minReadableWidth=i+o,e.minWidth=e.styles.cellWidth,e.wrappedWidth=e.styles.cellWidth}for(const a of e.allRows())for(const t of e.columns){const r=a.cells[t.index];if(r)t.wrappedWidth=Math.max(t.wrappedWidth,r.wrappedWidth),t.minWidth=Math.max(t.minWidth,r.minWidth),t.minReadableWidth=Math.max(t.minReadableWidth,r.minReadableWidth);else{const a=e.styles.columnStyles[t.index]||{},r=a.cellWidth||a.minCellWidth;r&&(t.minWidth=r,t.wrappedWidth=r)}}}(t,i);const c=[];let l=0;t.columns.forEach((e=>{const a=e.getMaxCustomCellWidth(t);a?e.width=a:(e.width=e.wrappedWidth,c.push(e)),l+=e.width}));let p=t.getWidth()-l;p&&(p=s(c,p,(e=>Math.max(e.minReadableWidth,e.minWidth))));p&&(p=s(c,p,(e=>e.minWidth)));p=Math.abs(p),function(e){const t=e.allRows();for(let a=0;a<t.length;a++){const r=t[a];let o=null,n=0,i=0;for(let t=0;t<e.columns.length;t++){const a=e.columns[t];if(i-=1,i>1&&e.columns[t+1])n+=a.width,delete r.cells[a.index];else if(o){const e=o;delete r.cells[a.index],o=null,e.width=a.width+n}else{const e=r.cells[a.index];if(!e)continue;i=1,n=0,e.width=a.width+n}}}}(t),await async function(e,t){const a={count:0,height:0};for(const n of e.allRows()){for(const i of e.columns){const e=n.cells[i.index];if(!e)continue;const c=await t(e.styles.fontName);e.text=(0,o.gX)({value:e.raw,characterSpacing:e.styles.characterSpacing,boxWidthInPt:(0,r.JX)(e.width),fontSize:e.styles.fontSize,fontKitFont:c}),e.contentHeight=e.getContentHeight();let l=e.contentHeight;a&&a.count>0&&a.height>l&&(l=a.height),l>n.height&&(n.height=l)}a.count--}}(t,i),function(e){const t={};let a=1;const r=e.allRows();for(let o=0;o<r.length;o++){const n=r[o];for(const r of e.columns){const e=t[r.index];if(a>1)a--,delete n.cells[r.index];else if(e)e.cell.height+=n.height,a=1,delete n.cells[r.index],e.left--,e.left<=1&&delete t[r.index];else{const e=n.cells[r.index];if(!e)continue;e.height=n.height}}}}(t)}({table:c,font:n,_cache:i}),c}getHeadHeight(){return this.head.reduce(((e,t)=>e+t.getMaxCellHeight(this.columns)),0)}getBodyHeight(){return this.body.reduce(((e,t)=>e+t.getMaxCellHeight(this.columns)),0)}allRows(){return this.head.concat(this.body)}getWidth(){return this.settings.tableWidth}getHeight(){return(this.settings.showHead?this.getHeadHeight():0)+this.getBodyHeight()}}function s(e,t,a){const r=t,o=e.reduce(((e,t)=>e+t.wrappedWidth),0);for(let n=0;n<e.length;n++){const i=e[n],c=r*(i.wrappedWidth/o),l=i.width+c,s=a(i),d=l<s?s:l;t-=d-i.width,i.width=d}if(t=Math.round(1e10*t)/1e10){const r=e.filter((e=>!(t<0)||e.width>a(e)));r.length&&(t=s(r,t,a))}return t}function d(e,t){const a=e.text,r=Array.isArray(a)?a:[a],n=e.styles.fontSize,i=e.styles.characterSpacing,c=r.map((e=>(0,o.bH)(e,t,n,i))).reduce(((e,t)=>Math.max(e,t)),0);return c}function p(e,t,a,r,o){const i={};return t.map(((t,l)=>{let s=0;const d={};let p=0,u=0;for(const c of a)if(null==i[c.index]||0===i[c.index].left)if(0===u){let a;a=Array.isArray(t)?t[c.index-p-s]:t[c.index];const g=h(e,c,l,r,o),m=new n(a,g,e);d[c.index]=m,u=0,i[c.index]={left:0,times:u}}else u--,p++;else i[c.index].left--,u=i[c.index].times,s++;return new c(t,l,e,d)}))}function h(e,t,a,r,o){let n;"head"===e?n=r.headStyles:"body"===e&&(n=r.bodyStyles);const i=Object.assign({},r.styles,n),c=r.columnStyles[t.index]||r.columnStyles[t.index]||{},l="body"===e&&a%2==0?Object.assign({},r.alternateRowStyles):{},s={fontName:o,backgroundColor:"",textColor:"#000000",lineHeight:1,characterSpacing:0,alignment:"left",verticalAlignment:"middle",fontSize:10,cellPadding:5,lineColor:"#000000",lineWidth:0,minCellHeight:0,minCellWidth:0};return Object.assign(s,i,l,c)}function u(e){return{fontName:e.fontName,alignment:e.alignment,verticalAlignment:e.verticalAlignment,fontSize:e.fontSize,lineHeight:e.lineHeight,characterSpacing:e.characterSpacing,backgroundColor:e.backgroundColor,textColor:e.fontColor,lineColor:e.borderColor,lineWidth:e.borderWidth,cellPadding:e.padding}}function g(e,t){const a=function(e,t){const a=e.headWidthPercentages.reduce(((t,a,r)=>({...t,[r]:{cellWidth:e.width*(a/100)}})),{}),r=Object.entries(e.columnStyles.alignment||{}).reduce(((e,t)=>{let[a,r]=t;return{...e,[a]:{alignment:r}}}),{}),o=new Set([...Object.keys(a).map(Number),...Object.keys(r).map(Number)]),n=Array.from(o).reduce(((e,t)=>{const o=a[t]||{},n=r[t]||{};return{...e,[t]:{...o,...n}}}),{});return{head:[e.head],body:t,showHead:e.showHead,startY:e.position.y,tableWidth:e.width,tableLineColor:e.tableStyles.borderColor,tableLineWidth:e.tableStyles.borderWidth,headStyles:u(e.headStyles),bodyStyles:u(e.bodyStyles),alternateRowStyles:{backgroundColor:e.bodyStyles.alternateBackgroundColor},columnStyles:n,margin:{top:0,right:0,left:e.position.x,bottom:0}}}(e,t),r=function(e){const t={styles:{},headStyles:{},bodyStyles:{},alternateRowStyles:{},columnStyles:{}};for(const a of Object.keys(t))if("columnStyles"===a){const r=e[a];t.columnStyles=Object.assign({},r)}else{const r=[e].map((e=>e[a]||{}));t[a]=Object.assign({},r[0],r[1],r[2])}return t}(a),o={startY:a.startY,margin:a.margin,tableWidth:a.tableWidth,showHead:a.showHead,tableLineWidth:a.tableLineWidth??0,tableLineColor:a.tableLineColor??""},n=function(e){const t=e.head||[],a=e.body||[];return{columns:(t[0]||a[0]||[]).map(((e,t)=>t)),head:t,body:a}}(a);return{content:n,styles:r,settings:o}}function m(e,t){const{options:a,_cache:o,basePdf:n}=t;(0,r.R4)(n)||console.warn("[@pdfme/schema/table]When specifying a custom PDF for basePdf, you cannot use features such as page breaks or re-layout of other elements.To utilize these features, please define basePdf as follows:\n{ width: number; height: number; padding: [number, number, number, number]; }");const c=(0,r.mg)(t.schema),{start:s}=c.__bodyRange||{start:0};if(s%2==1){const e=c.bodyStyles.alternateBackgroundColor;c.bodyStyles.alternateBackgroundColor=c.bodyStyles.backgroundColor,c.bodyStyles.backgroundColor=e}c.showHead=!1!==c.showHead&&!c.__isSplit;const d=g(c,e),h=a.font||(0,r.Ld)(),u=function(e,t){const a=e.content,r=a.columns.map((e=>new i(e))),o=e.styles;return{columns:r,head:p("head",a.head,r,o,t),body:p("body",a.body,r,o,t)}}(d,(0,r.HK)(h));return l.create({input:d,content:u,font:h,_cache:o})}},37967:(e,t,a)=>{"use strict";a.d(t,{C7:()=>o,Dj:()=>h,JA:()=>l,Kb:()=>g,LH:()=>f,X6:()=>v,Yg:()=>k,ZR:()=>s,d5:()=>p,e4:()=>c,fd:()=>w,gI:()=>r,kJ:()=>u,oM:()=>n,oi:()=>m,t7:()=>i,tZ:()=>b,u:()=>y,zV:()=>d});const r=13,o="left",n="center",i="right",c=o,l="top",s="middle",d="bottom",p=l,h=1,u=0,g="#000000",m="#A0A0A0",f="vertical",b="horizontal",y=f,v=4,w=72,k=.25},1689:(e,t,a)=>{"use strict";a.d(t,{Z:()=>v,E:()=>k});var r=a(40700),o=a(27607),n=a(7326),i=a(17334),c=a(31689),l=a(54865),s=a(19080),d=a(92991);const p=(0,d.Ci)(r.A),h=(0,d.Ci)(o.A),u=(0,d.Ci)(n.A),g=(0,d.Ci)(i.A),m=(0,d.Ci)(c.A),f=(0,d.Ci)(l.A),b='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><path d="M8 19h3v4h2v-4h3l-4-4l-4 4zm8-14h-3V1h-2v4H8l4 4l4-4zM4 11v2h16v-2H4z" fill="currentColor"></path></svg>',y=(0,d.Ci)(s.A);var v,w=a(37967);function k(e){const t=[{key:v.STRIKETHROUGH,icon:p,type:"boolean"},{key:v.UNDERLINE,icon:h,type:"boolean"},{key:v.ALIGNMENT,icon:u,type:"select",value:w.e4},{key:v.ALIGNMENT,icon:g,type:"select",value:w.oM},{key:v.ALIGNMENT,icon:m,type:"select",value:w.t7},{key:v.VERTICAL_ALIGNMENT,icon:f,type:"select",value:w.d5},{key:v.VERTICAL_ALIGNMENT,icon:b,type:"select",value:w.ZR},{key:v.VERTICAL_ALIGNMENT,icon:y,type:"select",value:w.zV}];return{title:e("schemas.text.format"),widget:"ButtonGroup",buttons:t,span:17}}!function(e){e.STRIKETHROUGH="strikethrough",e.UNDERLINE="underline",e.ALIGNMENT="alignment",e.VERTICAL_ALIGNMENT="verticalAlignment"}(v||(v={}))},57664:(e,t,a)=>{"use strict";a.d(t,{Cb:()=>d,Jz:()=>h,W7:()=>l,ZB:()=>s,bH:()=>p,gX:()=>b,gm:()=>y,uA:()=>f});var r=a(64008),o=a(63489),n=a(34090),i=a(38891),c=a(37967);const l=(e,t,a,r)=>{const{ascent:n,descent:i,unitsPerEm:l}=e,s=(n-i)/l,d=(s*t-t)/2;if(r===c.JA)return{topAdj:(0,o.Lz)(d),bottomAdj:0};let p=0;return a<s&&(p=(s-a)*t/2),{topAdj:0,bottomAdj:(0,o.Lz)(p)}},s=(e,t)=>{const{descent:a,unitsPerEm:r}=e;return a/r*t},d=(e,t)=>{const{ascent:a,descent:r,bbox:o,unitsPerEm:n}=e,i=1e3/n;let c=(a||o.maxY)*i-(r||o.minY)*i;return c-=Math.abs(r*i)||0,c/1e3*t},p=(e,t,a,r)=>{const{glyphs:o}=t.layout(e),n=1e3/t.unitsPerEm;return o.reduce(((e,t)=>e+t.advanceWidth*n),0)*(a/1e3)+(i=r,(e.length-1)*i);var i},h=async(e,t,a)=>{const c=e||(0,o.HK)(t),l=(e=>`getFontKitFont-${e}`)(c);if(a.has(l))return a.get(l);const s=t[c]||(e=>e[(0,o.HK)(e)])(t)||(0,o.Ld)()[n.eG];let d=s.data;"string"==typeof d&&(d=d.startsWith("http")?await fetch(d).then((e=>e.arrayBuffer())):(0,o.Z5)(d));const p=r.create(d instanceof i.hp?d:i.hp.from(d));return a.set(l,p),p},u=(e,t)=>{const{font:a,fontSize:r,characterSpacing:o,boxWidthInPt:n}=t;return p(e,a,r,o)>n},g=(e,t)=>{const a=((e,t)=>{for(let a=0;a<=e.length;a++)if(u(e.slice(0,a+1),t))return a;return null})(e,t);if(null===a)return e.length;if(" "===e[a])return a;let r=a-1;for(;r>=0;){if(o=e[r],[" ","-","\u2014","\u2013"].includes(o))return r+1;r--}var o;return a},m=(e,t)=>{const a=g(e,t),r=e.substring(0,a).trimEnd(),o=e.substring(a).trimStart();return o===e?[e]:0===o.length?[r]:[r,...m(o,t)]},f=async e=>{let{textSchema:t,font:a,value:r,startingFontSize:n,_cache:i}=e;const{fontSize:l,dynamicFontSize:s,characterSpacing:u,width:g,height:f,lineHeight:b=c.Dj}=t,y=n||l||c.gI;if(!s)return y;if(s.max<s.min)return y;const v=u??c.kJ,w=await h(t.fontName,a,i),k=r.split("\n");let x=y;x<s.min?x=s.min:x>s.max&&(x=s.max);const C=s.fit??c.u,A=e=>{let t=0,a=0;const r=(0,o.JX)(g),n=d(w,e),i=(0,o.Bn)(n*b),l=(0,o.Bn)(e*b);return k.forEach(((n,s)=>{if(m(n,{font:w,fontSize:e,characterSpacing:v,boxWidthInPt:r}).forEach(((r,n)=>{if(C===c.LH){const a=p(r,w,e,v),n=(0,o.Bn)(a);t=Math.max(t,n)}a+=s+n===0?i:l})),C===c.tZ){const a=p(n,w,e,v),r=(0,o.Bn)(a);t=Math.max(t,r)}})),{totalWidthInMm:t,totalHeightInMm:a}},S=(e,t)=>!(x>=s.max)&&(C===c.tZ?e<g:t<f),E=(e,t)=>!(x<=s.min||x<=0)&&(e>g||t>f);let{totalWidthInMm:L,totalHeightInMm:I}=A(x);for(;S(L,I);){x+=c.Yg;const{totalWidthInMm:e,totalHeightInMm:t}=A(x);if(!(t<f)){x-=c.Yg;break}L=e,I=t}for(;E(L,I);)x-=c.Yg,({totalWidthInMm:L,totalHeightInMm:I}=A(x));return x},b=e=>{const{value:t,characterSpacing:a,fontSize:r,fontKitFont:o,boxWidthInPt:n}=e,i={font:o,fontSize:r,characterSpacing:a,boxWidthInPt:n};let c=[];return t.split(/\r\n|\r|\n|\f|\u000B/g).forEach((e=>{c=c.concat(m(e,i))})),c},y=()=>navigator.userAgent.toLowerCase().indexOf("firefox")>-1},51838:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(63760),o=a(96479),n=a(558),i=a(9102),c=a(92991);const l={pdf:r.f,ui:n.nW,propPanel:o.e,icon:(0,c.Ci)(i.A)}},63760:(e,t,a)=>{"use strict";a.d(t,{f:()=>s});var r=a(63489),o=a(37967),n=a(57664),i=a(92991);const c=async e=>{const{pdfDoc:t,font:a,_cache:r}=e;if(r.has(t))return r.get(t);const o=await Promise.all(Object.values(a).map((async e=>{let a=e.data;return"string"==typeof a&&a.startsWith("http")&&(a=await fetch(a).then((e=>e.arrayBuffer()))),t.embedFont(a,{subset:void 0===e.subset||e.subset})}))),n=Object.keys(a).reduce(((e,t,a)=>Object.assign(e,{[t]:o[a]})),{});return r.set(t,n),n},l=async e=>{let{value:t,font:a,schema:r,colorType:c,_cache:l}=e;const s=r.dynamicFontSize?await(0,n.uA)({textSchema:r,font:a,value:t,_cache:l}):r.fontSize??o.gI,d=(0,i.gD)(r.fontColor||o.Kb,c);return{alignment:r.alignment??o.e4,verticalAlignment:r.verticalAlignment??o.d5,lineHeight:r.lineHeight??o.Dj,characterSpacing:r.characterSpacing??o.kJ,fontSize:s,color:d}},s=async e=>{const{value:t,pdfDoc:a,pdfLib:s,page:d,options:p,schema:h,_cache:u}=e;if(!t)return;const{font:g=(0,r.Ld)(),colorType:m}=p,[f,b,y]=await Promise.all([c({pdfDoc:a,font:g,_cache:u}),(0,n.Jz)(h.fontName,g,u),l({value:t,font:g,schema:h,_cache:u,colorType:m})]),{fontSize:v,color:w,alignment:k,verticalAlignment:x,lineHeight:C,characterSpacing:A}=y,S=h.fontName?h.fontName:(0,r.HK)(g),E=f&&f[S],L=d.getHeight(),{width:I,height:j,rotate:P,position:{x:O,y:z},opacity:H}=(0,i.hY)({schema:h,pageHeight:L,applyRotateTranslate:!1});if(h.backgroundColor){const e=(0,i.gD)(h.backgroundColor,m);d.drawRectangle({x:O,y:z,width:I,height:j,rotate:P,color:e})}d.pushOperators(s.setCharacterSpacing(A??o.kJ));const R=(0,n.Cb)(b,v),N=(0,n.ZB)(b,v),W=0===C?0:(C-1)*v/2,M=(0,n.gX)({value:t,characterSpacing:A,fontSize:v,fontKitFont:b,boxWidthInPt:I});let D=0;if(x===o.JA)D=R+W;else{const e=C*v*(M.length-1);x===o.zV?D=j-e+N-W:x===o.ZR&&(D=(j-e-R+N)/2+R)}const T={x:O+I/2,y:L-(0,r.JX)(h.position.y)-j/2};M.forEach(((e,t)=>{const a=(0,n.bH)(e,b,v,A),o=(0,n.Cb)(b,v),c=C*v*t;let l=O;"center"===k?l+=(I-a)/2:"right"===k&&(l+=I-a);let s=L-(0,r.JX)(h.position.y)-D-c;if(h.strikethrough&&a>0){const e=l+a+1,t=s+o/3;d.drawLine({start:(0,i.sR)({x:l,y:t},T,P.angle),end:(0,i.sR)({x:e,y:t},T,P.angle),thickness:1/12*v,color:w,opacity:H})}if(h.underline&&a>0){const e=l+a+1,t=s-o/12;d.drawLine({start:(0,i.sR)({x:l,y:t},T,P.angle),end:(0,i.sR)({x:e,y:t},T,P.angle),thickness:1/12*v,color:w,opacity:H})}if(0!==P.angle){const e=(0,i.sR)({x:l,y:s},T,P.angle);l=e.x,s=e.y}d.drawText(e,{x:l,y:s,rotate:P,size:v,color:w,lineHeight:C*v,font:E,opacity:H})}))}},96479:(e,t,a)=>{"use strict";a.d(t,{e:()=>l});var r=a(34090),o=a(63489),n=a(37967),i=a(29777),c=a(1689);const l={schema:e=>{let{options:t,activeSchema:a,i18n:l}=e;const s=t.font||{[r.eG]:{data:"",fallback:!0}},d=Object.keys(s),p=(0,o.HK)(s),h=Boolean(a?.dynamicFontSize);return{fontName:{title:l("schemas.text.fontName"),type:"string",widget:"select",default:p,placeholder:p,props:{options:d.map((e=>({label:e,value:e})))},span:12},fontSize:{title:l("schemas.text.size"),type:"number",widget:"inputNumber",span:6,disabled:h,props:{min:0}},characterSpacing:{title:l("schemas.text.spacing"),type:"number",widget:"inputNumber",span:6,props:{min:0}},formatter:(0,c.E)(l),lineHeight:{title:l("schemas.text.lineHeight"),type:"number",widget:"inputNumber",props:{step:.1,min:0},span:7},useDynamicFontSize:{type:"boolean",widget:"UseDynamicFontSize",bind:!1,span:16},dynamicFontSize:{type:"object",widget:"card",column:3,properties:{min:{title:l("schemas.text.min"),type:"number",widget:"inputNumber",hidden:!h,props:{min:0}},max:{title:l("schemas.text.max"),type:"number",widget:"inputNumber",hidden:!h,props:{min:0}},fit:{title:l("schemas.text.fit"),type:"string",widget:"select",hidden:!h,props:{options:[{label:l("schemas.horizontal"),value:n.tZ},{label:l("schemas.vertical"),value:n.LH}]}}}},fontColor:{title:l("schemas.textColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:i.p,message:l("validation.hexColor")}]},backgroundColor:{title:l("schemas.bgColor"),type:"string",widget:"color",props:{disabledAlpha:!0},rules:[{pattern:i.p,message:l("validation.hexColor")}]}}},widgets:{UseDynamicFontSize:e=>{const{rootElement:t,changeSchemas:a,activeSchema:r,i18n:o}=e,i=document.createElement("input");i.type="checkbox",i.checked=Boolean(r?.dynamicFontSize),i.onchange=e=>{const t=e.target.checked?{min:n.X6,max:n.fd,fit:n.u}:void 0;a([{key:"dynamicFontSize",value:t,schemaId:r.id}])};const c=document.createElement("label"),l=document.createElement("span");l.innerText=o("schemas.text.dynamicFontSize")||"",l.style.cssText="margin-left: 0.5rem",c.style.cssText="display: flex; width: 100%;",c.appendChild(i),c.appendChild(l),t.appendChild(c)}},defaultSchema:{name:"",type:"text",content:"Type Something...",position:{x:0,y:0},width:45,height:10,rotate:0,alignment:n.e4,verticalAlignment:n.d5,fontSize:n.gI,lineHeight:n.Dj,characterSpacing:n.kJ,dynamicFontSize:void 0,fontColor:n.Kb,fontName:void 0,backgroundColor:"",opacity:i.q,strikethrough:!1,underline:!1}}},558:(e,t,a)=>{"use strict";a.d(t,{N4:()=>d,OT:()=>s,nW:()=>l,ut:()=>p});var r=a(63489),o=a(37967),n=a(57664),i=a(92991);const c=(e,t)=>{const a={};return e.split(/(\r\n|\n|\r)/).map((e=>/\r\n|\n|\r/.test(e)?e:e.split("").map((e=>/\s/.test(e)||e.charCodeAt(0)<32||(e=>{if(e in a)return a[e];const r=t.hasGlyphForCodePoint(e.codePointAt(0)||0);return a[e]=r,r})(e)?e:"\u303f")).join(""))).join("")},l=async e=>{const{value:t,schema:a,mode:l,onChange:p,stopEditing:h,tabIndex:u,placeholder:g,options:m,_cache:f}=e,b=(0,i.Xl)(l,a)&&g&&!t,y=e=>{let t=e.innerText;return t.endsWith("\n")&&(t=t.slice(0,-1)),t},v=m?.font||(0,r.Ld)(),[w,k]=await Promise.all([(0,n.Jz)(a.fontName,v,f),s(e,b?g:t)]),x=c(t,w);if((0,i.Xl)(l,a)){if(d(k),k.tabIndex=u||0,k.innerText="designer"===l?t:x,k.addEventListener("blur",(e=>{p&&p({key:"content",value:y(e.target)}),h&&h()})),a.dynamicFontSize){let e;const t=m?.font||(0,r.Ld)(),i=await(0,n.Jz)(a.fontName,t,f);k.addEventListener("keyup",(()=>{setTimeout((()=>{(async()=>{if(!k.textContent)return;e=await(0,n.uA)({textSchema:a,font:t,value:y(k),startingFontSize:e,_cache:f}),k.style.fontSize=`${e}pt`;const{topAdj:r,bottomAdj:c}=(0,n.W7)(i,e??a.fontSize??o.gI,a.lineHeight??o.Dj,a.verticalAlignment??o.d5);k.style.paddingTop=`${r}px`,k.style.marginBottom=`${c}px`})()}),0)}))}b&&(k.style.color=o.oi,k.addEventListener("focus",(()=>{k.innerText===g&&(k.innerText="",k.style.color=a.fontColor??o.Kb)}))),"designer"===l&&setTimeout((()=>{k.focus();const e=window.getSelection(),t=document.createRange();e&&t&&(t.selectNodeContents(k),t.collapse(!1),e?.removeAllRanges(),e?.addRange(t))}))}else k.innerHTML=x.split("").map(((e,a)=>`<span style="letter-spacing:${String(t).length===a+1?0:"inherit"};">${e}</span>`)).join("")},s=async(e,t)=>{const{schema:a,rootElement:c,mode:l,options:s,_cache:d}=e,u=s?.font||(0,r.Ld)();let g;a.dynamicFontSize&&t&&(g=await(0,n.uA)({textSchema:a,font:u,value:t,startingFontSize:g,_cache:d}));const m=await(0,n.Jz)(a.fontName,u,d),{topAdj:f,bottomAdj:b}=(0,n.W7)(m,g??a.fontSize??o.gI,a.lineHeight??o.Dj,a.verticalAlignment??o.d5),y=f.toString(),v=b.toString(),w=document.createElement("div"),k={padding:0,resize:"none",backgroundColor:h(t,a),border:"none",display:"flex",flexDirection:"column",justifyContent:p(a.verticalAlignment),width:"100%",height:"100%",cursor:(0,i.Xl)(l,a)?"text":"default"};Object.assign(w.style,k),c.innerHTML="",c.appendChild(w);const x=[];a.strikethrough&&x.push("line-through"),a.underline&&x.push("underline");const C={fontFamily:a.fontName?`'${a.fontName}'`:"inherit",color:a.fontColor?a.fontColor:o.Kb,fontSize:`${g??a.fontSize??o.gI}pt`,letterSpacing:`${a.characterSpacing??o.kJ}pt`,lineHeight:`${a.lineHeight??o.Dj}em`,textAlign:a.alignment??o.e4,whiteSpace:"pre-wrap",wordBreak:"break-word",resize:"none",border:"none",outline:"none",marginBottom:`${v}px`,paddingTop:`${y}px`,backgroundColor:"transparent",textDecoration:x.join(" ")},A=document.createElement("div");return A.id="text-"+String(a.id),Object.assign(A.style,C),w.appendChild(A),A},d=e=>{(0,n.gm)()?(e.contentEditable="true",e.addEventListener("keydown",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),document.execCommand("insertLineBreak",!1,void 0))})),e.addEventListener("paste",(e=>{e.preventDefault();const t=e.clipboardData?.getData("text"),a=window.getSelection();a?.rangeCount&&(a.deleteFromDocument(),a.getRangeAt(0).insertNode(document.createTextNode(t||"")),a.collapseToEnd())}))):e.contentEditable="plaintext-only"},p=e=>{switch(e){case o.JA:return"flex-start";case o.ZR:return"center";case o.zV:return"flex-end"}return"flex-start"},h=(e,t)=>e&&t.backgroundColor?t.backgroundColor:"transparent"},92991:(e,t,a)=>{"use strict";a.d(t,{gs:()=>d,hY:()=>c,rA:()=>m,Ci:()=>f,LR:()=>s,gD:()=>u,Xl:()=>p,TA:()=>g,sR:()=>l});var r=a(38640),o=a(63489),n=a(85142),i=a(23590);const c=e=>{let{schema:t,pageHeight:a,applyRotateTranslate:n=!0}=e;const{width:i,height:c,position:s,rotate:d,opacity:p}=t,{x:h,y:u}=s,g=d?-d:0,m=(0,o.JX)(i),f=(0,o.JX)(c);let b=(0,o.JX)(h),y=a-(0,o.JX)(u)-f;if(g&&n){const e={x:b+m/2,y:a-(0,o.JX)(u)-f/2},t=l({x:b,y:y},e,g);b=t.x,y=t.y}return{position:{x:b,y:y},height:f,width:m,rotate:(0,r.degrees)(g),opacity:p}},l=(e,t,a)=>{const o=(0,r.degreesToRadians)(a);return{x:Math.cos(o)*(e.x-t.x)-Math.sin(o)*(e.y-t.y)+t.x,y:Math.sin(o)*(e.x-t.x)+Math.cos(o)*(e.y-t.y)+t.y}},s=async(e,t)=>{if("table"!==t.schema.type)return Promise.resolve([t.schema.height]);const a=t.schema,r=0===a.__bodyRange?.start?(0,i.lZ)(e):(0,i.Uj)(e,a.__bodyRange),o=await(0,n.v)(r,t);return a.showHead?o.allRows().map((e=>e.height)):[0].concat(o.body.map((e=>e.height)))},d=(e,t)=>{if(!/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/i.test(e))throw new Error("Invalid HEX color code");let a=Math.round(t/100*255).toString(16);return 1===a.length&&(a="0"+a),e+a},p=(e,t)=>"designer"===e||"form"===e&&!0!==t.readOnly,h=e=>{if(e){if(!(0,o._q)(e))throw new Error(`Invalid hex color value ${e}`);const[a,n,i]=("#"===(t=e).slice(0,1)&&(t=t.slice(1)),3===t.length&&(t=t.slice(0,1)+t.slice(0,1)+t.slice(1,2)+t.slice(1,2)+t.slice(2,3)+t.slice(2,3)),[t.slice(0,2),t.slice(2,4),t.slice(4,6)].map((e=>parseInt(e,16))));return(0,r.rgb)(a/255,n/255,i/255)}var t},u=(e,t)=>"object"==typeof e?e:"cmyk"==t?.toLowerCase()?(e=>{if(e){if(!(0,o._q)(e))throw new Error(`Invalid hex color value ${e}`);const t=(e=e.replace("#","")).substring(0,6),a=e.substring(6,8),n=a?parseInt(a,16)/255:1;let i=parseInt(t.substring(0,2),16)/255,c=parseInt(t.substring(2,4),16)/255,l=parseInt(t.substring(4,6),16)/255;i=i*n+(1-n),c=c*n+(1-n),l=l*n+(1-n);const s=1-Math.max(i,c,l),d=0===i?0:(1-i-s)/(1-s),p=0===c?0:(1-c-s)/(1-s),h=0===l?0:(1-l-s)/(1-s);return(0,r.cmyk)(d,p,h,s)}})(e):h(e),g=e=>new Promise(((t,a)=>{const r=new FileReader;r.onload=e=>{e.target?.result&&t(e.target.result)},r.onerror=e=>{a(new Error("[@pdfme/schemas] File reading failed"))};let o=null;e instanceof FileList&&e.length>0?o=e[0]:e instanceof File&&(o=e),o?r.readAsDataURL(o):a(new Error("[@pdfme/schemas] No files provided"))})),m=()=>{const e=document.createElement("div");Object.assign(e.style,{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"});const t=document.createElement("span");return Object.assign(t.style,{color:"white",background:"red",padding:"0.25rem",fontSize:"12pt",fontWeight:"bold",borderRadius:"2px",fontFamily:"'Open Sans', sans-serif"}),t.textContent="ERROR",e.appendChild(t),e},f=(e,t)=>{const a=e=>{const[r,o,n=[]]=e,i="svg"===r?{...o,...t}:o;return`<${r} ${Object.entries(i).map((e=>{let[t,a]=e;return`${t}="${a}"`})).join(" ")}>${n.map((e=>a(e))).join("")}</${r}>`};return a(e)}},41008:()=>{},81013:()=>{},77156:()=>{},35664:()=>{},39530:()=>{}}]);